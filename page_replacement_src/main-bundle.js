(()=>{"use strict";var e={498:function(e,t,l){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(l(429));t.default=class{constructor(e){this.visible=!1,this.playing=!1,this.speed=1,this.GUI=null,this.MENU=null,this.play_pause_button=null,this.step_button=null,this.stop_button=null,this.speed_slider=null,this.info_algorithm=null,this.info_time=null,this.info_is_done=null,this.info_in_queue=null,this.info_finished=null,this.info_total_page_faults=null,this.info_total_page_hits=null,this.frame_rows=[],this.see_code_button=null,this.storedSetInterval=null,this.menu=e}init(){this.GUI=document.getElementById("animation_gui"),this.MENU=document.getElementById("settings"),this.play_pause_button=document.getElementById("animation_play_pause"),this.step_button=document.getElementById("animation_step"),this.stop_button=document.getElementById("animation_stop"),this.speed_slider=document.getElementById("animation_speed_slider"),this.info_algorithm=document.getElementById("animation_info_algorithm_value"),this.info_time=document.getElementById("animation_info_time_value"),this.info_is_done=document.getElementById("animation_is_done"),this.info_in_queue=document.getElementById("calls_in_queue_value"),this.info_finished=document.getElementById("calls_finished_value"),this.info_total_page_faults=document.getElementById("total_page_faults_value"),this.info_total_page_hits=document.getElementById("total_page_hits_value"),this.see_code_button=document.getElementById("code_button"),this.info_is_done.style.display="none",this.play_pause_button.addEventListener("click",(()=>{this.togglePlaying()})),this.step_button.addEventListener("click",(()=>{this.step()})),this.stop_button.addEventListener("click",(()=>{this.toggleVisible(!1)})),this.speed_slider.addEventListener("input",(()=>{this.speed=parseInt(this.speed_slider.value),this.refreshSpeed()})),this.see_code_button.addEventListener("click",(()=>{if(null==this.menu.memory.algorithm)return;const e=this.menu.memory.algorithm.name;window.open(`https://github.com/brun0ne/scheduling-sim/blob/main/page_replacement_src/classes/algorithms/${e}.ts`,"_blank").focus()})),this.refreshSpeed(),this.initStateTable()}togglePlaying(e){this.playing=null==e?!this.playing:e,this.refreshSpeed(),this.play_pause_button.innerHTML=this.playing?"Pause":"Play"}toggleVisible(e){this.visible=null==e?!this.visible:e,this.visible?(this.GUI.style.display="block",this.MENU.style.display="none",this.menu.display.resizeCallback=()=>{this.drawCurrentState()},this.drawCurrentState()):(this.GUI.style.display="none",this.MENU.style.display="flex",null!=this.storedSetInterval&&clearInterval(this.storedSetInterval),this.menu.display.resizeCallback=()=>{this.menu.refreshCalls()},this.menu.refreshCalls())}reset(){if(null==this.play_pause_button||null==this.info_is_done||null==this.step_button)throw new Error("call init() first!");this.menu.memory.init(),this.play_pause_button.innerHTML="Play",this.playing=!1,this.info_is_done.style.display="none",this.play_pause_button.disabled=!1,this.step_button.disabled=!1,this.initStateTable()}startAnimation(){this.reset(),this.toggleVisible(!0)}drawCurrentState(){this.refreshInfo(),this.drawCalls()}initStateTable(){const e=document.getElementById("animation_table_time"),t=document.getElementById("animation_table_page_calls"),l=document.getElementById("animation_table_body");e.innerHTML="",t.innerHTML="";{const t=document.createElement("th");t.innerHTML="Time",t.classList.add("header"),e.appendChild(t)}{const e=document.createElement("th");e.innerHTML="Page calls",e.classList.add("header"),t.appendChild(e)}{for(;null!=l.lastChild&&"animation_table_page_calls"!=l.lastChild.id;)l.removeChild(l.lastChild);const e=[];for(let t=0;t<this.menu.memory.number_of_frames;t++){const i=document.createElement("tr"),s=document.createElement("th");s.innerHTML=`Frame ${t}`,i.appendChild(s),e.push(i),l.appendChild(i)}this.frame_rows=e}}drawCalls(e,t,l,i,a){const n=document.getElementById("animation_table_time"),r=document.getElementById("animation_table_page_calls"),o=this.menu.memory.previous_page_calls.at(-1);if(null==o)return;{const e=document.createElement("th");e.innerHTML=`${this.menu.memory.time}`,n.appendChild(e)}{const e=document.createElement("th");e.innerHTML=`${o.id}`,r.appendChild(e)}for(let e=0;e<this.menu.memory.number_of_frames;e++){const t=this.frame_rows[e],l=this.menu.memory.frames[e].page,i=document.createElement("th");if(i.innerHTML=`${null!=l?l.id:""}`,this.menu.memory.algorithm instanceof s.default){const t=this.menu.memory.algorithm.bit_array[e];i.innerHTML+=` <span style='color: yellow; font-size: 80%'>(${t?1:0})</span>`}null!=l&&l.id==o.id&&this.menu.memory.last_call_caused_fault&&(i.style.backgroundColor="red"),t.appendChild(i)}const u=document.getElementById("animation_call_table");u.scrollLeft=u.scrollWidth}refreshInfo(){const e=this.menu.memory;if(null==e.algorithm)throw new Error("call startAnimation() first!");this.info_algorithm.innerHTML=e.algorithm.name,this.info_time.innerHTML=e.time.toString(),e.isFinished()?this.info_is_done.style.display="block":this.info_is_done.style.display="none",this.info_total_page_hits.innerHTML=(e.previous_page_calls.length-e.total_page_faults).toString(),this.info_total_page_faults.innerHTML=e.total_page_faults.toString(),this.info_in_queue.innerHTML=e.page_call_queue.length.toString(),this.info_finished.innerHTML=e.previous_page_calls.length.toString()}refreshSpeed(){null!=this.storedSetInterval&&clearInterval(this.storedSetInterval),this.storedSetInterval=setInterval((()=>{this.playing&&this.step()}).bind(this),1e3/this.speed)}step(){this.menu.memory.isFinished()||(this.menu.memory.nextTick(),this.drawCurrentState(),this.menu.memory.isFinished()&&(this.togglePlaying(!1),this.menu.memory.displayResults(this.menu.memory.getResults()),this.afterDone()))}afterDone(){if(null==this.info_is_done||null==this.play_pause_button||null==this.step_button)throw new Error("call init() first!");this.info_is_done.style.display="block",this.play_pause_button.disabled=!0,this.step_button.disabled=!0}}},752:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.page=null}}},495:function(e,t,l){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(l(920)),a=i(l(752));t.default=class{constructor(){this.number_of_pages=0,this.number_of_frames=0,this.page_call_pool=[],this.page_call_queue=[],this.previous_page_calls=[],this.frames=[],this.algorithm=null,this.last_replaced_index=-1,this.last_call_caused_fault=!1,this.time=0,this.total_page_faults=0}init(e,t){this.number_of_pages=null!=e?e:this.number_of_pages,this.number_of_frames=null!=t?t:this.number_of_frames,this.page_call_queue=[...this.page_call_pool],this.frames=[],this.previous_page_calls=[],this.time=0,this.total_page_faults=0;for(let e=0;e<this.number_of_frames;e++)this.frames.push(new a.default)}addPageCallToPool(e){this.page_call_pool.push(e)}addPageCallsToPool(e){for(let t=0;t<e.length;t++)this.page_call_pool.push(new s.default(e[t]))}clearPageCallPool(){this.page_call_pool=[]}setAlgorithm(e){this.algorithm=e}nextTick(){var e,t,l,i;if(null==this.algorithm)throw new Error("No algorithm selected");const s=this.page_call_queue.shift();if(null==s)return console.warn("Empty page call queue but not finished"),void this.time++;if(this.previous_page_calls.push(s),console.log("Page call: "+s.id),s){null===(t=(e=this.algorithm).onPageCall)||void 0===t||t.call(e,this.getCurrentStateData(s));let a=!0;for(let e=0;e<this.frames.length;e++){if(null==this.frames[e])throw new Error("Frame is null");if(null==this.frames[e].page){this.frames[e].page=s,this.last_replaced_index=e,this.total_page_faults++,this.last_call_caused_fault=!0,a=!1;break}if(this.frames[e].page.id==s.id){null===(i=(l=this.algorithm).onPageAlreadyInMemory)||void 0===i||i.call(l,this.getCurrentStateData(s)),this.last_call_caused_fault=!1,a=!1;break}}if(a){if(console.log("Page fault: "+s.id),null!=this.frames.find((e=>null==e.page)))throw new Error("Initial page fill not handled properly");this.total_page_faults++,this.last_call_caused_fault=!0;const e=this.algorithm.handlePageFault(this.getCurrentStateData(s));this.frames[e].page=s,this.last_replaced_index=e}let n=!1;for(const e of this.frames)if(null!=e.page&&e.page.id==s.id){n=!0;break}if(!n)throw new Error("Page fault not handled properly - page not in memory");s.call(this.time)}this.time++}getCurrentStateData(e){return{page_call:e,last_replaced_index:this.last_replaced_index,current_frames:this.frames,future_page_calls:this.page_call_queue,previous_page_calls:this.previous_page_calls}}isFinished(){return 0==this.page_call_queue.length}simulate(){for(this.init();!this.isFinished();)this.nextTick();return this.getResults()}getResults(){return{total_page_faults:this.total_page_faults,total_page_hits:this.previous_page_calls.length-this.total_page_faults,total_page_calls:this.previous_page_calls.length}}printFrames(){console.log("Frames:");for(const e of this.frames)console.log(e.page?e.page.id:"null")}displayResults(e,t=this.algorithm.name){document.getElementById("results_wrapper").style.display="flex",document.getElementById("results").innerHTML=`\n        Algorithm: ${t.toUpperCase()}\n\n        Total page faults: <b style='color: red'>${e.total_page_faults.toFixed(0)}</b>\n        Total page hits: <b style='color: lime'>${e.total_page_hits.toFixed(0)}</b>\n        Total page calls: <b>${e.total_page_calls.toFixed(0)}</b>\n        `.replace(RegExp("\n","g"),"<br />")}compareAllAndDisplayResults(e){document.getElementById("results_wrapper").style.display="flex";const t=document.getElementById("results");t.innerHTML="";for(let l=0;l<e.length;l++){this.setAlgorithm(e[l]);const i=this.simulate();t.innerHTML+=`\n            Algorithm: ${e[l].name.toUpperCase()}\n            Total page faults: <b style='color: red'>${i.total_page_faults.toFixed(0)}</b>\n            Total page hits: <b style='color: lime'>${i.total_page_hits.toFixed(0)}</b>\n            Total page calls: <b>${i.total_page_calls.toFixed(0)}</b>\n            `.replace(RegExp("\n","g"),"<br />"),t.innerHTML+="<br />"}}}},268:function(e,t,l){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(l(617)),a=i(l(498)),n=i(l(495)),r=i(l(238)),o=i(l(789)),u=i(l(93)),h=i(l(429)),d=i(l(436));t.default=class{constructor(){this.display=new s.default,this.memory=new n.default,this.animationGUI=new a.default(this)}init(){document.getElementById("run_button").addEventListener("click",(()=>{this.run()})),document.getElementById("run_with_animation_button").addEventListener("click",(()=>{this.run(!0)})),document.getElementById("add_button").addEventListener("click",(()=>{this.addCalls()})),document.getElementById("clear_button").addEventListener("click",(()=>{this.clearCalls()})),this.memory.init(5,3),this.display.init("main_canvas"),this.animationGUI.init(),this.display.setResizeCallback((()=>{this.refreshCalls()})),document.getElementById("s_page_count").addEventListener("change",(e=>{const t=parseInt(e.target.value);isNaN(t)||t<1?alert("Invalid number of pages"):(this.memory.init(t,this.memory.number_of_frames),this.clearCalls(),this.refreshCalls())})),document.getElementById("s_frame_count").addEventListener("change",(e=>{const t=parseInt(e.target.value);isNaN(t)||t<1?alert("Invalid number of frames"):(this.memory.init(this.memory.number_of_pages,t),this.refreshCalls())})),document.getElementById("c_distribution").addEventListener("change",(e=>{const t=e.target.value.toLowerCase(),l=document.getElementById("c_window_size_all"),i=document.getElementById("c_window_delta_all");switch(t){case"uniform":l.style.display="none",i.style.display="none";break;case"locality":l.style.display="block",i.style.display="block";break;default:alert("Invalid distribution")}})),document.getElementById("a_type").addEventListener("change",(e=>{"compare_all"===e.target.value.toLowerCase()?document.getElementById("run_with_animation_button").setAttribute("disabled","true"):document.getElementById("run_with_animation_button").removeAttribute("disabled")})),document.getElementById("results_close").addEventListener("click",(()=>{document.getElementById("results_wrapper").style.display="none"})),this.refreshCalls()}addCalls(){const e=document.getElementById("c_distribution").value,t=parseInt(document.getElementById("c_count").value);switch(e){case"uniform":for(let e=0;e<t;e++)this.memory.addPageCallsToPool([Math.floor(Math.random()*this.memory.number_of_pages)]);break;case"locality":{const e=parseInt(document.getElementById("c_window_size").value),l=parseInt(document.getElementById("c_window_delta").value);if(isNaN(e)||isNaN(l))return void alert("Invalid input");if(e>this.memory.number_of_pages)return void alert("Window size is bigger than number of pages");if(l>this.memory.number_of_pages)return void alert("Window delta is bigger than number of pages");let i=Math.floor(Math.random()*(this.memory.number_of_pages-e));for(let s=0;s<t;s++){const t=Math.floor(Math.random()*e)+i;this.memory.addPageCallsToPool([t]),i=(i+(Math.floor(Math.random()*(2*l+1))-l))%(this.memory.number_of_pages-e+1),this.memory.number_of_pages-e==0&&(i=0),i<0&&(i+=this.memory.number_of_pages-e+1)}break}default:return void alert("Invalid distribution")}this.refreshCalls()}clearCalls(){this.memory.clearPageCallPool(),this.refreshCalls()}refreshCalls(){console.log("Calls in pool: "+this.memory.page_call_pool.length),document.getElementById("p_current_count").innerHTML=`(${this.memory.page_call_pool.length.toString()})`;const e=document.getElementById("current_page_calls_val");e.innerHTML=this.memory.page_call_pool.reduce(((e,t)=>e+t.id.toString()+", "),"").slice(0,-2),0==this.memory.page_call_pool.length&&(e.innerHTML="<span style='color: yellow'>empty</span>")}run(e){let t=!1;switch(document.getElementById("a_type").value.toLowerCase()){case"fifo":this.memory.setAlgorithm(new r.default);break;case"opt":this.memory.setAlgorithm(new o.default);break;case"lru":this.memory.setAlgorithm(new u.default);break;case"alru":this.memory.setAlgorithm(new h.default);break;case"rand":this.memory.setAlgorithm(new d.default);break;case"compare_all":t=!0;break;default:alert("Invalid algorithm")}if(t){const e=[new r.default,new o.default,new u.default,new h.default,new d.default];this.memory.compareAllAndDisplayResults(e)}else if(e)this.animationGUI.startAnimation();else{const e=this.memory.simulate();this.memory.displayResults(e)}}}},920:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.id=e,this.last_call_time=0}call(e){this.last_call_time=e}}},429:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="ALRU",this.bit_array=[],this.pointer=0}onPageAlreadyInMemory(e){const t=e.current_frames.findIndex((t=>{var l;return(null===(l=t.page)||void 0===l?void 0:l.id)==e.page_call.id}));if(-1==t)throw new Error("ALRU: fatal error (index -1)");this.bit_array[t]=!0}handlePageFault(e){for(let t=0;t<e.current_frames.length;t++)null==this.bit_array[t]&&(this.bit_array[t]=!1);for(this.pointer=this.pointer%e.current_frames.length;;){if(null==e.current_frames[this.pointer].page)return console.warn("Frame is empty - this should be ensured not to happen by the caller"),this.bit_array[this.pointer]=!0,this.pointer++;if(0==this.bit_array[this.pointer])return this.bit_array[this.pointer]=!0,this.pointer++;this.bit_array[this.pointer]=!1,this.pointer=(this.pointer+1)%e.current_frames.length}}}},238:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="FIFO"}handlePageFault(e){return(e.last_replaced_index+1)%e.current_frames.length}}},93:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="LRU"}handlePageFault(e){let t=-1,l=-1;for(let i=0;i<e.current_frames.length;i++){const s=e.current_frames[i];if(null==s.page)return console.warn("Frame is empty - this should be ensured not to happen by the caller"),i;let a=-1;for(let t=e.previous_page_calls.length-1;t>=0;t--)if(e.previous_page_calls[t].id==s.page.id){a=t;break}if(-1==a)return i;(a<l||-1==l)&&(t=i,l=a)}return t}}},789:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="OPT"}handlePageFault(e){let t=-1,l=-1;for(let i=0;i<e.current_frames.length;i++){const s=e.current_frames[i];if(null==s.page)return console.warn("Frame is empty - this should be ensured not to happen by the caller"),i;let a=-1;for(let t=0;t<e.future_page_calls.length;t++)if(e.future_page_calls[t].id==s.page.id){a=t;break}if(-1==a)return i;a>l&&(t=i,l=a)}return t}}},436:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="RAND"}handlePageFault(e){return Math.floor(Math.random()*e.current_frames.length)}}},965:function(e,t,l){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const s=i(l(268)),a=i(l(495)),n=i(l(429));!function(){if("undefined"!=typeof document)(new s.default).init();else{const e=new a.default;for(e.init(5,3),e.addPageCallsToPool([1,2,3,4,1,2,5,1,2,3,4,5]),e.setAlgorithm(new n.default);e.page_call_queue.length>0;)e.nextTick(),e.printFrames();console.log("Total page faults: "+e.total_page_faults)}}()},617:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.ctx=null,this.resizeCallback=null}init(e){const t=document.getElementById(e);this.ctx=t.getContext("2d"),window.addEventListener("resize",this.resizeToFit.bind(this)),this.resizeToFit()}resizeToFit(){null!=this.ctx&&(this.ctx.canvas.width=window.innerWidth,this.ctx.canvas.height=window.innerHeight,null!=this.resizeCallback&&this.resizeCallback())}setResizeCallback(e){this.resizeCallback=e}}}},t={};!function l(i){var s=t[i];if(void 0!==s)return s.exports;var a=t[i]={exports:{}};return e[i].call(a.exports,a,a.exports,l),a.exports}(965)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LENDbkIwQkosQ0FBb0IsSSIsInNvdXJjZXMiOlsid2VicGFjazovLy8uL2NsYXNzZXMvQW5pbWF0aW9uR1VJLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9NTVUudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9NZW51LnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvUGFnZS50cyIsIndlYnBhY2s6Ly8vLi9jbGFzc2VzL2FsZ29yaXRobXMvQUxSVS50cyIsIndlYnBhY2s6Ly8vLi9jbGFzc2VzL2FsZ29yaXRobXMvRklGTy50cyIsIndlYnBhY2s6Ly8vLi9jbGFzc2VzL2FsZ29yaXRobXMvTFJVLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvYWxnb3JpdGhtcy9PUFQudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9hbGdvcml0aG1zL1JBTkQudHMiLCJ3ZWJwYWNrOi8vLy4vbWFpbi50cyIsIndlYnBhY2s6Ly8vLi4vc2hhcmVkL2NsYXNzZXMvRGlzcGxheS50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSUFuaW1hdGlvbkdVSSBmcm9tIFwiLi4vLi4vc2hhcmVkL2ludGVyZmFjZXMvSUFuaW1hdGlvbkdVSVwiO1xyXG5pbXBvcnQgTWVudSBmcm9tIFwiLi9NZW51XCI7XHJcblxyXG5pbXBvcnQgQUxSVSBmcm9tIFwiLi9hbGdvcml0aG1zL0FMUlVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFuaW1hdGlvbkdVSSBpbXBsZW1lbnRzIElBbmltYXRpb25HVUkge1xyXG4gICAgbWVudTogTWVudVxyXG5cclxuICAgIHZpc2libGU6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgcGxheWluZzogYm9vbGVhbiA9IGZhbHNlXHJcbiAgICBzcGVlZDogbnVtYmVyID0gMVxyXG5cclxuICAgIEdVSTogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG4gICAgTUVOVTogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIHBsYXlfcGF1c2VfYnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsXHJcbiAgICBzdGVwX2J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG4gICAgc3RvcF9idXR0b246IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIHNwZWVkX3NsaWRlcjogSFRNTElucHV0RWxlbWVudCB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgaW5mb19hbGdvcml0aG06IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIGluZm9fdGltZTogSFRNTFBhcmFncmFwaEVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG4gICAgaW5mb19pc19kb25lOiBIVE1MRGl2RWxlbWVudCB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgaW5mb19pbl9xdWV1ZTogSFRNTFBhcmFncmFwaEVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG4gICAgaW5mb19maW5pc2hlZDogSFRNTFBhcmFncmFwaEVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG4gICAgaW5mb190b3RhbF9wYWdlX2ZhdWx0czogSFRNTFBhcmFncmFwaEVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG4gICAgaW5mb190b3RhbF9wYWdlX2hpdHM6IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBmcmFtZV9yb3dzOiBBcnJheTxIVE1MVGFibGVSb3dFbGVtZW50PiA9IFtdXHJcbiAgICBcclxuICAgIHNlZV9jb2RlX2J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIC8qIHNldEludGVydmFsICovXHJcbiAgICBzdG9yZWRTZXRJbnRlcnZhbDogTm9kZUpTLlRpbWVyIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihtZW51OiBNZW51KSB7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbWVudTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuR1VJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fZ3VpXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuTUVOVSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dGluZ3NcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMucGxheV9wYXVzZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9wbGF5X3BhdXNlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuc3RlcF9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9zdGVwXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuc3RvcF9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9zdG9wXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuc3BlZWRfc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fc3BlZWRfc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuaW5mb19hbGdvcml0aG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9pbmZvX2FsZ29yaXRobV92YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICB0aGlzLmluZm9fdGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX2luZm9fdGltZV92YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICB0aGlzLmluZm9faXNfZG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX2lzX2RvbmVcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuaW5mb19pbl9xdWV1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FsbHNfaW5fcXVldWVfdmFsdWVcIikgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5pbmZvX2ZpbmlzaGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYWxsc19maW5pc2hlZF92YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICB0aGlzLmluZm9fdG90YWxfcGFnZV9mYXVsdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsX3BhZ2VfZmF1bHRzX3ZhbHVlXCIpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuaW5mb190b3RhbF9wYWdlX2hpdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsX3BhZ2VfaGl0c192YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuXHJcbiAgICAgICAgdGhpcy5zZWVfY29kZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvZGVfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBoaWRlIGVsZW1lbnRzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5pbmZvX2lzX2RvbmUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5wbGF5X3BhdXNlX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBsYXlpbmcoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGVwX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0ZXAoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9wX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNwZWVkX3NsaWRlci5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gcGFyc2VJbnQodGhpcy5zcGVlZF9zbGlkZXIhLnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU3BlZWQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWVfY29kZV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubWVudS5tZW1vcnkuYWxnb3JpdGhtID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhbGdvcml0aG1OYW1lID0gdGhpcy5tZW51Lm1lbW9yeS5hbGdvcml0aG0ubmFtZTtcclxuICAgICAgICAgICAgd2luZG93Lm9wZW4oYGh0dHBzOi8vZ2l0aHViLmNvbS9icnVuMG5lL3NjaGVkdWxpbmctc2ltL2Jsb2IvbWFpbi9wYWdlX3JlcGxhY2VtZW50X3NyYy9jbGFzc2VzL2FsZ29yaXRobXMvJHthbGdvcml0aG1OYW1lfS50c2AsIFwiX2JsYW5rXCIpIS5mb2N1cygpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBTZXRJbnRlcnZhbFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucmVmcmVzaFNwZWVkKCk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHByZXBhcmUgSFRNTCB0YWJsZSBvZiBzdGF0ZXNcclxuICAgICAgICAgKi9cclxuICAgICAgICB0aGlzLmluaXRTdGF0ZVRhYmxlKCk7XHJcbiAgICB9XHJcbiAgICB0b2dnbGVQbGF5aW5nKHBsYXlpbmc/OiBib29sZWFuKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHBsYXlpbmcgPT0gbnVsbClcclxuICAgICAgICAgICAgdGhpcy5wbGF5aW5nID0gIXRoaXMucGxheWluZztcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMucGxheWluZyA9IHBsYXlpbmc7XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaFNwZWVkKCk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIHRoaXMucGxheV9wYXVzZV9idXR0b24hLmlubmVySFRNTCA9IHRoaXMucGxheWluZyA/IFwiUGF1c2VcIiA6IFwiUGxheVwiO1xyXG4gICAgfVxyXG5cclxuICAgIHRvZ2dsZVZpc2libGUodmlzaWJsZT86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAodmlzaWJsZSA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSAhdGhpcy52aXNpYmxlO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy52aXNpYmxlID0gdmlzaWJsZTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgaWYgKHRoaXMudmlzaWJsZSl7XHJcbiAgICAgICAgICAgIHRoaXMuR1VJIS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICB0aGlzLk1FTlUhLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWVudS5kaXNwbGF5LnJlc2l6ZUNhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q3VycmVudFN0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kcmF3Q3VycmVudFN0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLkdVSSEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICB0aGlzLk1FTlUhLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlZFNldEludGVydmFsICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc3RvcmVkU2V0SW50ZXJ2YWwpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tZW51LmRpc3BsYXkucmVzaXplQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnUucmVmcmVzaENhbGxzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tZW51LnJlZnJlc2hDYWxscygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5X3BhdXNlX2J1dHRvbiA9PSBudWxsIHx8IHRoaXMuaW5mb19pc19kb25lID09IG51bGwgfHwgdGhpcy5zdGVwX2J1dHRvbiA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWxsIGluaXQoKSBmaXJzdCFcIik7XHJcblxyXG4gICAgICAgIHRoaXMubWVudS5tZW1vcnkuaW5pdCgpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlfcGF1c2VfYnV0dG9uLmlubmVySFRNTCA9IFwiUGxheVwiO1xyXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG4gICAgXHJcbiAgICAgICAgdGhpcy5pbmZvX2lzX2RvbmUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlfcGF1c2VfYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5zdGVwX2J1dHRvbi5kaXNhYmxlZCA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmluaXRTdGF0ZVRhYmxlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RhcnRBbmltYXRpb24oKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG4gICAgICAgIHRoaXMudG9nZ2xlVmlzaWJsZSh0cnVlKTtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3Q3VycmVudFN0YXRlKCk6IHZvaWQge1xyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIHJlZnJlc2ggaW5mb1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucmVmcmVzaEluZm8oKTtcclxuXHJcbiAgICAgICAgdGhpcy5kcmF3Q2FsbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0U3RhdGVUYWJsZSgpOiB2b2lkIHtcclxuICAgICAgICAvKiBncmFiIGVsZW1lbnRzICovXHJcbiAgICAgICAgY29uc3QgdGltZV9yb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl90YWJsZV90aW1lXCIpIGFzIEhUTUxUYWJsZVJvd0VsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgY2FsbHNfcm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fdGFibGVfcGFnZV9jYWxsc1wiKSBhcyBIVE1MVGFibGVSb3dFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IHRib2R5ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fdGFibGVfYm9keVwiKSBhcyBIVE1MVGFibGVTZWN0aW9uRWxlbWVudDtcclxuXHJcbiAgICAgICAgLyogY2xlYXIgdGFibGUgKi9cclxuICAgICAgICB0aW1lX3Jvdy5pbm5lckhUTUwgPSBcIlwiO1xyXG4gICAgICAgIGNhbGxzX3Jvdy5pbm5lckhUTUwgPSBcIlwiO1xyXG5cclxuICAgICAgICAvKiB0aW1lICovXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lX3Jvd19oZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgICAgIHRpbWVfcm93X2hlYWRlci5pbm5lckhUTUwgPSBcIlRpbWVcIjtcclxuICAgICAgICAgICAgdGltZV9yb3dfaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJcIik7XHJcbiAgICAgICAgICAgIHRpbWVfcm93LmFwcGVuZENoaWxkKHRpbWVfcm93X2hlYWRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBjYWxscyAqL1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgY2FsbHNfcm93X2hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgY2FsbHNfcm93X2hlYWRlci5pbm5lckhUTUwgPSBcIlBhZ2UgY2FsbHNcIjtcclxuICAgICAgICAgICAgY2FsbHNfcm93X2hlYWRlci5jbGFzc0xpc3QuYWRkKFwiaGVhZGVyXCIpO1xyXG4gICAgICAgICAgICBjYWxsc19yb3cuYXBwZW5kQ2hpbGQoY2FsbHNfcm93X2hlYWRlcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBmcmFtZXMgKi9cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8qIHJlbW92ZSBvbGQgcm93cyAqL1xyXG4gICAgICAgICAgICB3aGlsZSAodGJvZHkubGFzdENoaWxkICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGlkID0gKHRib2R5Lmxhc3RDaGlsZCBhcyBIVE1MRWxlbWVudCkuaWQ7XHJcbiAgICAgICAgICAgICAgICBpZiAoaWQgPT0gXCJhbmltYXRpb25fdGFibGVfcGFnZV9jYWxsc1wiKSAvLyBza2lwIHRoZSByb3cgd2l0aCBwYWdlIGNhbGxzXHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAgICAgdGJvZHkucmVtb3ZlQ2hpbGQodGJvZHkubGFzdENoaWxkKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyogYWRkIGEgcm93IGZvciBlYWNoIGZyYW1lICovXHJcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lX3Jvd3M6IEFycmF5PEhUTUxUYWJsZVJvd0VsZW1lbnQ+ID0gW107XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW51Lm1lbW9yeS5udW1iZXJfb2ZfZnJhbWVzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lX3JvdyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZV9yb3dfaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgICAgICAgICAgZnJhbWVfcm93X2hlYWRlci5pbm5lckhUTUwgPSBgRnJhbWUgJHtpfWA7XHJcbiAgICAgICAgICAgICAgICBmcmFtZV9yb3cuYXBwZW5kQ2hpbGQoZnJhbWVfcm93X2hlYWRlcik7XHJcblxyXG4gICAgICAgICAgICAgICAgZnJhbWVfcm93cy5wdXNoKGZyYW1lX3Jvdyk7XHJcbiAgICAgICAgICAgICAgICB0Ym9keS5hcHBlbmRDaGlsZChmcmFtZV9yb3cpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZnJhbWVfcm93cyA9IGZyYW1lX3Jvd3M7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGRyYXdDYWxscyhTVEFSVF9YPzogbnVtYmVyLCBTVEFSVF9ZPzogbnVtYmVyLCBXSURUSD86IG51bWJlciwgSEVJR0hUPzogbnVtYmVyLCBjYWxsc1RvRHJhdz86IGFueSk6IHZvaWQge1xyXG4gICAgICAgIC8qIGdyYWIgZWxlbWVudHMgKi9cclxuICAgICAgICBjb25zdCB0aW1lX3JvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3RhYmxlX3RpbWVcIikgYXMgSFRNTFRhYmxlUm93RWxlbWVudDtcclxuICAgICAgICBjb25zdCBjYWxsc19yb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl90YWJsZV9wYWdlX2NhbGxzXCIpIGFzIEhUTUxUYWJsZVJvd0VsZW1lbnQ7XHJcblxyXG4gICAgICAgIC8qIG9ubHkgYWRkIG9uZSBjb2x1bW4gZm9yIHRoZSBuZXcgc3RhdGUgKi9cclxuICAgICAgICBjb25zdCBuZXdDYWxsID0gdGhpcy5tZW51Lm1lbW9yeS5wcmV2aW91c19wYWdlX2NhbGxzLmF0KC0xKTtcclxuICAgICAgICBpZiAobmV3Q2FsbCA9PSBudWxsKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIC8qIHRpbWUgKi9cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVUaWNrRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgICAgIHRpbWVUaWNrRWwuaW5uZXJIVE1MID0gYCR7dGhpcy5tZW51Lm1lbW9yeS50aW1lfWA7XHJcbiAgICAgICAgICAgIHRpbWVfcm93LmFwcGVuZENoaWxkKHRpbWVUaWNrRWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogY2FsbHMgKi9cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNhbGxzVGlja0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgICAgICBjYWxsc1RpY2tFbC5pbm5lckhUTUwgPSBgJHtuZXdDYWxsLmlkfWA7XHJcblxyXG4gICAgICAgICAgICBjYWxsc19yb3cuYXBwZW5kQ2hpbGQoY2FsbHNUaWNrRWwpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogZnJhbWVzICovXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVudS5tZW1vcnkubnVtYmVyX29mX2ZyYW1lczsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZV9yb3cgPSB0aGlzLmZyYW1lX3Jvd3NbaV07XHJcbiAgICAgICAgICAgICAgICBjb25zdCBwYWdlID0gdGhpcy5tZW51Lm1lbW9yeS5mcmFtZXNbaV0ucGFnZTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zdCBmcmFtZVRpY2tFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgICAgIGZyYW1lVGlja0VsLmlubmVySFRNTCA9IGAke3BhZ2UgIT0gbnVsbCA/IHBhZ2UuaWQgOiBcIlwifWA7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gYXBwZW5kIHNwZWNpYWwgYml0IGluIGNhc2Ugb2YgQUxSVVxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVudS5tZW1vcnkuYWxnb3JpdGhtIGluc3RhbmNlb2YgQUxSVSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGJpdCA9ICg8QUxSVT4gdGhpcy5tZW51Lm1lbW9yeS5hbGdvcml0aG0pLmJpdF9hcnJheVtpXTtcclxuICAgICAgICAgICAgICAgICAgICBmcmFtZVRpY2tFbC5pbm5lckhUTUwgKz0gYCA8c3BhbiBzdHlsZT0nY29sb3I6IHllbGxvdzsgZm9udC1zaXplOiA4MCUnPigke2JpdCA/IDEgOiAwfSk8L3NwYW4+YDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAvLyBtYWtlIHBhZ2UgZmF1bHRzIHJlZFxyXG4gICAgICAgICAgICAgICAgaWYgKHBhZ2UgIT0gbnVsbCAmJiBwYWdlLmlkID09IG5ld0NhbGwuaWQgJiYgdGhpcy5tZW51Lm1lbW9yeS5sYXN0X2NhbGxfY2F1c2VkX2ZhdWx0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVUaWNrRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmcmFtZV9yb3cuYXBwZW5kQ2hpbGQoZnJhbWVUaWNrRWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBzY3JvbGwgdG8gdGhlIHJpZ2h0ICovXHJcbiAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9jYWxsX3RhYmxlXCIpIGFzIEhUTUxUYWJsZUVsZW1lbnQ7XHJcbiAgICAgICAgdGFibGUuc2Nyb2xsTGVmdCA9IHRhYmxlLnNjcm9sbFdpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hJbmZvKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRoaXMubWVudS5tZW1vcnk7XHJcbiAgICAgICAgaWYgKG1lbW9yeS5hbGdvcml0aG0gPT0gbnVsbClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FsbCBzdGFydEFuaW1hdGlvbigpIGZpcnN0IVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmZvX2FsZ29yaXRobSEuaW5uZXJIVE1MID0gbWVtb3J5LmFsZ29yaXRobS5uYW1lO1xyXG4gICAgICAgIHRoaXMuaW5mb190aW1lIS5pbm5lckhUTUwgPSBtZW1vcnkudGltZS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBpZiAobWVtb3J5LmlzRmluaXNoZWQoKSlcclxuICAgICAgICAgICAgdGhpcy5pbmZvX2lzX2RvbmUhLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmluZm9faXNfZG9uZSEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9fdG90YWxfcGFnZV9oaXRzIS5pbm5lckhUTUwgPSAobWVtb3J5LnByZXZpb3VzX3BhZ2VfY2FsbHMubGVuZ3RoIC0gIG1lbW9yeS50b3RhbF9wYWdlX2ZhdWx0cykudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmluZm9fdG90YWxfcGFnZV9mYXVsdHMhLmlubmVySFRNTCA9IG1lbW9yeS50b3RhbF9wYWdlX2ZhdWx0cy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9faW5fcXVldWUhLmlubmVySFRNTCA9IG1lbW9yeS5wYWdlX2NhbGxfcXVldWUubGVuZ3RoLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5pbmZvX2ZpbmlzaGVkIS5pbm5lckhUTUwgPSBtZW1vcnkucHJldmlvdXNfcGFnZV9jYWxscy5sZW5ndGgudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoU3BlZWQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RvcmVkU2V0SW50ZXJ2YWwgIT0gbnVsbClcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN0b3JlZFNldEludGVydmFsKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9yZWRTZXRJbnRlcnZhbCA9IHNldEludGVydmFsKCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXlpbmcpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zdGVwKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5iaW5kKHRoaXMpLCAxMDAwIC8gdGhpcy5zcGVlZCk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RlcCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5tZW51Lm1lbW9yeS5pc0ZpbmlzaGVkKCkpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgdGhpcy5tZW51Lm1lbW9yeS5uZXh0VGljaygpO1xyXG4gICAgICAgIHRoaXMuZHJhd0N1cnJlbnRTdGF0ZSgpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tZW51Lm1lbW9yeS5pc0ZpbmlzaGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy50b2dnbGVQbGF5aW5nKGZhbHNlKTtcclxuICAgICAgICAgICAgdGhpcy5tZW51Lm1lbW9yeS5kaXNwbGF5UmVzdWx0cyh0aGlzLm1lbnUubWVtb3J5LmdldFJlc3VsdHMoKSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLmFmdGVyRG9uZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBhZnRlckRvbmUoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuaW5mb19pc19kb25lID09IG51bGwgfHwgdGhpcy5wbGF5X3BhdXNlX2J1dHRvbiA9PSBudWxsIHx8IHRoaXMuc3RlcF9idXR0b24gPT0gbnVsbClcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiY2FsbCBpbml0KCkgZmlyc3QhXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9faXNfZG9uZS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlfcGF1c2VfYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLnN0ZXBfYnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH1cclxufSIsImltcG9ydCBQYWdlIGZyb20gXCIuL1BhZ2VcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRnJhbWUge1xyXG4gICAgcGFnZTogUGFnZSB8IG51bGxcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnBhZ2UgPSBudWxsO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQYWdlIGZyb20gXCIuL1BhZ2VcIlxyXG5pbXBvcnQgRnJhbWUgZnJvbSBcIi4vRnJhbWVcIlxyXG5pbXBvcnQgUmVwbGFjZW1lbnRBbGdvcml0aG0sIHsgTWVtb3J5U3RhdGVEYXRhIH0gZnJvbSBcIi4vUmVwbGFjZW1lbnRBbGdvcml0aG1cIlxyXG5cclxudHlwZSByZXN1bHRzID0ge1xyXG4gICAgdG90YWxfcGFnZV9mYXVsdHM6IG51bWJlcixcclxuICAgIHRvdGFsX3BhZ2VfaGl0czogbnVtYmVyLFxyXG4gICAgdG90YWxfcGFnZV9jYWxsczogbnVtYmVyXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBNZW1vcnkgTWFuYWdlbWVudCBVbml0XHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNTVUge1xyXG4gICAgbnVtYmVyX29mX3BhZ2VzOiBudW1iZXIgPSAwXHJcbiAgICBudW1iZXJfb2ZfZnJhbWVzOiBudW1iZXIgPSAwXHJcblxyXG4gICAgcGFnZV9jYWxsX3Bvb2w6IEFycmF5PFBhZ2U+ID0gW11cclxuICAgIHBhZ2VfY2FsbF9xdWV1ZTogQXJyYXk8UGFnZT4gPSBbXVxyXG4gICAgcHJldmlvdXNfcGFnZV9jYWxsczogQXJyYXk8UGFnZT4gPSBbXVxyXG5cclxuICAgIGZyYW1lczogQXJyYXk8RnJhbWU+ID0gW11cclxuXHJcbiAgICBhbGdvcml0aG06IFJlcGxhY2VtZW50QWxnb3JpdGhtIHwgbnVsbCA9IG51bGxcclxuICAgIGxhc3RfcmVwbGFjZWRfaW5kZXg6IG51bWJlciA9IC0xXHJcblxyXG4gICAgdG90YWxfcGFnZV9mYXVsdHM6IG51bWJlclxyXG4gICAgdGltZTogbnVtYmVyXHJcblxyXG4gICAgbGFzdF9jYWxsX2NhdXNlZF9mYXVsdDogYm9vbGVhbiA9IGZhbHNlXHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy50aW1lID0gMDtcclxuICAgICAgICB0aGlzLnRvdGFsX3BhZ2VfZmF1bHRzID0gMDtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KG51bWJlcl9vZl9wYWdlcz86IG51bWJlciwgbnVtYmVyX29mX2ZyYW1lcz86IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubnVtYmVyX29mX3BhZ2VzID0gbnVtYmVyX29mX3BhZ2VzID8/IHRoaXMubnVtYmVyX29mX3BhZ2VzO1xyXG4gICAgICAgIHRoaXMubnVtYmVyX29mX2ZyYW1lcyA9IG51bWJlcl9vZl9mcmFtZXMgPz8gdGhpcy5udW1iZXJfb2ZfZnJhbWVzO1xyXG5cclxuICAgICAgICB0aGlzLnBhZ2VfY2FsbF9xdWV1ZSA9IFsuLi50aGlzLnBhZ2VfY2FsbF9wb29sXTsgLy8gY29weSBhcnJheVxyXG4gICAgICAgIHRoaXMuZnJhbWVzID0gW107XHJcbiAgICAgICAgdGhpcy5wcmV2aW91c19wYWdlX2NhbGxzID0gW107XHJcblxyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbF9wYWdlX2ZhdWx0cyA9IDA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1iZXJfb2ZfZnJhbWVzOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZXMucHVzaChuZXcgRnJhbWUoKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFkZFBhZ2VDYWxsVG9Qb29sKHBhZ2VfY2FsbDogUGFnZSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGFnZV9jYWxsX3Bvb2wucHVzaChwYWdlX2NhbGwpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFBhZ2VDYWxsc1RvUG9vbChwYWdlX2NhbGxzOiBBcnJheTxudW1iZXI+KSB7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlX2NhbGxzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIHRoaXMucGFnZV9jYWxsX3Bvb2wucHVzaChuZXcgUGFnZShwYWdlX2NhbGxzW2ldKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyUGFnZUNhbGxQb29sKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMucGFnZV9jYWxsX3Bvb2wgPSBbXTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBbGdvcml0aG0oYWxnb3JpdGhtOiBSZXBsYWNlbWVudEFsZ29yaXRobSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWxnb3JpdGhtID0gYWxnb3JpdGhtO1xyXG4gICAgfVxyXG5cclxuICAgIG5leHRUaWNrKCk6IHZvaWQge1xyXG4gICAgICAgIC8qIGVuc3VyZSB0aGF0IGFuIGFsZ29yaXRobSBpcyBzZWxlY3RlZCAqL1xyXG4gICAgICAgIGlmICh0aGlzLmFsZ29yaXRobSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFsZ29yaXRobSBzZWxlY3RlZFwiKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHBhZ2VfY2FsbCA9IHRoaXMucGFnZV9jYWxsX3F1ZXVlLnNoaWZ0KCk7XHJcblxyXG4gICAgICAgIC8qIG5vIHBhZ2UgY2FsbCBhdCB0aGlzIHRpbWUgKi9cclxuICAgICAgICBpZiAocGFnZV9jYWxsID09IG51bGwpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiRW1wdHkgcGFnZSBjYWxsIHF1ZXVlIGJ1dCBub3QgZmluaXNoZWRcIik7XHJcbiAgICAgICAgICAgIHRoaXMudGltZSsrO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucHJldmlvdXNfcGFnZV9jYWxscy5wdXNoKHBhZ2VfY2FsbCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJQYWdlIGNhbGw6IFwiICsgcGFnZV9jYWxsLmlkKTtcclxuXHJcbiAgICAgICAgaWYgKHBhZ2VfY2FsbCkge1xyXG4gICAgICAgICAgICB0aGlzLmFsZ29yaXRobS5vblBhZ2VDYWxsPy4odGhpcy5nZXRDdXJyZW50U3RhdGVEYXRhKHBhZ2VfY2FsbCkpO1xyXG5cclxuICAgICAgICAgICAgLyogY2hlY2sgaWYgdGhlcmUgaXMgYSBwYWdlIGZhdWx0ICovXHJcbiAgICAgICAgICAgIGxldCBwYWdlX2ZhdWx0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmZyYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWVzW2ldID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRnJhbWUgaXMgbnVsbFwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcmFtZXNbaV0ucGFnZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogaW5zZXJ0IGludG8gdGhlIGZpcnN0IGZyZWUgZnJhbWUgKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lc1tpXS5wYWdlID0gcGFnZV9jYWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdF9yZXBsYWNlZF9pbmRleCA9IGk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8qIGluY3JlbWVudCB0aGUgdG90YWwgcGFnZSBmYXVsdHMgKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VfZmF1bHRzKys7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0X2NhbGxfY2F1c2VkX2ZhdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZV9mYXVsdCA9IGZhbHNlOyAvLyBwYWdlIGZhdWx0IGFscmVhZHkgaGFuZGxlZFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICgoPFBhZ2U+IHRoaXMuZnJhbWVzW2ldLnBhZ2UpLmlkID09IHBhZ2VfY2FsbC5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qIHBhZ2UgaXMgYWxyZWFkeSBpbiBtZW1vcnkgKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFsZ29yaXRobS5vblBhZ2VBbHJlYWR5SW5NZW1vcnk/Lih0aGlzLmdldEN1cnJlbnRTdGF0ZURhdGEocGFnZV9jYWxsKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMubGFzdF9jYWxsX2NhdXNlZF9mYXVsdCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VfZmF1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyogaGFuZGxlIHBhZ2UgZmF1bHQgKi9cclxuICAgICAgICAgICAgaWYgKHBhZ2VfZmF1bHQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiUGFnZSBmYXVsdDogXCIgKyBwYWdlX2NhbGwuaWQpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qIGVuc3VyZSB0aGF0IHRoZXJlIGFyZSBubyBmcmVlIGZyYW1lcyAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWVzLmZpbmQoZnJhbWUgPT4gZnJhbWUucGFnZSA9PSBudWxsKSAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiSW5pdGlhbCBwYWdlIGZpbGwgbm90IGhhbmRsZWQgcHJvcGVybHlcIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgLyogaW5jcmVtZW50IHRoZSB0b3RhbCBwYWdlIGZhdWx0cyAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlX2ZhdWx0cysrO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0X2NhbGxfY2F1c2VkX2ZhdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiByZXBsYWNlIGEgcGFnZSAqL1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaW5kZXhfdG9fcmVwbGFjZSA9IHRoaXMuYWxnb3JpdGhtLmhhbmRsZVBhZ2VGYXVsdCh0aGlzLmdldEN1cnJlbnRTdGF0ZURhdGEocGFnZV9jYWxsKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lc1tpbmRleF90b19yZXBsYWNlXS5wYWdlID0gcGFnZV9jYWxsO1xyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMubGFzdF9yZXBsYWNlZF9pbmRleCA9IGluZGV4X3RvX3JlcGxhY2U7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIGVuc3VyZSB0aGF0IHRoZSBwYWdlIGlzIG5vdyBpbiBtZW1vcnkgKi9cclxuICAgICAgICAgICAgbGV0IHBhZ2VfaW5fbWVtb3J5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZnJhbWUgb2YgdGhpcy5mcmFtZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmcmFtZS5wYWdlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCg8UGFnZT4gZnJhbWUucGFnZSkuaWQgPT0gcGFnZV9jYWxsLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogcGFnZSBpcyBpbiBtZW1vcnkgKi9cclxuICAgICAgICAgICAgICAgICAgICBwYWdlX2luX21lbW9yeSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCFwYWdlX2luX21lbW9yeSkge1xyXG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUGFnZSBmYXVsdCBub3QgaGFuZGxlZCBwcm9wZXJseSAtIHBhZ2Ugbm90IGluIG1lbW9yeVwiKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgLyogY2FsbCB0aGUgcGFnZSAqL1xyXG4gICAgICAgICAgICBwYWdlX2NhbGwuY2FsbCh0aGlzLnRpbWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy50aW1lKys7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q3VycmVudFN0YXRlRGF0YShwYWdlX2NhbGw6IFBhZ2UpOiBNZW1vcnlTdGF0ZURhdGEge1xyXG4gICAgICAgIGNvbnN0IGRhdGE6IE1lbW9yeVN0YXRlRGF0YSA9IHtcclxuICAgICAgICAgICAgcGFnZV9jYWxsOiBwYWdlX2NhbGwsXHJcbiAgICAgICAgICAgIGxhc3RfcmVwbGFjZWRfaW5kZXg6IHRoaXMubGFzdF9yZXBsYWNlZF9pbmRleCxcclxuICAgICAgICAgICAgY3VycmVudF9mcmFtZXM6IHRoaXMuZnJhbWVzLFxyXG4gICAgICAgICAgICBmdXR1cmVfcGFnZV9jYWxsczogdGhpcy5wYWdlX2NhbGxfcXVldWUsXHJcbiAgICAgICAgICAgIHByZXZpb3VzX3BhZ2VfY2FsbHM6IHRoaXMucHJldmlvdXNfcGFnZV9jYWxsc1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiBkYXRhO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRmluaXNoZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucGFnZV9jYWxsX3F1ZXVlLmxlbmd0aCA9PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIHNpbXVsYXRlKCk6IHJlc3VsdHMge1xyXG4gICAgICAgIHRoaXMuaW5pdCgpO1xyXG5cclxuICAgICAgICB3aGlsZSAoIXRoaXMuaXNGaW5pc2hlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dFRpY2soKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLmdldFJlc3VsdHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRSZXN1bHRzKCk6IHJlc3VsdHMge1xyXG4gICAgICAgIHJldHVybiB7XHJcbiAgICAgICAgICAgIHRvdGFsX3BhZ2VfZmF1bHRzOiB0aGlzLnRvdGFsX3BhZ2VfZmF1bHRzLFxyXG4gICAgICAgICAgICB0b3RhbF9wYWdlX2hpdHM6IHRoaXMucHJldmlvdXNfcGFnZV9jYWxscy5sZW5ndGggLSB0aGlzLnRvdGFsX3BhZ2VfZmF1bHRzLFxyXG4gICAgICAgICAgICB0b3RhbF9wYWdlX2NhbGxzOiB0aGlzLnByZXZpb3VzX3BhZ2VfY2FsbHMubGVuZ3RoXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIHZpc3VhbGl6YXRpb24gJiBvdXRwdXRcclxuICAgICAqL1xyXG5cclxuICAgIHByaW50RnJhbWVzKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiRnJhbWVzOlwiKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGZyYW1lIG9mIHRoaXMuZnJhbWVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGZyYW1lLnBhZ2UgPyBmcmFtZS5wYWdlLmlkIDogXCJudWxsXCIpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBkaXNwbGF5UmVzdWx0cyhyZXN1bHRzOiByZXN1bHRzLCBhbGdTdHI6IHN0cmluZyA9ICg8QWxnb3JpdGhtPiB0aGlzLmFsZ29yaXRobSkubmFtZSk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdHNfd3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c193cmFwcGVyXCIpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIHJlc3VsdHNfd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdHNfZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3VsdHNcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgcmVzdWx0c19lbC5pbm5lckhUTUwgPSBgXHJcbiAgICAgICAgQWxnb3JpdGhtOiAke2FsZ1N0ci50b1VwcGVyQ2FzZSgpfVxyXG5cclxuICAgICAgICBUb3RhbCBwYWdlIGZhdWx0czogPGIgc3R5bGU9J2NvbG9yOiByZWQnPiR7cmVzdWx0cy50b3RhbF9wYWdlX2ZhdWx0cy50b0ZpeGVkKDApfTwvYj5cclxuICAgICAgICBUb3RhbCBwYWdlIGhpdHM6IDxiIHN0eWxlPSdjb2xvcjogbGltZSc+JHtyZXN1bHRzLnRvdGFsX3BhZ2VfaGl0cy50b0ZpeGVkKDApfTwvYj5cclxuICAgICAgICBUb3RhbCBwYWdlIGNhbGxzOiA8Yj4ke3Jlc3VsdHMudG90YWxfcGFnZV9jYWxscy50b0ZpeGVkKDApfTwvYj5cclxuICAgICAgICBgLnJlcGxhY2UoUmVnRXhwKFwiXFxuXCIsIFwiZ1wiKSwgXCI8YnIgLz5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcGFyZUFsbEFuZERpc3BsYXlSZXN1bHRzKGFsZ29yaXRobXM6IEFycmF5PFJlcGxhY2VtZW50QWxnb3JpdGhtPik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdHNfd3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c193cmFwcGVyXCIpIGFzIEhUTUxFbGVtZW50O1xyXG4gICAgICAgIHJlc3VsdHNfd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcblxyXG4gICAgICAgIGNvbnN0IHJlc3VsdHNfZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3VsdHNcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgcmVzdWx0c19lbC5pbm5lckhUTUwgPSBcIlwiO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGFsZ29yaXRobXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5zZXRBbGdvcml0aG0oYWxnb3JpdGhtc1tpXSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHM6IHJlc3VsdHMgPSB0aGlzLnNpbXVsYXRlKCk7XHJcblxyXG4gICAgICAgICAgICByZXN1bHRzX2VsLmlubmVySFRNTCArPSBgXHJcbiAgICAgICAgICAgIEFsZ29yaXRobTogJHthbGdvcml0aG1zW2ldLm5hbWUudG9VcHBlckNhc2UoKX1cclxuICAgICAgICAgICAgVG90YWwgcGFnZSBmYXVsdHM6IDxiIHN0eWxlPSdjb2xvcjogcmVkJz4ke3Jlc3VsdHMudG90YWxfcGFnZV9mYXVsdHMudG9GaXhlZCgwKX08L2I+XHJcbiAgICAgICAgICAgIFRvdGFsIHBhZ2UgaGl0czogPGIgc3R5bGU9J2NvbG9yOiBsaW1lJz4ke3Jlc3VsdHMudG90YWxfcGFnZV9oaXRzLnRvRml4ZWQoMCl9PC9iPlxyXG4gICAgICAgICAgICBUb3RhbCBwYWdlIGNhbGxzOiA8Yj4ke3Jlc3VsdHMudG90YWxfcGFnZV9jYWxscy50b0ZpeGVkKDApfTwvYj5cclxuICAgICAgICAgICAgYC5yZXBsYWNlKFJlZ0V4cChcIlxcblwiLCBcImdcIiksIFwiPGJyIC8+XCIpO1xyXG5cclxuICAgICAgICAgICAgcmVzdWx0c19lbC5pbm5lckhUTUwgKz0gXCI8YnIgLz5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgSU1lbnUgZnJvbSBcIi4uLy4uL3NoYXJlZC9pbnRlcmZhY2VzL0lNZW51XCI7XHJcbmltcG9ydCBEaXNwbGF5IGZyb20gXCIuLi8uLi9zaGFyZWQvY2xhc3Nlcy9EaXNwbGF5XCI7XHJcblxyXG5pbXBvcnQgQW5pbWF0aW9uR1VJIGZyb20gXCIuL0FuaW1hdGlvbkdVSVwiO1xyXG5pbXBvcnQgTU1VIGZyb20gXCIuL01NVVwiO1xyXG5pbXBvcnQgUGFnZSBmcm9tIFwiLi9QYWdlXCI7XHJcblxyXG5pbXBvcnQgRklGTyBmcm9tIFwiLi9hbGdvcml0aG1zL0ZJRk9cIjtcclxuaW1wb3J0IE9QVCBmcm9tIFwiLi9hbGdvcml0aG1zL09QVFwiO1xyXG5pbXBvcnQgTFJVIGZyb20gXCIuL2FsZ29yaXRobXMvTFJVXCI7XHJcbmltcG9ydCBBTFJVIGZyb20gXCIuL2FsZ29yaXRobXMvQUxSVVwiO1xyXG5pbXBvcnQgUkFORCBmcm9tIFwiLi9hbGdvcml0aG1zL1JBTkRcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnUgaW1wbGVtZW50cyBJTWVudSB7XHJcbiAgICBkaXNwbGF5OiBEaXNwbGF5XHJcbiAgICBtZW1vcnk6IE1NVVxyXG4gICAgYW5pbWF0aW9uR1VJOiBBbmltYXRpb25HVUlcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLmRpc3BsYXkgPSBuZXcgRGlzcGxheSgpO1xyXG4gICAgICAgIHRoaXMubWVtb3J5ID0gbmV3IE1NVSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbkdVSSA9IG5ldyBBbmltYXRpb25HVUkodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOiB2b2lkIHsgIFxyXG4gICAgICAgIGNvbnN0IHJ1bl9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJ1bl9idXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgcnVuX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLnJ1bigpIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBydW5fd2l0aF9hbmltYXRpb25fYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJydW5fd2l0aF9hbmltYXRpb25fYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHJ1bl93aXRoX2FuaW1hdGlvbl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgdGhpcy5ydW4odHJ1ZSkgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFkZF9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFkZF9idXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgYWRkX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLmFkZENhbGxzKCkgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNsZWFyX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xlYXJfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIGNsZWFyX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLmNsZWFyQ2FsbHMoKSB9KTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiBpbml0IFxyXG4gICAgICAgICAqIHNldCBjYWxsYmFjayBmb3IgcmVzaXplXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5tZW1vcnkuaW5pdCg1LCAzKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXkuaW5pdChcIm1haW5fY2FudmFzXCIpO1xyXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uR1VJLmluaXQoKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXkuc2V0UmVzaXplQ2FsbGJhY2soKCkgPT4geyB0aGlzLnJlZnJlc2hDYWxscygpIH0pO1xyXG5cclxuICAgICAgICAvKiogXHJcbiAgICAgICAgICogYmFzaWMgc2V0dGluZ3NcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBudW1iZXJfb2ZfcGFnZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNfcGFnZV9jb3VudFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIG51bWJlcl9vZl9wYWdlcy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChlOiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBuZXdfdmFsID0gcGFyc2VJbnQoKDxIVE1MSW5wdXRFbGVtZW50PiBlLnRhcmdldCkudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzTmFOKG5ld192YWwpIHx8IG5ld192YWwgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIkludmFsaWQgbnVtYmVyIG9mIHBhZ2VzXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1lbW9yeS5pbml0KG5ld192YWwsIHRoaXMubWVtb3J5Lm51bWJlcl9vZl9mcmFtZXMpO1xyXG4gICAgICAgICAgICB0aGlzLmNsZWFyQ2FsbHMoKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoQ2FsbHMoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgbnVtYmVyX29mX2ZyYW1lcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic19mcmFtZV9jb3VudFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIG51bWJlcl9vZl9mcmFtZXMuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZTogRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3X3ZhbCA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD4gZS50YXJnZXQpLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChpc05hTihuZXdfdmFsKSB8fCBuZXdfdmFsIDwgMSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJJbnZhbGlkIG51bWJlciBvZiBmcmFtZXNcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMubWVtb3J5LmluaXQodGhpcy5tZW1vcnkubnVtYmVyX29mX3BhZ2VzLCBuZXdfdmFsKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoQ2FsbHMoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogZGlzdHJpYnV0aW9uIHNlbGVjdFxyXG4gICAgICAgICAqIC0+IHNob3cvaGlkZSBzcGVjaWZpYyBvcHRpb25zXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3QgZGlzdHJpYnV0aW9uX3NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY19kaXN0cmlidXRpb25cIikgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgZGlzdHJpYnV0aW9uX3NlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChlOiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBkaXN0cmlidXRpb24gPSAoPEhUTUxTZWxlY3RFbGVtZW50PiBlLnRhcmdldCkudmFsdWUudG9Mb3dlckNhc2UoKTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnN0IHdpbmRvd19zaXplX2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjX3dpbmRvd19zaXplX2FsbFwiKSBhcyBIVE1MRGl2RWxlbWVudDtcclxuICAgICAgICAgICAgY29uc3Qgd2luZG93X2RlbHRhX2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjX3dpbmRvd19kZWx0YV9hbGxcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgICAgICAgICBzd2l0Y2ggKGRpc3RyaWJ1dGlvbikge1xyXG4gICAgICAgICAgICAgICAgY2FzZSBcInVuaWZvcm1cIjpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3dfc2l6ZV9lbC5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93X2RlbHRhX2VsLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNhc2UgXCJsb2NhbGl0eVwiOlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvd19zaXplX2VsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93X2RlbHRhX2VsLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiSW52YWxpZCBkaXN0cmlidXRpb25cIik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogYWxnb3JpdGhtIHNlbGVjdFxyXG4gICAgICAgICAqIC0+IGRpc2FibGUgcnVubmluZyB3aXRoIGFuaW1hdGlvbiBpZiBjb21wYXJlX2FsbFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIGNvbnN0IGFsZ29yaXRobV9zZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFfdHlwZVwiKSBhcyBIVE1MU2VsZWN0RWxlbWVudDtcclxuICAgICAgICBhbGdvcml0aG1fc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGU6IEV2ZW50KSA9PlxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKCg8SFRNTFNlbGVjdEVsZW1lbnQ+IGUudGFyZ2V0KS52YWx1ZS50b0xvd2VyQ2FzZSgpID09PSBcImNvbXBhcmVfYWxsXCIpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuX3dpdGhfYW5pbWF0aW9uX2J1dHRvblwiKSkuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2VcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgKDxIVE1MQnV0dG9uRWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJydW5fd2l0aF9hbmltYXRpb25fYnV0dG9uXCIpKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBcclxuICAgICAgICAgKiByZXN1bHRzIGJ1dHRvbnNcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCByZXN1bHRzX2Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzX2Nsb3NlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHJlc3VsdHNfY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgKDxIVE1MRGl2RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzX3dyYXBwZXJcIikpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLypcclxuICAgICAgICAgKiByZWZyZXNoIGNhbGxzIFxyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMucmVmcmVzaENhbGxzKCk7XHJcbiAgICB9IFxyXG5cclxuICAgIGFkZENhbGxzKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGRpc3RyaWJ1dGlvbiA9ICg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjX2Rpc3RyaWJ1dGlvblwiKSkudmFsdWU7XHJcbiAgICAgICAgY29uc3QgY2FsbF9jb3VudCA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjX2NvdW50XCIpKS52YWx1ZSk7XHJcblxyXG4gICAgICAgIHN3aXRjaCAoZGlzdHJpYnV0aW9uKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJ1bmlmb3JtXCI6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIC8qIGdlbmVyYXRlIGNhbGxzICovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGNhbGxfY291bnQ7IGkrKylcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbW9yeS5hZGRQYWdlQ2FsbHNUb1Bvb2woW01hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHRoaXMubWVtb3J5Lm51bWJlcl9vZl9wYWdlcyldKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJsb2NhbGl0eVwiOlxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3aW5kb3dfc2l6ZSA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjX3dpbmRvd19zaXplXCIpKS52YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB3aW5kb3dfZGVsdGEgPSBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY193aW5kb3dfZGVsdGFcIikpLnZhbHVlKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiB2YWxpZGF0ZSBpbnB1dCAqL1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHdpbmRvd19zaXplKSB8fCBpc05hTih3aW5kb3dfZGVsdGEpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYWxlcnQoXCJJbnZhbGlkIGlucHV0XCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3dfc2l6ZSA+IHRoaXMubWVtb3J5Lm51bWJlcl9vZl9wYWdlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiV2luZG93IHNpemUgaXMgYmlnZ2VyIHRoYW4gbnVtYmVyIG9mIHBhZ2VzXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmICh3aW5kb3dfZGVsdGEgPiB0aGlzLm1lbW9yeS5udW1iZXJfb2ZfcGFnZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIldpbmRvdyBkZWx0YSBpcyBiaWdnZXIgdGhhbiBudW1iZXIgb2YgcGFnZXNcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8qIGdlbmVyYXRlIGNhbGxzICovXHJcbiAgICAgICAgICAgICAgICBsZXQgd2luZG93X3N0YXJ0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMubWVtb3J5Lm51bWJlcl9vZl9wYWdlcyAtIHdpbmRvd19zaXplKSk7XHJcbiAgICAgICAgICAgICAgICBmb3IobGV0IGkgPSAwOyBpIDwgY2FsbF9jb3VudDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZV9pZCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHdpbmRvd19zaXplKSArIHdpbmRvd19zdGFydDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbW9yeS5hZGRQYWdlQ2FsbHNUb1Bvb2woW3BhZ2VfaWRdKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgREVCVUcgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoREVCVUcpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd19zdGFydDogd2luZG93X3N0YXJ0LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93X3NpemU6IHdpbmRvd19zaXplLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFnZV9pZDogcGFnZV9pZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvd19kZWx0YTogd2luZG93X2RlbHRhXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKiBtb3ZlIHdpbmRvdyBieSBkZWx0YSBpbiByYW5nZSBbLXdpbmRvd19kZWx0YSwgd2luZG93X2RlbHRhXSAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IGRlbHRhID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHdpbmRvd19kZWx0YSAqIDIgKyAxKSkgLSB3aW5kb3dfZGVsdGE7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93X3N0YXJ0ID0gKHdpbmRvd19zdGFydCArIGRlbHRhKSAlICh0aGlzLm1lbW9yeS5udW1iZXJfb2ZfcGFnZXMgLSB3aW5kb3dfc2l6ZSArIDEpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKiBhdm9pZCAwICUgMCAqL1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLm1lbW9yeS5udW1iZXJfb2ZfcGFnZXMgLSB3aW5kb3dfc2l6ZSA9PT0gMCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3dfc3RhcnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLyogbWFrZSBzdXJlIHdpbmRvd19zdGFydCBpcyBpbiByYW5nZSBbMCwgbnVtYmVyX29mX3BhZ2VzIC0gd2luZG93X3NpemVdICovXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHdpbmRvd19zdGFydCA8IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93X3N0YXJ0ICs9IHRoaXMubWVtb3J5Lm51bWJlcl9vZl9wYWdlcyAtIHdpbmRvd19zaXplICsgMTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJJbnZhbGlkIGRpc3RyaWJ1dGlvblwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQ2FsbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhckNhbGxzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubWVtb3J5LmNsZWFyUGFnZUNhbGxQb29sKCk7XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQ2FsbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoQ2FsbHMoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc29sZS5sb2coXCJDYWxscyBpbiBwb29sOiBcIiArIHRoaXMubWVtb3J5LnBhZ2VfY2FsbF9wb29sLmxlbmd0aCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRfY291bnRfZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBfY3VycmVudF9jb3VudFwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICBjdXJyZW50X2NvdW50X2VsLmlubmVySFRNTCA9IGAoJHt0aGlzLm1lbW9yeS5wYWdlX2NhbGxfcG9vbC5sZW5ndGgudG9TdHJpbmcoKX0pYDtcclxuXHJcbiAgICAgICAgY29uc3QgY3VycmVudF9wYWdlX2NhbGxzX2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50X3BhZ2VfY2FsbHNfdmFsXCIpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xyXG4gICAgICAgIGN1cnJlbnRfcGFnZV9jYWxsc19lbC5pbm5lckhUTUwgPSB0aGlzLm1lbW9yeS5wYWdlX2NhbGxfcG9vbC5yZWR1Y2UoKGFjYzogc3RyaW5nLCBwYWdlX2NhbGw6IFBhZ2UpID0+IGFjYyArIHBhZ2VfY2FsbC5pZC50b1N0cmluZygpICsgXCIsIFwiLCBcIlwiKS5zbGljZSgwLCAtMik7XHJcblxyXG4gICAgICAgIGlmKHRoaXMubWVtb3J5LnBhZ2VfY2FsbF9wb29sLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIGN1cnJlbnRfcGFnZV9jYWxsc19lbC5pbm5lckhUTUwgPSBcIjxzcGFuIHN0eWxlPSdjb2xvcjogeWVsbG93Jz5lbXB0eTwvc3Bhbj5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcnVuKGFuaW1hdGlvbj86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBhbGdTdHIgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYV90eXBlXCIpKS52YWx1ZTtcclxuICAgICAgICBsZXQgY29tcGFyZV9hbGw6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgc3dpdGNoKGFsZ1N0ci50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgXCJmaWZvXCI6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMubWVtb3J5LnNldEFsZ29yaXRobShuZXcgRklGTygpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJvcHRcIjpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZW1vcnkuc2V0QWxnb3JpdGhtKG5ldyBPUFQoKSk7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIFwibHJ1XCI6XHJcbiAgICAgICAgICAgIHsgICBcclxuICAgICAgICAgICAgICAgIHRoaXMubWVtb3J5LnNldEFsZ29yaXRobShuZXcgTFJVKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcImFscnVcIjpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZW1vcnkuc2V0QWxnb3JpdGhtKG5ldyBBTFJVKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcInJhbmRcIjpcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5tZW1vcnkuc2V0QWxnb3JpdGhtKG5ldyBSQU5EKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcImNvbXBhcmVfYWxsXCI6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGNvbXBhcmVfYWxsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGFsZXJ0KFwiSW52YWxpZCBhbGdvcml0aG1cIik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChjb21wYXJlX2FsbCkge1xyXG4gICAgICAgICAgICBjb25zdCBhbGdvcml0aG1zID0gW1xyXG4gICAgICAgICAgICAgICAgbmV3IEZJRk8oKSxcclxuICAgICAgICAgICAgICAgIG5ldyBPUFQoKSxcclxuICAgICAgICAgICAgICAgIG5ldyBMUlUoKSxcclxuICAgICAgICAgICAgICAgIG5ldyBBTFJVKCksXHJcbiAgICAgICAgICAgICAgICBuZXcgUkFORCgpXHJcbiAgICAgICAgICAgIF07XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB0aGlzLm1lbW9yeS5jb21wYXJlQWxsQW5kRGlzcGxheVJlc3VsdHMoYWxnb3JpdGhtcyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhbmltYXRpb24pIHtcclxuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25HVUkuc3RhcnRBbmltYXRpb24oKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdHMgPSB0aGlzLm1lbW9yeS5zaW11bGF0ZSgpO1xyXG4gICAgICAgICAgICB0aGlzLm1lbW9yeS5kaXNwbGF5UmVzdWx0cyhyZXN1bHRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcclxuICAgIGlkOiBudW1iZXJcclxuICAgIGxhc3RfY2FsbF90aW1lOiBudW1iZXJcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMubGFzdF9jYWxsX3RpbWUgPSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGNhbGwodGltZTogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5sYXN0X2NhbGxfdGltZSA9IHRpbWU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUmVwbGFjZW1lbnRBbGdvcml0aG0sIHsgTWVtb3J5U3RhdGVEYXRhIH0gZnJvbSBcIi4uL1JlcGxhY2VtZW50QWxnb3JpdGhtXCI7XHJcblxyXG5pbXBvcnQgUGFnZSBmcm9tIFwiLi4vUGFnZVwiO1xyXG5cclxuLyoqXHJcbiAqIEFwcHJveGltYXRlIExlYXN0IFJlY2VudGx5IFVzZWQgKEFMUlUpXHJcbiAqL1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBTFJVIGltcGxlbWVudHMgUmVwbGFjZW1lbnRBbGdvcml0aG0ge1xyXG4gICAgbmFtZTogc3RyaW5nID0gXCJBTFJVXCJcclxuXHJcbiAgICBiaXRfYXJyYXk6IEFycmF5PGJvb2xlYW4+ID0gW11cclxuICAgIHBvaW50ZXI6IG51bWJlciA9IDBcclxuXHJcbiAgICBvblBhZ2VBbHJlYWR5SW5NZW1vcnkoZGF0YTogTWVtb3J5U3RhdGVEYXRhKSB7XHJcbiAgICAgICAgLyogc2V0IHRoZSBcInNlY29uZCBjaGFuY2VcIiBiaXQgdG8gMSAqL1xyXG4gICAgICAgIGNvbnN0IGluZGV4ID0gZGF0YS5jdXJyZW50X2ZyYW1lcy5maW5kSW5kZXgoeCA9PiB4LnBhZ2U/LmlkID09IGRhdGEucGFnZV9jYWxsLmlkKTtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4ID09IC0xKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJBTFJVOiBmYXRhbCBlcnJvciAoaW5kZXggLTEpXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmJpdF9hcnJheVtpbmRleF0gPSB0cnVlO1xyXG4gICAgfVxyXG5cclxuICAgIGhhbmRsZVBhZ2VGYXVsdChkYXRhOiBNZW1vcnlTdGF0ZURhdGEpOiBudW1iZXIge1xyXG4gICAgICAgIC8qIG1ha2Ugc3VyZSBhbGwgYml0cyBhcmUgaW5pdGlhbGl6ZWQgdG8gMCAoaWYgdW5zZXQpICovXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBkYXRhLmN1cnJlbnRfZnJhbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmJpdF9hcnJheVtpXSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5iaXRfYXJyYXlbaV0gPSBmYWxzZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIG1ha2Ugc3VyZSB0aGUgcG9pbnRlciBpcyBpbiByYW5nZSAqL1xyXG4gICAgICAgIHRoaXMucG9pbnRlciA9IHRoaXMucG9pbnRlciAlIGRhdGEuY3VycmVudF9mcmFtZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAvKiBmaW5kIHRoZSBmaXJzdCBmcmFtZSB0aGF0IGhhcyB0aGUgXCJzZWNvbmQgY2hhbmNlXCIgYml0IHNldCB0byAwICovXHJcbiAgICAgICAgd2hpbGUgKHRydWUpIHtcclxuICAgICAgICAgICAgY29uc3QgZnJhbWUgPSBkYXRhLmN1cnJlbnRfZnJhbWVzW3RoaXMucG9pbnRlcl07XHJcbiAgICAgICAgICAgIGlmIChmcmFtZS5wYWdlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZyYW1lIGlzIGVtcHR5IC0gdGhpcyBzaG91bGQgYmUgZW5zdXJlZCBub3QgdG8gaGFwcGVuIGJ5IHRoZSBjYWxsZXJcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgLyogc2V0IHRoZSBcInNlY29uZCBjaGFuY2VcIiBiaXQgdG8gMSAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iaXRfYXJyYXlbdGhpcy5wb2ludGVyXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb2ludGVyKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIHRoZSBcInNlY29uZCBjaGFuY2VcIiBiaXQgaXMgMCwgc28gd2UgY2FuIHJlcGxhY2UgdGhpcyBmcmFtZSAqL1xyXG4gICAgICAgICAgICBpZiAodGhpcy5iaXRfYXJyYXlbdGhpcy5wb2ludGVyXSA9PSBmYWxzZSkge1xyXG4gICAgICAgICAgICAgICAgLyogc2V0IHRoZSBcInNlY29uZCBjaGFuY2VcIiBiaXQgdG8gMSAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iaXRfYXJyYXlbdGhpcy5wb2ludGVyXSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5wb2ludGVyKys7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIHNldCB0aGUgXCJzZWNvbmQgY2hhbmNlXCIgYml0IHRvIDAgKi9cclxuICAgICAgICAgICAgdGhpcy5iaXRfYXJyYXlbdGhpcy5wb2ludGVyXSA9IGZhbHNlO1xyXG5cclxuICAgICAgICAgICAgLyogaW5jcmVtZW50IHRoZSBwb2ludGVyICovXHJcbiAgICAgICAgICAgIHRoaXMucG9pbnRlciA9ICh0aGlzLnBvaW50ZXIgKyAxKSAlIGRhdGEuY3VycmVudF9mcmFtZXMubGVuZ3RoO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUmVwbGFjZW1lbnRBbGdvcml0aG0sIHsgTWVtb3J5U3RhdGVEYXRhIH0gZnJvbSBcIi4uL1JlcGxhY2VtZW50QWxnb3JpdGhtXCI7XHJcblxyXG4vKipcclxuICogRmlyc3QgSW4gRmlyc3QgT3V0IChGSUZPKVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRklGTyBpbXBsZW1lbnRzIFJlcGxhY2VtZW50QWxnb3JpdGhtIHtcclxuICAgIG5hbWU6IHN0cmluZyA9IFwiRklGT1wiO1xyXG5cclxuICAgIGhhbmRsZVBhZ2VGYXVsdChkYXRhOiBNZW1vcnlTdGF0ZURhdGEpOiBudW1iZXIge1xyXG4gICAgICAgIHJldHVybiAoZGF0YS5sYXN0X3JlcGxhY2VkX2luZGV4ICsgMSkgJSBkYXRhLmN1cnJlbnRfZnJhbWVzLmxlbmd0aDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUmVwbGFjZW1lbnRBbGdvcml0aG0sIHsgTWVtb3J5U3RhdGVEYXRhIH0gZnJvbSBcIi4uL1JlcGxhY2VtZW50QWxnb3JpdGhtXCI7XHJcblxyXG4vKipcclxuICogTGVhc3QgUmVjZW50bHkgVXNlZCAoTFJVKVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTFJVIGltcGxlbWVudHMgUmVwbGFjZW1lbnRBbGdvcml0aG0ge1xyXG4gICAgbmFtZTogc3RyaW5nID0gXCJMUlVcIlxyXG5cclxuICAgIGhhbmRsZVBhZ2VGYXVsdChkYXRhOiBNZW1vcnlTdGF0ZURhdGEpOiBudW1iZXIgeyBcclxuICAgICAgICAvKiBmaW5kIHRoZSBwYWdlIHRoYXQgd2FzIHVzZWQgdGhlIGxvbmdlc3QgYWdvICovXHJcbiAgICAgICAgbGV0IGZyYW1lX3RvX3JlcGxhY2VfaW5kZXggPSAtMTtcclxuICAgICAgICBsZXQgbGVhc3RfcmVjZW50bHlfdXNlZF9wYWdlX2luZGV4ID0gLTE7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5jdXJyZW50X2ZyYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBmcmFtZSA9IGRhdGEuY3VycmVudF9mcmFtZXNbaV07XHJcbiAgICAgICAgICAgIGlmIChmcmFtZS5wYWdlID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkZyYW1lIGlzIGVtcHR5IC0gdGhpcyBzaG91bGQgYmUgZW5zdXJlZCBub3QgdG8gaGFwcGVuIGJ5IHRoZSBjYWxsZXJcIik7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgbGV0IHBhZ2VfaW5kZXggPSAtMTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGRhdGEucHJldmlvdXNfcGFnZV9jYWxscy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcHJldmlvdXNfcGFnZV9jYWxsID0gZGF0YS5wcmV2aW91c19wYWdlX2NhbGxzW2pdO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c19wYWdlX2NhbGwuaWQgPT0gZnJhbWUucGFnZS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VfaW5kZXggPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAocGFnZV9pbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgLyogcGFnZSB3YXMgbmV2ZXIgdXNlZCBiZWZvcmUgKi9cclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAocGFnZV9pbmRleCA8IGxlYXN0X3JlY2VudGx5X3VzZWRfcGFnZV9pbmRleCB8fCBsZWFzdF9yZWNlbnRseV91c2VkX3BhZ2VfaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIC8qIHBhZ2Ugd2FzIHVzZWQgbG9uZ2VyIGFnbyAqL1xyXG4gICAgICAgICAgICAgICAgZnJhbWVfdG9fcmVwbGFjZV9pbmRleCA9IGk7XHJcbiAgICAgICAgICAgICAgICBsZWFzdF9yZWNlbnRseV91c2VkX3BhZ2VfaW5kZXggPSBwYWdlX2luZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnJhbWVfdG9fcmVwbGFjZV9pbmRleDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUmVwbGFjZW1lbnRBbGdvcml0aG0sIHsgTWVtb3J5U3RhdGVEYXRhIH0gZnJvbSBcIi4uL1JlcGxhY2VtZW50QWxnb3JpdGhtXCI7XHJcblxyXG4vKipcclxuICogT3B0aW1hbCAoT1BUKVxyXG4gKiBOb3QgcG9zc2libGUgdG8gaW1wbGVtZW50IGluIHByYWN0aWNlICh3aXRob3V0IHRoZSBrbm93bGVkZ2Ugb2YgdGhlIGZ1dHVyZSBjYWxscylcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE9QVCBpbXBsZW1lbnRzIFJlcGxhY2VtZW50QWxnb3JpdGhtIHtcclxuICAgIG5hbWU6IHN0cmluZyA9IFwiT1BUXCJcclxuXHJcbiAgICBoYW5kbGVQYWdlRmF1bHQoZGF0YTogTWVtb3J5U3RhdGVEYXRhKTogbnVtYmVyIHtcclxuICAgICAgICAvKiBmaW5kIHRoZSBwYWdlIHRoYXQgd2lsbCBiZSB1c2VkIHRoZSBmYXJ0aGVzdCBpbiB0aGUgZnV0dXJlICovXHJcbiAgICAgICAgbGV0IGZyYW1lX3RvX3JlcGxhY2VfaW5kZXggPSAtMTtcclxuICAgICAgICBsZXQgZmFydGhlc3RfcGFnZV9pbmRleCA9IC0xO1xyXG5cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuY3VycmVudF9mcmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZnJhbWUgPSBkYXRhLmN1cnJlbnRfZnJhbWVzW2ldO1xyXG4gICAgICAgICAgICBpZiAoZnJhbWUucGFnZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGcmFtZSBpcyBlbXB0eSAtIHRoaXMgc2hvdWxkIGJlIGVuc3VyZWQgbm90IHRvIGhhcHBlbiBieSB0aGUgY2FsbGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwYWdlX2luZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZGF0YS5mdXR1cmVfcGFnZV9jYWxscy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnV0dXJlX3BhZ2VfY2FsbCA9IGRhdGEuZnV0dXJlX3BhZ2VfY2FsbHNbal07XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZ1dHVyZV9wYWdlX2NhbGwuaWQgPT0gZnJhbWUucGFnZS5pZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VfaW5kZXggPSBqO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZiAocGFnZV9pbmRleCA9PSAtMSkge1xyXG4gICAgICAgICAgICAgICAgLyogcGFnZSBpcyBub3QgdXNlZCBpbiB0aGUgZnV0dXJlICovXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhZ2VfaW5kZXggPiBmYXJ0aGVzdF9wYWdlX2luZGV4KSB7XHJcbiAgICAgICAgICAgICAgICAvKiBwYWdlIGlzIHVzZWQgZnVydGhlciBpbiB0aGUgZnV0dXJlICovXHJcbiAgICAgICAgICAgICAgICBmcmFtZV90b19yZXBsYWNlX2luZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgIGZhcnRoZXN0X3BhZ2VfaW5kZXggPSBwYWdlX2luZGV4O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gZnJhbWVfdG9fcmVwbGFjZV9pbmRleDtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgUmVwbGFjZW1lbnRBbGdvcml0aG0sIHsgTWVtb3J5U3RhdGVEYXRhIH0gZnJvbSBcIi4uL1JlcGxhY2VtZW50QWxnb3JpdGhtXCI7XHJcblxyXG4vKipcclxuICogUmFuZG9tIChSQU5EKVxyXG4gKi9cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUkFORCBpbXBsZW1lbnRzIFJlcGxhY2VtZW50QWxnb3JpdGhtIHtcclxuICAgIG5hbWU6IHN0cmluZyA9IFwiUkFORFwiXHJcblxyXG4gICAgaGFuZGxlUGFnZUZhdWx0KGRhdGE6IE1lbW9yeVN0YXRlRGF0YSk6IG51bWJlciB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIGRhdGEuY3VycmVudF9mcmFtZXMubGVuZ3RoKTtcclxuICAgIH1cclxufVxyXG4iLCJpbXBvcnQgTWVudSBmcm9tIFwiLi9jbGFzc2VzL01lbnVcIjtcclxuXHJcbmltcG9ydCBNTVUgZnJvbSBcIi4vY2xhc3Nlcy9NTVVcIjtcclxuaW1wb3J0IFBhZ2UgZnJvbSBcIi4vY2xhc3Nlcy9QYWdlXCI7XHJcblxyXG5pbXBvcnQgRklGTyBmcm9tIFwiLi9jbGFzc2VzL2FsZ29yaXRobXMvRklGT1wiO1xyXG5pbXBvcnQgT1BUIGZyb20gXCIuL2NsYXNzZXMvYWxnb3JpdGhtcy9PUFRcIjtcclxuaW1wb3J0IExSVSBmcm9tIFwiLi9jbGFzc2VzL2FsZ29yaXRobXMvTFJVXCI7XHJcbmltcG9ydCBBTFJVIGZyb20gXCIuL2NsYXNzZXMvYWxnb3JpdGhtcy9BTFJVXCI7XHJcbmltcG9ydCBSQU5EIGZyb20gXCIuL2NsYXNzZXMvYWxnb3JpdGhtcy9SQU5EXCI7XHJcblxyXG5mdW5jdGlvbiBtYWluKCkge1xyXG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xyXG4gICAgICAgIGNvbnN0IG1lbnUgPSBuZXcgTWVudSgpO1xyXG4gICAgICAgIG1lbnUuaW5pdCgpO1xyXG4gICAgfVxyXG4gICAgZWxzZSB7XHJcbiAgICAgICAgLypcclxuICAgICAgICAqIHJ1biB3aXRoOiB0c2MgJiYgbm9kZSAuXFxkaXN0XFxwYWdlX3JlcGxhY2VtZW50X3NyY1xcbWFpbi5qc1xyXG4gICAgICAgICovXHJcblxyXG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IG5ldyBNTVUoKTtcclxuICAgICAgICBtZW1vcnkuaW5pdCg1LCAzKTtcclxuICAgICAgICBtZW1vcnkuYWRkUGFnZUNhbGxzVG9Qb29sKFsxLCAyLCAzLCA0LCAxLCAyLCA1LCAxLCAyLCAzLCA0LCA1XSk7XHJcbiAgICAgICAgbWVtb3J5LnNldEFsZ29yaXRobShuZXcgQUxSVSgpKTtcclxuICAgICAgICBcclxuICAgICAgICB3aGlsZSAobWVtb3J5LnBhZ2VfY2FsbF9xdWV1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIG1lbW9yeS5uZXh0VGljaygpO1xyXG4gICAgICAgICAgICBtZW1vcnkucHJpbnRGcmFtZXMoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiVG90YWwgcGFnZSBmYXVsdHM6IFwiICsgbWVtb3J5LnRvdGFsX3BhZ2VfZmF1bHRzKTtcclxuICAgIH1cclxufVxyXG5cclxubWFpbigpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGF5IHtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbCA9IG51bGxcclxuICAgIHJlc2l6ZUNhbGxiYWNrOiAoKCkgPT4gdm9pZCkgfCBudWxsXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLnJlc2l6ZUNhbGxiYWNrID0gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5pdChlbGVtX2lkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtX2lkKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZXNpemVUb0ZpdC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNpemVUb0ZpdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZVRvRml0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmN0eCA9PSBudWxsKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jdHguY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVzaXplQ2FsbGJhY2sgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplQ2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UmVzaXplQ2FsbGJhY2soY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc2l6ZUNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2NSk7XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJtZW51IiwidmlzaWJsZSIsInBsYXlpbmciLCJzcGVlZCIsIkdVSSIsIk1FTlUiLCJwbGF5X3BhdXNlX2J1dHRvbiIsInN0ZXBfYnV0dG9uIiwic3RvcF9idXR0b24iLCJzcGVlZF9zbGlkZXIiLCJpbmZvX2FsZ29yaXRobSIsImluZm9fdGltZSIsImluZm9faXNfZG9uZSIsImluZm9faW5fcXVldWUiLCJpbmZvX2ZpbmlzaGVkIiwiaW5mb190b3RhbF9wYWdlX2ZhdWx0cyIsImluZm9fdG90YWxfcGFnZV9oaXRzIiwiZnJhbWVfcm93cyIsInNlZV9jb2RlX2J1dHRvbiIsInN0b3JlZFNldEludGVydmFsIiwidGhpcyIsImluaXQiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwic3R5bGUiLCJkaXNwbGF5IiwiYWRkRXZlbnRMaXN0ZW5lciIsInRvZ2dsZVBsYXlpbmciLCJzdGVwIiwidG9nZ2xlVmlzaWJsZSIsInBhcnNlSW50IiwidmFsdWUiLCJyZWZyZXNoU3BlZWQiLCJtZW1vcnkiLCJhbGdvcml0aG0iLCJhbGdvcml0aG1OYW1lIiwibmFtZSIsIndpbmRvdyIsIm9wZW4iLCJmb2N1cyIsImluaXRTdGF0ZVRhYmxlIiwiaW5uZXJIVE1MIiwicmVzaXplQ2FsbGJhY2siLCJkcmF3Q3VycmVudFN0YXRlIiwiY2xlYXJJbnRlcnZhbCIsInJlZnJlc2hDYWxscyIsInJlc2V0IiwiRXJyb3IiLCJkaXNhYmxlZCIsInN0YXJ0QW5pbWF0aW9uIiwicmVmcmVzaEluZm8iLCJkcmF3Q2FsbHMiLCJ0aW1lX3JvdyIsImNhbGxzX3JvdyIsInRib2R5IiwidGltZV9yb3dfaGVhZGVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiY2FsbHNfcm93X2hlYWRlciIsImxhc3RDaGlsZCIsImlkIiwicmVtb3ZlQ2hpbGQiLCJpIiwibnVtYmVyX29mX2ZyYW1lcyIsImZyYW1lX3JvdyIsImZyYW1lX3Jvd19oZWFkZXIiLCJwdXNoIiwiU1RBUlRfWCIsIlNUQVJUX1kiLCJXSURUSCIsIkhFSUdIVCIsImNhbGxzVG9EcmF3IiwibmV3Q2FsbCIsInByZXZpb3VzX3BhZ2VfY2FsbHMiLCJhdCIsInRpbWVUaWNrRWwiLCJ0aW1lIiwiY2FsbHNUaWNrRWwiLCJwYWdlIiwiZnJhbWVzIiwiZnJhbWVUaWNrRWwiLCJiaXQiLCJiaXRfYXJyYXkiLCJsYXN0X2NhbGxfY2F1c2VkX2ZhdWx0IiwiYmFja2dyb3VuZENvbG9yIiwidGFibGUiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsV2lkdGgiLCJ0b1N0cmluZyIsImlzRmluaXNoZWQiLCJsZW5ndGgiLCJ0b3RhbF9wYWdlX2ZhdWx0cyIsInBhZ2VfY2FsbF9xdWV1ZSIsInNldEludGVydmFsIiwiYmluZCIsIm5leHRUaWNrIiwiZGlzcGxheVJlc3VsdHMiLCJnZXRSZXN1bHRzIiwiYWZ0ZXJEb25lIiwibnVtYmVyX29mX3BhZ2VzIiwicGFnZV9jYWxsX3Bvb2wiLCJsYXN0X3JlcGxhY2VkX2luZGV4IiwiYWRkUGFnZUNhbGxUb1Bvb2wiLCJwYWdlX2NhbGwiLCJhZGRQYWdlQ2FsbHNUb1Bvb2wiLCJwYWdlX2NhbGxzIiwiY2xlYXJQYWdlQ2FsbFBvb2wiLCJzZXRBbGdvcml0aG0iLCJzaGlmdCIsImNvbnNvbGUiLCJ3YXJuIiwibG9nIiwib25QYWdlQ2FsbCIsImdldEN1cnJlbnRTdGF0ZURhdGEiLCJwYWdlX2ZhdWx0Iiwib25QYWdlQWxyZWFkeUluTWVtb3J5IiwiZmluZCIsImZyYW1lIiwiaW5kZXhfdG9fcmVwbGFjZSIsImhhbmRsZVBhZ2VGYXVsdCIsInBhZ2VfaW5fbWVtb3J5IiwiY2FsbCIsImN1cnJlbnRfZnJhbWVzIiwiZnV0dXJlX3BhZ2VfY2FsbHMiLCJzaW11bGF0ZSIsInRvdGFsX3BhZ2VfaGl0cyIsInRvdGFsX3BhZ2VfY2FsbHMiLCJwcmludEZyYW1lcyIsInJlc3VsdHMiLCJhbGdTdHIiLCJ0b1VwcGVyQ2FzZSIsInRvRml4ZWQiLCJyZXBsYWNlIiwiUmVnRXhwIiwiY29tcGFyZUFsbEFuZERpc3BsYXlSZXN1bHRzIiwiYWxnb3JpdGhtcyIsInJlc3VsdHNfZWwiLCJhbmltYXRpb25HVUkiLCJydW4iLCJhZGRDYWxscyIsImNsZWFyQ2FsbHMiLCJzZXRSZXNpemVDYWxsYmFjayIsImUiLCJuZXdfdmFsIiwidGFyZ2V0IiwiaXNOYU4iLCJhbGVydCIsImRpc3RyaWJ1dGlvbiIsInRvTG93ZXJDYXNlIiwid2luZG93X3NpemVfZWwiLCJ3aW5kb3dfZGVsdGFfZWwiLCJzZXRBdHRyaWJ1dGUiLCJyZW1vdmVBdHRyaWJ1dGUiLCJjYWxsX2NvdW50IiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwid2luZG93X3NpemUiLCJ3aW5kb3dfZGVsdGEiLCJ3aW5kb3dfc3RhcnQiLCJwYWdlX2lkIiwiY3VycmVudF9wYWdlX2NhbGxzX2VsIiwicmVkdWNlIiwiYWNjIiwic2xpY2UiLCJhbmltYXRpb24iLCJjb21wYXJlX2FsbCIsImxhc3RfY2FsbF90aW1lIiwicG9pbnRlciIsImRhdGEiLCJpbmRleCIsImZpbmRJbmRleCIsIngiLCJmcmFtZV90b19yZXBsYWNlX2luZGV4IiwibGVhc3RfcmVjZW50bHlfdXNlZF9wYWdlX2luZGV4IiwicGFnZV9pbmRleCIsImoiLCJmYXJ0aGVzdF9wYWdlX2luZGV4IiwibWFpbiIsImN0eCIsImVsZW1faWQiLCJjYW52YXMiLCJnZXRDb250ZXh0IiwicmVzaXplVG9GaXQiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsImNhbGxiYWNrIiwiX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fIiwiX193ZWJwYWNrX3JlcXVpcmVfXyIsIm1vZHVsZUlkIiwiY2FjaGVkTW9kdWxlIiwidW5kZWZpbmVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIl9fd2VicGFja19tb2R1bGVzX18iXSwic291cmNlUm9vdCI6IiJ9