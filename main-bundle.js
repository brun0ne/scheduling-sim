(()=>{"use strict";var e={258:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.resizeCallback=null}init(e){const t=document.getElementById(e);this.ctx=t.getContext("2d"),window.addEventListener("resize",this.resizeToFit.bind(this)),this.resizeToFit()}resizeToFit(){this.ctx.canvas.width=window.innerWidth,this.ctx.canvas.height=window.innerHeight,null!=this.resizeCallback&&this.resizeCallback()}setResizeCallback(e){this.resizeCallback=e}}},268:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(s(258)),r=i(s(950)),l=i(s(822)),o=i(s(76)),a=i(s(20)),u=i(s(711)),d=i(s(106));t.default=class{constructor(){this.scheduler=new l.default,this.display=new n.default,this.scheduler.initAutoPlay(this.display)}init(){document.getElementById("run_button").addEventListener("click",(()=>{this.run()})),document.getElementById("run_with_animation_button").addEventListener("click",(()=>{this.run(!0)})),document.getElementById("add_button").addEventListener("click",(()=>{this.addProcesses()})),document.getElementById("clear_button").addEventListener("click",(()=>{this.clearProcesses()})),document.getElementById("a_type").addEventListener("change",(e=>{"rr"===e.target.value.toLowerCase()?document.getElementById("a_time_quanta_all").style.display="block":document.getElementById("a_time_quanta_all").style.display="none","compare all"===e.target.value.toLowerCase()?document.getElementById("run_with_animation_button").disabled=!0:document.getElementById("run_with_animation_button").disabled=!1})),this.display.init("main_canvas"),this.display.setResizeCallback((()=>{this.refreshProcesses()})),document.getElementById("results_close").addEventListener("click",(()=>{document.getElementById("results_wrapper").style.display="none"}));const e=document.getElementById("animation_play_pause"),t=document.getElementById("animation_stop");document.getElementById("animation_step").addEventListener("click",(()=>{if(this.scheduler.nextTick(),this.scheduler.refreshAnimation(this.display),this.scheduler.isFinished())return this.scheduler.displayResults(),void this.scheduler.afterDone()})),e.addEventListener("click",(()=>{this.scheduler._paused?(this.scheduler.resumeAnimation(),e.innerHTML="Pause"):(this.scheduler.pauseAnimation(),e.innerHTML="Play")})),t.addEventListener("click",(()=>{document.getElementById("settings").style.display="flex",document.getElementById("results_wrapper").style.display="none",document.getElementById("animation_gui").style.display="none",this.display.ctx.clearRect(0,0,this.display.ctx.canvas.width,this.display.ctx.canvas.height),this.scheduler.reset(),document.getElementById("animation_play_pause").innerHTML="Play",this.refreshProcesses(),this.display.setResizeCallback((()=>{this.refreshProcesses()}))})),document.getElementById("animation_speed_slider").addEventListener("input",(e=>{this.scheduler.setAnimationSpeed(parseInt(e.target.value))}))}addProcesses(){const e=parseInt(document.getElementById("p_count").value),t=parseInt(document.getElementById("p_max_run_time").value),s=parseInt(document.getElementById("p_max_arrival_time").value);if(isNaN(e)||isNaN(t)||isNaN(s))alert("Invalid input");else{for(let i=0;i<e;i++){const e=Math.floor(Math.random()*s),i=Math.floor(Math.random()*t)+1;this.scheduler.addProcessToPool(new r.default(e,i))}this.refreshProcesses()}}clearProcesses(){this.scheduler.process_pool=[],this.refreshProcesses()}refreshProcesses(){document.getElementById("p_current_count").innerHTML=`(${this.scheduler.process_pool.length.toString()})`,this.display.ctx.clearRect(0,0,this.display.ctx.canvas.width,this.display.ctx.canvas.height);const e=this.display.ctx.canvas.width/2;let t=e,s=50,i=1,n=this.scheduler.process_pool.reduce(((e,t)=>e+t.run_time),0);for(;10*n*i>this.display.ctx.canvas.width/2*(this.display.ctx.canvas.height/50)*.95;)i*=.5;for(const n of this.scheduler.process_pool){let r=10*n.run_time*i;t+r>this.display.ctx.canvas.width&&(t=e,s+=50),this.display.ctx.fillStyle="black",this.display.ctx.strokeStyle="white",this.display.ctx.fillRect(t,s,r,50),this.display.ctx.strokeRect(t,s,r,50),r>10&&(this.display.ctx.fillStyle="white",this.display.ctx.font="10px Consolas",this.display.ctx.textAlign="center",this.display.ctx.fillText(n.run_time.toString(),t+r/2,s+40)),t+=r}}run(e=!1){if(0===this.scheduler.process_pool.length)return void alert("No processes to run");const t=document.getElementById("a_type").value;let s=!1;switch(t.toLowerCase()){case"fcfs":this.scheduler.setAlgorithm(new o.default);break;case"sjf":this.scheduler.setAlgorithm(new u.default);break;case"srtf":this.scheduler.setAlgorithm(new d.default);break;case"rr":const e=parseInt(document.getElementById("a_time_quanta").value);if(isNaN(e))return void alert("Invalid input");this.scheduler.setAlgorithm(new a.default(e));break;case"compare all":s=!0;break;default:return void console.log("Invalid algorithm")}if(e&&!s)document.getElementById("settings").style.display="none",document.getElementById("results_wrapper").style.display="none",document.getElementById("animation_gui").style.display="block",this.display.ctx.clearRect(0,0,this.display.ctx.canvas.width,this.display.ctx.canvas.height),this.scheduler.refreshAnimation(this.display),this.display.resizeCallback=()=>{this.scheduler.refreshAnimation(this.display)};else{if(s)return void this.scheduler.compareAllAndDisplayResults();const e=this.scheduler.simulate();this.scheduler.displayResults(t,e)}}}},950:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(s(498));class r{constructor(e,t){this.id=r.incremented_id,r.incremented_id++,this.start_time=e,this.run_time=t,this.time_left=t,this.turnaround_time=0,this.visual=new n.default(this)}run(){return this.time_left-=1,this.time_left<=0}getCopy(){const e=new r(this.start_time,this.run_time);return e.id=this.id,e.time_left=this.time_left,e.turnaround_time=this.turnaround_time,e}}t.default=r,r.incremented_id=0},822:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(s(76)),r=i(s(711)),l=i(s(106)),o=i(s(20));t.default=class{constructor(){this.process_pool=[],this.process_queue=[],this.finished_processes=[],this.time=0,this.previousActiveProcess=null,this._paused=!0,this._speed=1,this._interval=null,this._display=null}setAlgorithm(e){this.algorithm=e}reset(){this.process_queue=[],this.finished_processes=[],this.previousActiveProcess=null,this.time=0,this.pauseAnimation()}addProcessToPool(e){this.process_pool.push(e)}nextTick(){for(const e of this.process_pool)e.start_time==this.time&&this.process_queue.push(e.getCopy());if(this.process_queue.length>0){this.process_queue=this.algorithm.preprocess(this.process_queue);for(const e of this.process_queue)e.turnaround_time++;let e=this.algorithm.pickNext(this.process_queue,this.previousActiveProcess);e.run()&&(this.finished_processes.push(e),this.process_queue.splice(this.process_queue.indexOf(e),1)),this.previousActiveProcess=e}this.time++}isFinished(){return this.process_pool.length==this.finished_processes.length}getResults(){let e=0;for(const t of this.finished_processes)e+=t.turnaround_time;return e/=this.finished_processes.length,{avgTurnaroundTime:e,maxTime:Math.max(...this.finished_processes.map((e=>e.turnaround_time)))}}simulate(){for(;!this.isFinished();)this.nextTick();const e=this.getResults();return this.reset(),e}compareAllAndDisplayResults(){this.setAlgorithm(new n.default);const e=this.simulate();this.reset(),this.setAlgorithm(new r.default);const t=this.simulate();this.reset(),this.setAlgorithm(new l.default);const s=this.simulate();this.reset(),this.setAlgorithm(new o.default(1));const i=this.simulate();this.reset(),this.setAlgorithm(new o.default(3));const a=this.simulate();this.reset();let u=`(average turnaround time)\n\n        FCFS:   ${e.avgTurnaroundTime.toFixed(2)}\n        SJF:    ${t.avgTurnaroundTime.toFixed(2)}\n        SRTF:   ${s.avgTurnaroundTime.toFixed(2)}\n        RR (1):  ${i.avgTurnaroundTime.toFixed(2)}\n        RR (3):  ${a.avgTurnaroundTime.toFixed(2)}`;u=u.replace(RegExp("\n","g"),"<br>"),document.getElementById("results_wrapper").style.display="flex",document.getElementById("results").innerHTML=u}initAutoPlay(e){this._display=e,null!=this._interval&&clearInterval(this._interval),this._interval=setInterval((()=>{this._paused||(this.nextTick(),this.refreshAnimation(e),this.isFinished()&&(this.pauseAnimation(),this.displayResults(this.algorithm.name),this.afterDone()))}).bind(this),1e3/this._speed)}refreshAnimation(e){this.isFinished()||(document.getElementById("animation_play_pause").disabled=!1,document.getElementById("animation_step").disabled=!1,document.getElementById("animation_is_done").style.display="none");const t=e.ctx,s=e.ctx.canvas.width,i=e.ctx.canvas.height;let n=150;for(const e of this.process_queue){const t=10*e.time_left;e.visual.setPos(n,i/3*2-50,t),n+=t+20}null!=this.previousActiveProcess&&(this.previousActiveProcess.visual.color="#ff0000");for(const e of this.process_queue)e!=this.previousActiveProcess&&(e.visual.color="#ffffff");t.clearRect(0,0,s,i),t.fillStyle="white",t.fillRect(0,i/3*2,s,1),t.strokeStyle="white",t.strokeRect(50,i/3*2-100,50,100),t.font="15px Roboto",t.textAlign="center",t.fillText("Î¼P",75,i/3*2-50);for(const e of this.process_queue)e.visual.x+e.visual.width<s-s/4&&e.visual.draw(t);if(this.process_queue.length>0){const e=this.process_queue[this.process_queue.length-1];e.visual.x+e.visual.width>s-s/4&&(t.font="30px Roboto",t.fillStyle="white",t.fillText("... + "+(this.process_queue.length-1)+" more",s-s/8,i/3*2-50+25))}document.getElementById("animation_info_algorithm_value").innerHTML=this.algorithm.name,document.getElementById("animation_info_time_value").innerHTML=this.time.toString();const r=this.process_pool.length-(this.process_queue.length+this.finished_processes.length),l=document.getElementById("processes_info_left_to_join_value");l.innerHTML=r.toString(),l.style.color=r>0?"yellow":"white",document.getElementById("processes_info_finished_value").innerHTML=this.finished_processes.length.toString()}displayResults(e=this.algorithm.name,t=null){null==t&&(t=this.getResults()),document.getElementById("results_wrapper").style.display="flex",document.getElementById("results").innerHTML=`\n        Algorithm: ${e.toUpperCase()} ${"rr"===e.toLowerCase()?`(${document.getElementById("a_time_quanta").value})`:""}\n\n        Average turnaround time: ${t.avgTurnaroundTime.toFixed(2)}\n\n        Maximum turnaround time: ${t.maxTime.toFixed(2)}\n        `.replace(RegExp("\n","g"),"<br />")}resumeAnimation(){this._paused=!1}pauseAnimation(){this._paused=!0}setAnimationSpeed(e){this._speed=e,this.initAutoPlay(this._display)}afterDone(){document.getElementById("animation_is_done").style.display="block",document.getElementById("animation_play_pause").disabled=!0,document.getElementById("animation_step").disabled=!0}}},498:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.process=e,this.height=50,this.color=this.process.start_time>0?"#ff0000":"#00ff00"}setPos(e,t,s=50){this.x=e,this.y=t,this.width=s}draw(e){e.fillStyle=this.color,e.fillRect(this.x,this.y,this.width,this.height)}}},76:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="FCFS"}preprocess(e){return e}pickNext(e,t){return e[0]}}},20:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.name="RR",this.quantum=e}preprocess(e){return e}pickNext(e,t){if(null==t){const t=e[0];return this.current_processIndex=0,this.current_quantum=this.quantum,this.current_quantum--,t}return t.time_left>0&&this.current_quantum>0?(this.current_quantum--,t):t.time_left>0&&this.current_quantum<=0?(this.current_processIndex=(this.current_processIndex+1)%e.length,this.current_quantum=this.quantum,this.current_quantum--,e[this.current_processIndex]):0==t.time_left?(this.current_quantum=this.quantum,this.current_quantum--,this.current_processIndex>=e.length&&(this.current_processIndex=0),e[this.current_processIndex]):void 0}}},711:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="SJF"}preprocess(e){return e.sort(((e,t)=>e.run_time-t.run_time))}pickNext(e,t){return null!=t&&t.time_left>0?t:e[0]}}},106:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="SRTF"}preprocess(e){return e.sort(((e,t)=>e.time_left-t.time_left))}pickNext(e,t){return e[0]}}},965:function(e,t,s){var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const n=i(s(268)),r=i(s(950)),l=i(s(822)),o=i(s(20));!function(){if("undefined"!=typeof document){const e=new n.default;e.init(),e.scheduler.addProcessToPool(new r.default(0,2)),e.scheduler.addProcessToPool(new r.default(0,5)),e.scheduler.addProcessToPool(new r.default(0,3)),e.refreshProcesses()}else{const e=new l.default;e.addProcessToPool(new r.default(0,2)),e.addProcessToPool(new r.default(0,1)),e.addProcessToPool(new r.default(0,3)),e.setAlgorithm(new o.default(1)),console.log(e.simulate())}}()}},t={};!function s(i){var n=t[i];if(void 0!==n)return n.exports;var r=t[i]={exports:{}};return e[i].call(r.exports,r,r.exports,s),r.exports}(965)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUcsSUFDMUN2QyxFQUFVdUMsaUJBQWlCLElBQUksVUFBUSxFQUFHLElBRTFDdkMsRUFBVThELGFBQWEsSUFBSSxVQUFHLElBRTlCRSxRQUFRQyxJQUFJakUsRUFBVW9FLFcsQ0FFOUIsQ0FFQTRELEUsR0N2Q0lDLEVBQTJCLENBQUMsR0FHaEMsU0FBU0MsRUFBb0JDLEdBRTVCLElBQUlDLEVBQWVILEVBQXlCRSxHQUM1QyxRQUFxQkUsSUFBakJELEVBQ0gsT0FBT0EsRUFBYUUsUUFHckIsSUFBSUMsRUFBU04sRUFBeUJFLEdBQVksQ0FHakRHLFFBQVMsQ0FBQyxHQU9YLE9BSEFFLEVBQW9CTCxHQUFVTSxLQUFLRixFQUFPRCxRQUFTQyxFQUFRQSxFQUFPRCxRQUFTSixHQUdwRUssRUFBT0QsT0FDZixDQ25CMEJKLENBQW9CLEkiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9jbGFzc2VzL0Rpc3BsYXkudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9NZW51LnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvUHJvY2Vzcy50cyIsIndlYnBhY2s6Ly8vLi9jbGFzc2VzL1NjaGVkdWxlci50cyIsIndlYnBhY2s6Ly8vLi9jbGFzc2VzL1Zpc3VhbFByb2Nlc3MudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9hbGdvcml0aG1zL0ZDRlMudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9hbGdvcml0aG1zL1JSLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvYWxnb3JpdGhtcy9TSkYudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9hbGdvcml0aG1zL1NSVEYudHMiLCJ3ZWJwYWNrOi8vLy4vbWFpbi50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGF5IHtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEXHJcbiAgICByZXNpemVDYWxsYmFjazogKCkgPT4gdm9pZFxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5yZXNpemVDYWxsYmFjayA9IG51bGw7XHJcbiAgICB9XHJcbiAgICBcclxuICAgIGluaXQoZWxlbV9pZDogc3RyaW5nKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY2FudmFzID0gPEhUTUxDYW52YXNFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtX2lkKTtcclxuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpO1xyXG5cclxuICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcInJlc2l6ZVwiLCB0aGlzLnJlc2l6ZVRvRml0LmJpbmQodGhpcykpO1xyXG5cclxuICAgICAgICB0aGlzLnJlc2l6ZVRvRml0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzaXplVG9GaXQoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jdHguY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVzaXplQ2FsbGJhY2sgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplQ2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UmVzaXplQ2FsbGJhY2soY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc2l6ZUNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgRGlzcGxheSBmcm9tIFwiLi9EaXNwbGF5XCI7XHJcblxyXG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi9Qcm9jZXNzXCI7XHJcbmltcG9ydCBTY2hlZHVsZXIgZnJvbSBcIi4vU2NoZWR1bGVyXCI7XHJcblxyXG5pbXBvcnQgRkNGUyBmcm9tIFwiLi9hbGdvcml0aG1zL0ZDRlNcIjtcclxuaW1wb3J0IFJSIGZyb20gXCIuL2FsZ29yaXRobXMvUlJcIjtcclxuaW1wb3J0IFNKRiBmcm9tIFwiLi9hbGdvcml0aG1zL1NKRlwiO1xyXG5pbXBvcnQgU1JURiBmcm9tIFwiLi9hbGdvcml0aG1zL1NSVEZcIjtcclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW51IHtcclxuICAgIHNjaGVkdWxlcjogU2NoZWR1bGVyXHJcbiAgICBkaXNwbGF5OiBEaXNwbGF5XHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLnNjaGVkdWxlciA9IG5ldyBTY2hlZHVsZXIoKTtcclxuICAgICAgICB0aGlzLmRpc3BsYXkgPSBuZXcgRGlzcGxheSgpO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVyLmluaXRBdXRvUGxheSh0aGlzLmRpc3BsYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcnVuX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuX2J1dHRvblwiKTtcclxuICAgICAgICBydW5fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IHRoaXMucnVuKCkgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHJ1bl93aXRoX2FuaW1hdGlvbl9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJ1bl93aXRoX2FuaW1hdGlvbl9idXR0b25cIik7XHJcbiAgICAgICAgcnVuX3dpdGhfYW5pbWF0aW9uX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLnJ1bih0cnVlKSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgYWRkX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYWRkX2J1dHRvblwiKTtcclxuICAgICAgICBhZGRfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IHRoaXMuYWRkUHJvY2Vzc2VzKCkgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGNsZWFyX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2xlYXJfYnV0dG9uXCIpO1xyXG4gICAgICAgIGNsZWFyX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLmNsZWFyUHJvY2Vzc2VzKCkgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IGFsZ29yaXRobV9zZWxlY3QgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFfdHlwZVwiKTtcclxuICAgICAgICBhbGdvcml0aG1fc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGU6IEV2ZW50KSA9PiBcclxuICAgICAgICB7IFxyXG4gICAgICAgICAgICBpZiAoKDxIVE1MU2VsZWN0RWxlbWVudD4gZS50YXJnZXQpLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IFwicnJcIilcclxuICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYV90aW1lX3F1YW50YV9hbGxcIikuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhX3RpbWVfcXVhbnRhX2FsbFwiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgICAgICAgICBpZiAoKDxIVE1MU2VsZWN0RWxlbWVudD4gZS50YXJnZXQpLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IFwiY29tcGFyZSBhbGxcIilcclxuICAgICAgICAgICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuX3dpdGhfYW5pbWF0aW9uX2J1dHRvblwiKSkuZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgICAgICAoPEhUTUxCdXR0b25FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJ1bl93aXRoX2FuaW1hdGlvbl9idXR0b25cIikpLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHRoaXMuZGlzcGxheS5pbml0KFwibWFpbl9jYW52YXNcIik7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5LnNldFJlc2l6ZUNhbGxiYWNrKCgpID0+IHsgdGhpcy5yZWZyZXNoUHJvY2Vzc2VzKCkgfSk7XHJcblxyXG4gICAgICAgIC8qIHJlc3VsdHMgYnV0dG9ucyAqL1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHRzX2Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzX2Nsb3NlXCIpO1xyXG4gICAgICAgIHJlc3VsdHNfY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzX3dyYXBwZXJcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBhbmltYXRpb24gYnV0dG9ucyAqL1xyXG4gICAgICAgIFxyXG4gICAgICAgIGNvbnN0IHBsYXlfcGF1c2VfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fcGxheV9wYXVzZVwiKTtcclxuICAgICAgICBjb25zdCBzdG9wX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3N0b3BcIik7XHJcbiAgICAgICAgY29uc3Qgc3RlcF9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9zdGVwXCIpO1xyXG5cclxuICAgICAgICBzdGVwX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlci5uZXh0VGljaygpO1xyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlci5yZWZyZXNoQW5pbWF0aW9uKHRoaXMuZGlzcGxheSk7XHJcblxyXG4gICAgICAgICAgICBpZiAodGhpcy5zY2hlZHVsZXIuaXNGaW5pc2hlZCgpKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLmRpc3BsYXlSZXN1bHRzKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNjaGVkdWxlci5hZnRlckRvbmUoKTtcclxuXHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcGxheV9wYXVzZV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMuc2NoZWR1bGVyLl9wYXVzZWQpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIucmVzdW1lQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5X3BhdXNlX2J1dHRvbi5pbm5lckhUTUwgPSBcIlBhdXNlXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLnBhdXNlQW5pbWF0aW9uKCk7XHJcbiAgICAgICAgICAgICAgICBwbGF5X3BhdXNlX2J1dHRvbi5pbm5lckhUTUwgPSBcIlBsYXlcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzdG9wX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBnbyBiYWNrIHRvIG1lbnVcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR0aW5nc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c193cmFwcGVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fZ3VpXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAgICAgICAgIC8vIGNsZWFyIHRoZSBjYW52YXNcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmN0eC5jbGVhclJlY3QoMCwgMCwgdGhpcy5kaXNwbGF5LmN0eC5jYW52YXMud2lkdGgsIHRoaXMuZGlzcGxheS5jdHguY2FudmFzLmhlaWdodCk7XHJcblxyXG4gICAgICAgICAgICAvLyByZXNldFxyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlci5yZXNldCgpO1xyXG4gICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9wbGF5X3BhdXNlXCIpLmlubmVySFRNTCA9IFwiUGxheVwiO1xyXG5cclxuICAgICAgICAgICAgLy8gZHJhdyBwcm9jZXNzIHByZXZpZXdcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoUHJvY2Vzc2VzKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgYmFjayB0aGUgcmVzaXplIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5zZXRSZXNpemVDYWxsYmFjaygoKSA9PiB7IHRoaXMucmVmcmVzaFByb2Nlc3NlcygpIH0pO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBzcGVlZCBjb250cm9sIHNsaWRlciAqL1xyXG4gICAgICAgIGNvbnN0IHNwZWVkX3NsaWRlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3NwZWVkX3NsaWRlclwiKTtcclxuICAgICAgICBzcGVlZF9zbGlkZXIuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChlOiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlci5zZXRBbmltYXRpb25TcGVlZChwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+IGUudGFyZ2V0KS52YWx1ZSkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFByb2Nlc3NlcygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBwcm9jZXNzX2NvdW50ID0gcGFyc2VJbnQoKDxIVE1MSW5wdXRFbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInBfY291bnRcIikpLnZhbHVlKTtcclxuICAgICAgICBjb25zdCBtYXhfcHJvY2Vzc19ydW5fdGltZSA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwX21heF9ydW5fdGltZVwiKSkudmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IG1heF9wcm9jZXNzX2Fycml2YWxfdGltZSA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwX21heF9hcnJpdmFsX3RpbWVcIikpLnZhbHVlKTtcclxuXHJcbiAgICAgICAgLy8gY2hlY2sgaWYgaW5wdXQgaXMgdmFsaWRcclxuICAgICAgICBpZiAoaXNOYU4ocHJvY2Vzc19jb3VudCkgfHwgaXNOYU4obWF4X3Byb2Nlc3NfcnVuX3RpbWUpIHx8IGlzTmFOKG1heF9wcm9jZXNzX2Fycml2YWxfdGltZSkpe1xyXG4gICAgICAgICAgICBhbGVydChcIkludmFsaWQgaW5wdXRcIik7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGZvcihsZXQgaSA9IDA7IGkgPCBwcm9jZXNzX2NvdW50OyBpKyspe1xyXG4gICAgICAgICAgICBjb25zdCBhcnJpdmFsX3RpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBtYXhfcHJvY2Vzc19hcnJpdmFsX3RpbWUpO1xyXG4gICAgICAgICAgICBjb25zdCBydW5fdGltZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIG1heF9wcm9jZXNzX3J1bl90aW1lKSArIDE7XHJcblxyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlci5hZGRQcm9jZXNzVG9Qb29sKG5ldyBQcm9jZXNzKGFycml2YWxfdGltZSwgcnVuX3RpbWUpKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaFByb2Nlc3NlcygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyUHJvY2Vzc2VzKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuc2NoZWR1bGVyLnByb2Nlc3NfcG9vbCA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hQcm9jZXNzZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoUHJvY2Vzc2VzKCk6IHZvaWR7XHJcbiAgICAgICAgY29uc3QgcHJvY2Vzc19jdXJyZW50X2NvdW50X2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwX2N1cnJlbnRfY291bnRcIik7XHJcbiAgICAgICAgcHJvY2Vzc19jdXJyZW50X2NvdW50X2VsLmlubmVySFRNTCA9IGAoJHt0aGlzLnNjaGVkdWxlci5wcm9jZXNzX3Bvb2wubGVuZ3RoLnRvU3RyaW5nKCl9KWA7XHJcblxyXG4gICAgICAgIC8vIGRyYXcgcHJvY2Vzc2VzIGFzIHNxdWFyZXMgb24gdGhlIHNjcmVlblxyXG4gICAgICAgIHRoaXMuZGlzcGxheS5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuZGlzcGxheS5jdHguY2FudmFzLndpZHRoLCB0aGlzLmRpc3BsYXkuY3R4LmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICBjb25zdCBzdGFydF94ID0gdGhpcy5kaXNwbGF5LmN0eC5jYW52YXMud2lkdGggLyAyO1xyXG4gICAgICAgIGNvbnN0IHN0YXJ0X3kgPSA1MDtcclxuXHJcbiAgICAgICAgbGV0IGkgPSAwO1xyXG4gICAgICAgIGxldCBwcmV2aW91c1dpZHRoID0gc3RhcnRfeDtcclxuICAgICAgICBsZXQgcHJldmlvdXNIZWlnaHQgPSBzdGFydF95O1xyXG5cclxuICAgICAgICBsZXQgd2lkdGhTY2FsZSA9IDE7XHJcbiAgICAgICAgY29uc3QgSEVJR0hUID0gNTA7XHJcblxyXG4gICAgICAgIGxldCBzdW1PZlJ1blRpbWVzID0gdGhpcy5zY2hlZHVsZXIucHJvY2Vzc19wb29sLnJlZHVjZSgoYSwgYikgPT4gYSArIGIucnVuX3RpbWUsIDApO1xyXG5cclxuICAgICAgICAvLyByZWR1Y2Ugc2NhbGUgYnkgdG8gZml0IHRoZSBzY3JlZW5cclxuICAgICAgICB3aGlsZSAoc3VtT2ZSdW5UaW1lcyAqIDEwICogd2lkdGhTY2FsZSA+ICh0aGlzLmRpc3BsYXkuY3R4LmNhbnZhcy53aWR0aCAvIDIpICogKHRoaXMuZGlzcGxheS5jdHguY2FudmFzLmhlaWdodCAvIEhFSUdIVCkgKiAwLjk1KXtcclxuICAgICAgICAgICAgd2lkdGhTY2FsZSAqPSAwLjU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3Mgb2YgdGhpcy5zY2hlZHVsZXIucHJvY2Vzc19wb29sKXtcclxuICAgICAgICAgICAgbGV0IHdpZHRoID0gcHJvY2Vzcy5ydW5fdGltZSAqIDEwICogd2lkdGhTY2FsZTtcclxuXHJcbiAgICAgICAgICAgIC8vIGNoZWNrIGlmIGl0IHdpbGwgZml0IG9uIHRoZSBzY3JlZW5cclxuICAgICAgICAgICAgaWYgKHByZXZpb3VzV2lkdGggKyB3aWR0aCA+IHRoaXMuZGlzcGxheS5jdHguY2FudmFzLndpZHRoKXtcclxuICAgICAgICAgICAgICAgIHByZXZpb3VzV2lkdGggPSBzdGFydF94O1xyXG4gICAgICAgICAgICAgICAgcHJldmlvdXNIZWlnaHQgKz0gSEVJR0hUO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvLyBibGFjayByZWN0YW5nbGVzIHdpdGggd2hpdGUgYm9yZGVyXHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5jdHguZmlsbFN0eWxlID0gXCJibGFja1wiO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuY3R4LnN0cm9rZVN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgICAgICB0aGlzLmRpc3BsYXkuY3R4LmZpbGxSZWN0KHByZXZpb3VzV2lkdGgsIHByZXZpb3VzSGVpZ2h0LCB3aWR0aCwgSEVJR0hUKTtcclxuICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmN0eC5zdHJva2VSZWN0KHByZXZpb3VzV2lkdGgsIHByZXZpb3VzSGVpZ2h0LCB3aWR0aCwgSEVJR0hUKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRleHQgKHJ1bl90aW1lKSBpbnNpZGUgdGhlIHJlY3RhbmdsZVxyXG4gICAgICAgICAgICBpZiAod2lkdGggPiAxMCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXkuY3R4LmZpbGxTdHlsZSA9IFwid2hpdGVcIjtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGlzcGxheS5jdHguZm9udCA9IFwiMTBweCBDb25zb2xhc1wiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kaXNwbGF5LmN0eC5maWxsVGV4dChwcm9jZXNzLnJ1bl90aW1lLnRvU3RyaW5nKCksIHByZXZpb3VzV2lkdGggKyB3aWR0aC8yLCBwcmV2aW91c0hlaWdodCArIDQwKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgcHJldmlvdXNXaWR0aCArPSB3aWR0aDtcclxuICAgICAgICAgICAgaSsrO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBydW4oYW5pbWF0aW9uOiBib29sZWFuID0gZmFsc2UpOiB2b2lke1xyXG4gICAgICAgIGlmICh0aGlzLnNjaGVkdWxlci5wcm9jZXNzX3Bvb2wubGVuZ3RoID09PSAwKXtcclxuICAgICAgICAgICAgYWxlcnQoXCJObyBwcm9jZXNzZXMgdG8gcnVuXCIpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCBhbGdTdHIgPSAoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYV90eXBlXCIpKS52YWx1ZTtcclxuICAgICAgICBsZXQgY29tcGFyZV9hbGwgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgc3dpdGNoKGFsZ1N0ci50b0xvd2VyQ2FzZSgpKXtcclxuXHJcbiAgICAgICAgICAgIC8vIGZpcnN0IGNvbWUgZmlyc3Qgc2VydmVcclxuICAgICAgICAgICAgY2FzZSBcImZjZnNcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLnNldEFsZ29yaXRobShuZXcgRkNGUygpKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG5cclxuICAgICAgICAgICAgLy8gc2hvcnRlc3Qgam9iIGZpcnN0XHJcbiAgICAgICAgICAgIGNhc2UgXCJzamZcIjpcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLnNldEFsZ29yaXRobShuZXcgU0pGKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvLyBzaG9ydGVzdCByZW1haW5pbmcgdGltZSBmaXJzdFxyXG4gICAgICAgICAgICBjYXNlIFwic3J0ZlwiOlxyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIuc2V0QWxnb3JpdGhtKG5ldyBTUlRGKCkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvLyByb3VuZCByb2JpblxyXG4gICAgICAgICAgICBjYXNlIFwicnJcIjpcclxuICAgICAgICAgICAgICAgIGNvbnN0IHF1YW50dW0gPSBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYV90aW1lX3F1YW50YVwiKSkudmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgaWYgKGlzTmFOKHF1YW50dW0pKXtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkludmFsaWQgaW5wdXRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLnNldEFsZ29yaXRobShuZXcgUlIocXVhbnR1bSkpO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICAvLyBjb21wYXJlIGFsbCBhbGdvcml0aG1zXHJcbiAgICAgICAgICAgIGNhc2UgXCJjb21wYXJlIGFsbFwiOlxyXG4gICAgICAgICAgICAgICAgY29tcGFyZV9hbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcblxyXG4gICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJJbnZhbGlkIGFsZ29yaXRobVwiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmIChhbmltYXRpb24gJiYgIWNvbXBhcmVfYWxsKXtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzZXR0aW5nc1wiKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c193cmFwcGVyXCIpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fZ3VpXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gICAgICAgICAgICAvLyBjbGVhciB0aGUgY2FudmFzXHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5jdHguY2xlYXJSZWN0KDAsIDAsIHRoaXMuZGlzcGxheS5jdHguY2FudmFzLndpZHRoLCB0aGlzLmRpc3BsYXkuY3R4LmNhbnZhcy5oZWlnaHQpO1xyXG5cclxuICAgICAgICAgICAgLy8gaW5pdGlhbGl6ZVxyXG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlci5yZWZyZXNoQW5pbWF0aW9uKHRoaXMuZGlzcGxheSk7XHJcblxyXG4gICAgICAgICAgICAvLyBzZXQgcmVzaXplIGNhbGxiYWNrXHJcbiAgICAgICAgICAgIHRoaXMuZGlzcGxheS5yZXNpemVDYWxsYmFjayA9ICgpID0+IHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVyLnJlZnJlc2hBbmltYXRpb24odGhpcy5kaXNwbGF5KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBpZiAoY29tcGFyZV9hbGwpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIuY29tcGFyZUFsbEFuZERpc3BsYXlSZXN1bHRzKCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8vIHJldHVybiB0aGUgcmVzdWx0cyBpbW1lZGlhdGVseVxyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy5zY2hlZHVsZXIuc2ltdWxhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5zY2hlZHVsZXIuZGlzcGxheVJlc3VsdHMoYWxnU3RyLCByZXN1bHRzKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFZpc3VhbFByb2Nlc3MgZnJvbSBcIi4vVmlzdWFsUHJvY2Vzc1wiXHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9jZXNzIHtcclxuICAgIHN0YXRpYyBpbmNyZW1lbnRlZF9pZCA9IDBcclxuXHJcbiAgICBpZDogbnVtYmVyXHJcbiAgICBzdGFydF90aW1lOiBudW1iZXJcclxuICAgIHJ1bl90aW1lOiBudW1iZXJcclxuICAgIHRpbWVfbGVmdDogbnVtYmVyXHJcblxyXG4gICAgdHVybmFyb3VuZF90aW1lOiBudW1iZXJcclxuXHJcbiAgICB2aXN1YWw6IFZpc3VhbFByb2Nlc3NcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihzdGFydF90aW1lOiBudW1iZXIsIHJ1bl90aW1lOiBudW1iZXIpe1xyXG4gICAgICAgIHRoaXMuaWQgPSBQcm9jZXNzLmluY3JlbWVudGVkX2lkO1xyXG4gICAgICAgIFByb2Nlc3MuaW5jcmVtZW50ZWRfaWQrKztcclxuXHJcbiAgICAgICAgdGhpcy5zdGFydF90aW1lID0gc3RhcnRfdGltZTtcclxuXHJcbiAgICAgICAgdGhpcy5ydW5fdGltZSA9IHJ1bl90aW1lO1xyXG4gICAgICAgIHRoaXMudGltZV9sZWZ0ID0gcnVuX3RpbWU7XHJcblxyXG4gICAgICAgIHRoaXMudHVybmFyb3VuZF90aW1lID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy52aXN1YWwgPSBuZXcgVmlzdWFsUHJvY2Vzcyh0aGlzKTtcclxuICAgIH1cclxuXHJcbiAgICBydW4oKTogYm9vbGVhbntcclxuICAgICAgICB0aGlzLnRpbWVfbGVmdCAtPSAxO1xyXG5cclxuICAgICAgICBpZiAodGhpcy50aW1lX2xlZnQgPD0gMClcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb3B5KCk6IFByb2Nlc3N7XHJcbiAgICAgICAgY29uc3QgY29weSA9IG5ldyBQcm9jZXNzKHRoaXMuc3RhcnRfdGltZSwgdGhpcy5ydW5fdGltZSk7XHJcblxyXG4gICAgICAgIGNvcHkuaWQgPSB0aGlzLmlkO1xyXG4gICAgICAgIGNvcHkudGltZV9sZWZ0ID0gdGhpcy50aW1lX2xlZnQ7XHJcbiAgICAgICAgY29weS50dXJuYXJvdW5kX3RpbWUgPSB0aGlzLnR1cm5hcm91bmRfdGltZTtcclxuXHJcbiAgICAgICAgcmV0dXJuIGNvcHk7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFByb2Nlc3MgZnJvbSBcIi4vUHJvY2Vzc1wiXHJcbmltcG9ydCBBY2Nlc3NBbGdvcml0aG0gZnJvbSBcIi4vQWNjZXNzQWxnb3JpdGhtXCJcclxuaW1wb3J0IERpc3BsYXkgZnJvbSBcIi4vRGlzcGxheVwiXHJcblxyXG5pbXBvcnQgRkNGUyBmcm9tIFwiLi9hbGdvcml0aG1zL0ZDRlNcIlxyXG5pbXBvcnQgU0pGIGZyb20gXCIuL2FsZ29yaXRobXMvU0pGXCJcclxuaW1wb3J0IFNSVEYgZnJvbSBcIi4vYWxnb3JpdGhtcy9TUlRGXCJcclxuaW1wb3J0IFJSIGZyb20gXCIuL2FsZ29yaXRobXMvUlJcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2NoZWR1bGVyIHtcclxuICAgIHByb2Nlc3NfcXVldWU6ICAgIEFycmF5PFByb2Nlc3M+ICAgICAgLy8gcHJvY2Vzc2VzIGluIHF1ZXVlXHJcbiAgICBwcm9jZXNzX3Bvb2w6ICAgICBBcnJheTxQcm9jZXNzPiAgICAgIC8vIGFsbCBwcm9jZXNzZXMgXHJcbiAgICBmaW5pc2hlZF9wcm9jZXNzZXM6IEFycmF5PFByb2Nlc3M+ICAgIC8vIGZpbmlzaGVkIFxyXG5cclxuICAgIGFsZ29yaXRobTogQWNjZXNzQWxnb3JpdGhtXHJcbiAgICB0aW1lOiBudW1iZXJcclxuICAgIHByZXZpb3VzQWN0aXZlUHJvY2VzczogUHJvY2Vzc1xyXG5cclxuICAgIC8qIGFuaW1hdGlvbiAqL1xyXG4gICAgX3BhdXNlZDogYm9vbGVhblxyXG4gICAgX3NwZWVkOiBudW1iZXJcclxuICAgIF9pbnRlcnZhbDogTm9kZUpTLlRpbWVyXHJcbiAgICBfZGlzcGxheTogRGlzcGxheVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzX3Bvb2wgPSBbXTtcclxuICAgICAgICB0aGlzLnByb2Nlc3NfcXVldWUgPSBbXTtcclxuICAgICAgICB0aGlzLmZpbmlzaGVkX3Byb2Nlc3NlcyA9IFtdO1xyXG5cclxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xyXG5cclxuICAgICAgICB0aGlzLnByZXZpb3VzQWN0aXZlUHJvY2VzcyA9IG51bGw7XHJcblxyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5fc3BlZWQgPSAxO1xyXG4gICAgICAgIHRoaXMuX2ludGVydmFsID0gbnVsbDtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5ID0gbnVsbDtcclxuICAgIH1cclxuXHJcbiAgICBzZXRBbGdvcml0aG0oYWxnb3JpdGhtOiBBY2Nlc3NBbGdvcml0aG0pOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmFsZ29yaXRobSA9IGFsZ29yaXRobTtcclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpOiB2b2lke1xyXG4gICAgICAgIHRoaXMucHJvY2Vzc19xdWV1ZSA9IFtdO1xyXG4gICAgICAgIHRoaXMuZmluaXNoZWRfcHJvY2Vzc2VzID0gW107XHJcblxyXG4gICAgICAgIHRoaXMucHJldmlvdXNBY3RpdmVQcm9jZXNzID0gbnVsbDtcclxuXHJcbiAgICAgICAgdGhpcy50aW1lID0gMDtcclxuICAgICAgICB0aGlzLnBhdXNlQW5pbWF0aW9uKCk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUHJvY2Vzc1RvUG9vbChwcm9jZXNzOiBQcm9jZXNzKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzX3Bvb2wucHVzaChwcm9jZXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBuZXh0VGljaygpOiB2b2lkIHtcclxuICAgICAgICAvLyBjaGVjayBmb3IgcHJvY2Vzc2VzIHdoaWNoIHNob3VsZCBqb2luIHRoZSBxdWV1ZVxyXG4gICAgICAgIGZvciAoY29uc3QgcHJvY2VzcyBvZiB0aGlzLnByb2Nlc3NfcG9vbCl7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLnN0YXJ0X3RpbWUgPT0gdGhpcy50aW1lKSB0aGlzLnByb2Nlc3NfcXVldWUucHVzaChwcm9jZXNzLmdldENvcHkoKSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gaWYgcXVldWUgaXMgbm90IGVtcHR5XHJcbiAgICAgICAgaWYgKHRoaXMucHJvY2Vzc19xdWV1ZS5sZW5ndGggPiAwKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzX3F1ZXVlID0gdGhpcy5hbGdvcml0aG0ucHJlcHJvY2Vzcyh0aGlzLnByb2Nlc3NfcXVldWUpO1xyXG5cclxuICAgICAgICAgICAgLy8gaW5jcmVhc2UgdHVybmFyb3VuZCB0aW1lXHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgcHJvY2VzcyBvZiB0aGlzLnByb2Nlc3NfcXVldWUpe1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy50dXJuYXJvdW5kX3RpbWUrKztcclxuICAgICAgICAgICAgfTtcclxuXHJcbiAgICAgICAgICAgIC8vIHBpY2sgYSBwcm9jZXNzIGZyb20gdGhlIHF1ZXVlIHRvIGJlIHJ1biBpbiB0aGlzIHRpY2tcclxuICAgICAgICAgICAgbGV0IGN1cnJlbnRfcHJvY2VzczogUHJvY2VzcyA9IHRoaXMuYWxnb3JpdGhtLnBpY2tOZXh0KHRoaXMucHJvY2Vzc19xdWV1ZSwgdGhpcy5wcmV2aW91c0FjdGl2ZVByb2Nlc3MpO1xyXG4gICAgICAgICAgICBsZXQgZmluaXNoZWQ6IGJvb2xlYW4gPSBjdXJyZW50X3Byb2Nlc3MucnVuKCk7XHJcblxyXG4gICAgICAgICAgICAvLyBpZiBpdCdzIGZpbmlzaGVkLCByZW1vdmUgZnJvbSBxdWV1ZVxyXG4gICAgICAgICAgICBpZiAoZmluaXNoZWQpXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuZmluaXNoZWRfcHJvY2Vzc2VzLnB1c2goY3VycmVudF9wcm9jZXNzKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucHJvY2Vzc19xdWV1ZS5zcGxpY2UodGhpcy5wcm9jZXNzX3F1ZXVlLmluZGV4T2YoY3VycmVudF9wcm9jZXNzKSwgMSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNBY3RpdmVQcm9jZXNzID0gY3VycmVudF9wcm9jZXNzO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gaW5jcmVhc2UgdGltZVxyXG4gICAgICAgIHRoaXMudGltZSsrO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRmluaXNoZWQoKTogYm9vbGVhbiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucHJvY2Vzc19wb29sLmxlbmd0aCA9PSB0aGlzLmZpbmlzaGVkX3Byb2Nlc3Nlcy5sZW5ndGg7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UmVzdWx0cygpOiB7IGF2Z1R1cm5hcm91bmRUaW1lOiBudW1iZXIsIG1heFRpbWU6IG51bWJlciB9IHtcclxuICAgICAgICAvLyBhdmVyYWdlIHRpbWVcclxuICAgICAgICBsZXQgYXZnVHVybmFyb3VuZFRpbWUgPSAwO1xyXG4gICAgICAgIGZvciAoY29uc3QgcHJvY2VzcyBvZiB0aGlzLmZpbmlzaGVkX3Byb2Nlc3Nlcykge1xyXG4gICAgICAgICAgICBhdmdUdXJuYXJvdW5kVGltZSArPSBwcm9jZXNzLnR1cm5hcm91bmRfdGltZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXZnVHVybmFyb3VuZFRpbWUgLz0gdGhpcy5maW5pc2hlZF9wcm9jZXNzZXMubGVuZ3RoO1xyXG5cclxuICAgICAgICAvLyBtYXhpbXVtIHRpbWVcclxuICAgICAgICBsZXQgbWF4VGltZSA9IE1hdGgubWF4KC4uLnRoaXMuZmluaXNoZWRfcHJvY2Vzc2VzLm1hcChvID0+IG8udHVybmFyb3VuZF90aW1lKSk7XHJcblxyXG4gICAgICAgIHJldHVybiB7IGF2Z1R1cm5hcm91bmRUaW1lLCBtYXhUaW1lIH07XHJcbiAgICB9XHJcblxyXG4gICAgLyogcnVubmluZyB0aGUgc2ltdWxhdGlvbiAqL1xyXG4gICAgLypcclxuICAgIC8qXHJcbiAgICAvKiAqL1xyXG5cclxuICAgIHNpbXVsYXRlKCk6IHsgYXZnVHVybmFyb3VuZFRpbWU6IG51bWJlciwgbWF4VGltZTogbnVtYmVyIH0ge1xyXG4gICAgICAgIHdoaWxlICghdGhpcy5pc0ZpbmlzaGVkKCkpe1xyXG4gICAgICAgICAgICB0aGlzLm5leHRUaWNrKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiB3aGVuIGZpbmlzaGVkICovXHJcbiAgICAgICAgXHJcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHRoaXMuZ2V0UmVzdWx0cygpO1xyXG5cclxuICAgICAgICAvLyByZXNldCBiYWNrIHRvIGluaXRpYWwgc3RhdGVcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcblxyXG4gICAgICAgIHJldHVybiByZXN1bHRzO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbXBhcmVBbGxBbmREaXNwbGF5UmVzdWx0cygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnNldEFsZ29yaXRobShuZXcgRkNGUygpKTtcclxuICAgICAgICBjb25zdCBmY2ZzX3Jlc3VsdHMgPSB0aGlzLnNpbXVsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG5cclxuICAgICAgICB0aGlzLnNldEFsZ29yaXRobShuZXcgU0pGKCkpO1xyXG4gICAgICAgIGNvbnN0IHNqZl9yZXN1bHRzID0gdGhpcy5zaW11bGF0ZSgpO1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRBbGdvcml0aG0obmV3IFNSVEYoKSk7XHJcbiAgICAgICAgY29uc3Qgc3J0Zl9yZXN1bHRzID0gdGhpcy5zaW11bGF0ZSgpO1xyXG4gICAgICAgIHRoaXMucmVzZXQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5zZXRBbGdvcml0aG0obmV3IFJSKDEpKTtcclxuICAgICAgICBjb25zdCBycjFfcmVzdWx0cyA9IHRoaXMuc2ltdWxhdGUoKTtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcblxyXG4gICAgICAgIHRoaXMuc2V0QWxnb3JpdGhtKG5ldyBSUigzKSk7XHJcbiAgICAgICAgY29uc3QgcnIzX3Jlc3VsdHMgPSB0aGlzLnNpbXVsYXRlKCk7XHJcbiAgICAgICAgdGhpcy5yZXNldCgpO1xyXG5cclxuICAgICAgICBsZXQgcmVzVGV4dCA9IGAoYXZlcmFnZSB0dXJuYXJvdW5kIHRpbWUpXHJcblxyXG4gICAgICAgIEZDRlM6ICAgJHtmY2ZzX3Jlc3VsdHMuYXZnVHVybmFyb3VuZFRpbWUudG9GaXhlZCgyKX1cclxuICAgICAgICBTSkY6ICAgICR7c2pmX3Jlc3VsdHMuYXZnVHVybmFyb3VuZFRpbWUudG9GaXhlZCgyKX1cclxuICAgICAgICBTUlRGOiAgICR7c3J0Zl9yZXN1bHRzLmF2Z1R1cm5hcm91bmRUaW1lLnRvRml4ZWQoMil9XHJcbiAgICAgICAgUlIgKDEpOiAgJHtycjFfcmVzdWx0cy5hdmdUdXJuYXJvdW5kVGltZS50b0ZpeGVkKDIpfVxyXG4gICAgICAgIFJSICgzKTogICR7cnIzX3Jlc3VsdHMuYXZnVHVybmFyb3VuZFRpbWUudG9GaXhlZCgyKX1gO1xyXG4gICAgICAgIHJlc1RleHQgPSByZXNUZXh0LnJlcGxhY2UoUmVnRXhwKFwiXFxuXCIsIFwiZ1wiKSwgXCI8YnI+XCIpO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHRzV3JhcHBlciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c193cmFwcGVyXCIpO1xyXG4gICAgICAgIHJlc3VsdHNXcmFwcGVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0c0RpdiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c1wiKTtcclxuICAgICAgICByZXN1bHRzRGl2LmlubmVySFRNTCA9IHJlc1RleHQ7XHJcbiAgICB9XHJcblxyXG4gICAgLyogYW5pbWF0aW9uICovXHJcbiAgICAvKlxyXG4gICAgLypcclxuICAgIC8qICovXHJcblxyXG4gICAgaW5pdEF1dG9QbGF5KGRpc3BsYXk6IERpc3BsYXkpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLl9kaXNwbGF5ID0gZGlzcGxheTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuX2ludGVydmFsICE9IG51bGwpIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWwpO1xyXG5cclxuICAgICAgICB0aGlzLl9pbnRlcnZhbCA9IHNldEludGVydmFsKCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghdGhpcy5fcGF1c2VkKXtcclxuICAgICAgICAgICAgICAgIHRoaXMubmV4dFRpY2soKTtcclxuICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEFuaW1hdGlvbihkaXNwbGF5KTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc0ZpbmlzaGVkKCkpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGF1c2VBbmltYXRpb24oKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRpc3BsYXlSZXN1bHRzKHRoaXMuYWxnb3JpdGhtLm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWZ0ZXJEb25lKCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KS5iaW5kKHRoaXMpLCAxMDAwIC8gdGhpcy5fc3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hBbmltYXRpb24oZGlzcGxheTogRGlzcGxheSl7XHJcbiAgICAgICAgaWYgKCF0aGlzLmlzRmluaXNoZWQoKSl7XHJcbiAgICAgICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3BsYXlfcGF1c2VcIikpLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3N0ZXBcIikpLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX2lzX2RvbmVcIikuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZ2V0IGN0eFxyXG4gICAgICAgIGNvbnN0IGN0eCA9IGRpc3BsYXkuY3R4O1xyXG4gICAgICAgIGNvbnN0IHNjcmVlbldpZHRoID0gZGlzcGxheS5jdHguY2FudmFzLndpZHRoO1xyXG4gICAgICAgIGNvbnN0IHNjcmVlbkhlaWdodCA9IGRpc3BsYXkuY3R4LmNhbnZhcy5oZWlnaHQ7XHJcblxyXG4gICAgICAgIC8vIHNldCBwcm9jZXNzIHBvc2l0aW9uc1xyXG4gICAgICAgIGxldCB4ID0gMTUwO1xyXG4gICAgICAgIGZvciAoY29uc3QgcHJvY2VzcyBvZiB0aGlzLnByb2Nlc3NfcXVldWUpe1xyXG4gICAgICAgICAgICBjb25zdCBXSURUSCA9IHByb2Nlc3MudGltZV9sZWZ0ICogMTA7XHJcbiAgICAgICAgICAgIHByb2Nlc3MudmlzdWFsLnNldFBvcyh4LCAyICogKHNjcmVlbkhlaWdodCAvIDMpIC0gNTAsIFdJRFRIKTtcclxuXHJcbiAgICAgICAgICAgIHggKz0gV0lEVEggKyAyMDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIG1ha2UgcHJldmlvdXMgYWN0aXZlIHByb2Nlc3MgcmVkIGFuZCBvdGhlcnMgd2hpdGVcclxuICAgICAgICBpZiAodGhpcy5wcmV2aW91c0FjdGl2ZVByb2Nlc3MgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMucHJldmlvdXNBY3RpdmVQcm9jZXNzLnZpc3VhbC5jb2xvciA9IFwiI2ZmMDAwMFwiO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3Mgb2YgdGhpcy5wcm9jZXNzX3F1ZXVlKXtcclxuICAgICAgICAgICAgaWYgKHByb2Nlc3MgIT0gdGhpcy5wcmV2aW91c0FjdGl2ZVByb2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy52aXN1YWwuY29sb3IgPSBcIiNmZmZmZmZcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY3R4LmNsZWFyUmVjdCgwLCAwLCBzY3JlZW5XaWR0aCwgc2NyZWVuSGVpZ2h0KTtcclxuICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG5cclxuICAgICAgICAvLyBob3Jpem9udGFsIGxpbmUgXHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KDAsIDIgKiAoc2NyZWVuSGVpZ2h0IC8gMyksIHNjcmVlbldpZHRoLCAxKTtcclxuXHJcbiAgICAgICAgLy8gbWljcm9wcm9jZXNzb3JcclxuICAgICAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIndoaXRlXCI7XHJcbiAgICAgICAgY3R4LnN0cm9rZVJlY3QoNTAsIDIgKiAoc2NyZWVuSGVpZ2h0IC8gMykgLSAxMDAsIDUwLCAxMDApO1xyXG5cclxuICAgICAgICAvLyBibGFjayB0ZXh0IGluIHRoZSBtaWRkbGUgc2F5aW5nIM68UFxyXG4gICAgICAgIGN0eC5mb250ID0gXCIxNXB4IFJvYm90b1wiO1xyXG4gICAgICAgIGN0eC50ZXh0QWxpZ24gPSBcImNlbnRlclwiO1xyXG4gICAgICAgIGN0eC5maWxsVGV4dChcIs68UFwiLCA1MCArIDI1LCAyICogKHNjcmVlbkhlaWdodCAvIDMpIC0gNTApO1xyXG5cclxuICAgICAgICAvLyBkcmF3IHByb2Nlc3Nlc1xyXG4gICAgICAgIGZvciAoY29uc3QgcHJvY2VzcyBvZiB0aGlzLnByb2Nlc3NfcXVldWUpe1xyXG4gICAgICAgICAgICBpZiAocHJvY2Vzcy52aXN1YWwueCArIHByb2Nlc3MudmlzdWFsLndpZHRoIDwgc2NyZWVuV2lkdGggLSBzY3JlZW5XaWR0aCAvIDQpe1xyXG4gICAgICAgICAgICAgICAgcHJvY2Vzcy52aXN1YWwuZHJhdyhjdHgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBhdCB0aGUgYW5kIGFkZCBcIi4uLiArIG4gbW9yZVwiIGlmIHRoZXJlIGFyZSBtb3JlIHByb2Nlc3Nlc1xyXG4gICAgICAgIGlmICh0aGlzLnByb2Nlc3NfcXVldWUubGVuZ3RoID4gMCl7XHJcbiAgICAgICAgICAgIGNvbnN0IGxhc3RQcm9jZXNzID0gdGhpcy5wcm9jZXNzX3F1ZXVlW3RoaXMucHJvY2Vzc19xdWV1ZS5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgaWYgKGxhc3RQcm9jZXNzLnZpc3VhbC54ICsgbGFzdFByb2Nlc3MudmlzdWFsLndpZHRoID4gc2NyZWVuV2lkdGggLSBzY3JlZW5XaWR0aCAvIDQpe1xyXG4gICAgICAgICAgICAgICAgY3R4LmZvbnQgPSBcIjMwcHggUm9ib3RvXCI7XHJcbiAgICAgICAgICAgICAgICBjdHguZmlsbFN0eWxlID0gXCJ3aGl0ZVwiO1xyXG4gICAgICAgICAgICAgICAgY3R4LmZpbGxUZXh0KFwiLi4uICsgXCIgKyAodGhpcy5wcm9jZXNzX3F1ZXVlLmxlbmd0aCAtIDEpICsgXCIgbW9yZVwiLCBzY3JlZW5XaWR0aCAtIHNjcmVlbldpZHRoIC8gOCwgMiAqIChzY3JlZW5IZWlnaHQgLyAzKSAtIDUwICsgMjUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyByZWZyZXNoIGluZm9cclxuICAgICAgICBjb25zdCBhbGdvcml0aG1fZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9pbmZvX2FsZ29yaXRobV92YWx1ZVwiKTtcclxuICAgICAgICBhbGdvcml0aG1fZWwuaW5uZXJIVE1MID0gdGhpcy5hbGdvcml0aG0ubmFtZTtcclxuXHJcbiAgICAgICAgY29uc3QgdGltZV9lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX2luZm9fdGltZV92YWx1ZVwiKTtcclxuICAgICAgICB0aW1lX2VsLmlubmVySFRNTCA9IHRoaXMudGltZS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBjb25zdCBsZWZ0ID0gKHRoaXMucHJvY2Vzc19wb29sLmxlbmd0aCAtICh0aGlzLnByb2Nlc3NfcXVldWUubGVuZ3RoICsgdGhpcy5maW5pc2hlZF9wcm9jZXNzZXMubGVuZ3RoKSk7XHJcbiAgICAgICAgY29uc3QgcHJvY2Vzc2VzX2xlZnRfdG9fam9pbl9lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvY2Vzc2VzX2luZm9fbGVmdF90b19qb2luX3ZhbHVlXCIpO1xyXG4gICAgICAgIHByb2Nlc3Nlc19sZWZ0X3RvX2pvaW5fZWwuaW5uZXJIVE1MID0gbGVmdC50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBpZiAobGVmdCA+IDApXHJcbiAgICAgICAgICAgIHByb2Nlc3Nlc19sZWZ0X3RvX2pvaW5fZWwuc3R5bGUuY29sb3IgPSBcInllbGxvd1wiO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgcHJvY2Vzc2VzX2xlZnRfdG9fam9pbl9lbC5zdHlsZS5jb2xvciA9IFwid2hpdGVcIjtcclxuXHJcbiAgICAgICAgY29uc3QgZmluaXNoZWRfcHJvY2Vzc2VzX2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwcm9jZXNzZXNfaW5mb19maW5pc2hlZF92YWx1ZVwiKTtcclxuICAgICAgICBmaW5pc2hlZF9wcm9jZXNzZXNfZWwuaW5uZXJIVE1MID0gdGhpcy5maW5pc2hlZF9wcm9jZXNzZXMubGVuZ3RoLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheVJlc3VsdHMoYWxnU3RyOiBzdHJpbmcgPSB0aGlzLmFsZ29yaXRobS5uYW1lLCByZXN1bHRzOiB7IGF2Z1R1cm5hcm91bmRUaW1lOiBudW1iZXIsIG1heFRpbWU6IG51bWJlciB9ID0gbnVsbCk6IHZvaWQge1xyXG4gICAgICAgIC8vIGdldCByZXN1bHRzXHJcbiAgICAgICAgaWYgKHJlc3VsdHMgPT0gbnVsbClcclxuICAgICAgICAgICAgcmVzdWx0cyA9IHRoaXMuZ2V0UmVzdWx0cygpO1xyXG5cclxuICAgICAgICAvLyBkaXNwbGF5IHJlc3VsdHNcclxuICAgICAgICBjb25zdCByZXN1bHRzX3dyYXBwZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3VsdHNfd3JhcHBlclwiKTtcclxuICAgICAgICByZXN1bHRzX3dyYXBwZXIuc3R5bGUuZGlzcGxheSA9IFwiZmxleFwiO1xyXG5cclxuICAgICAgICBjb25zdCByZXN1bHRzX2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzXCIpO1xyXG4gICAgICAgIHJlc3VsdHNfZWwuaW5uZXJIVE1MID0gYFxyXG4gICAgICAgIEFsZ29yaXRobTogJHthbGdTdHIudG9VcHBlckNhc2UoKX0gJHthbGdTdHIudG9Mb3dlckNhc2UoKSA9PT0gXCJyclwiID8gYCgkeyg8SFRNTElucHV0RWxlbWVudD4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhX3RpbWVfcXVhbnRhXCIpKS52YWx1ZX0pYCA6IFwiXCJ9XHJcblxyXG4gICAgICAgIEF2ZXJhZ2UgdHVybmFyb3VuZCB0aW1lOiAke3Jlc3VsdHMuYXZnVHVybmFyb3VuZFRpbWUudG9GaXhlZCgyKX1cclxuXHJcbiAgICAgICAgTWF4aW11bSB0dXJuYXJvdW5kIHRpbWU6ICR7cmVzdWx0cy5tYXhUaW1lLnRvRml4ZWQoMil9XHJcbiAgICAgICAgYC5yZXBsYWNlKFJlZ0V4cChcIlxcblwiLCBcImdcIiksIFwiPGJyIC8+XCIpO1xyXG59XHJcblxyXG4gICAgcmVzdW1lQW5pbWF0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIHBhdXNlQW5pbWF0aW9uKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3BhdXNlZCA9IHRydWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QW5pbWF0aW9uU3BlZWQoc3BlZWQ6IG51bWJlcik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuX3NwZWVkID0gc3BlZWQ7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdEF1dG9QbGF5KHRoaXMuX2Rpc3BsYXkpO1xyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyRG9uZSgpOiB2b2lkIHtcclxuICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9pc19kb25lXCIpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3BsYXlfcGF1c2VcIikpLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgICAgICAoPEhUTUxCdXR0b25FbGVtZW50PiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9zdGVwXCIpKS5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IFByb2Nlc3MgZnJvbSBcIi4vUHJvY2Vzc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlzdWFsUHJvY2VzcyB7XHJcbiAgICBwcm9jZXNzOiBQcm9jZXNzXHJcblxyXG4gICAgeDogbnVtYmVyXHJcbiAgICB5OiBudW1iZXJcclxuICAgIHdpZHRoOiBudW1iZXJcclxuICAgIGhlaWdodDogbnVtYmVyXHJcblxyXG4gICAgY29sb3I6IHN0cmluZ1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb2Nlc3M6IFByb2Nlc3Mpe1xyXG4gICAgICAgIHRoaXMucHJvY2VzcyA9IHByb2Nlc3M7XHJcblxyXG4gICAgICAgIHRoaXMuaGVpZ2h0ID0gNTA7XHJcbiAgICAgICAgdGhpcy5jb2xvciA9IHRoaXMucHJvY2Vzcy5zdGFydF90aW1lID4gMCA/IFwiI2ZmMDAwMFwiIDogXCIjMDBmZjAwXCI7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UG9zKHg6IG51bWJlciwgeTogbnVtYmVyLCB3aWR0aDogbnVtYmVyID0gNTApOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnggPSB4O1xyXG4gICAgICAgIHRoaXMueSA9IHk7XHJcblxyXG4gICAgICAgIHRoaXMud2lkdGggPSB3aWR0aDtcclxuICAgIH1cclxuXHJcbiAgICBkcmF3KGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEKTogdm9pZCB7XHJcbiAgICAgICAgY3R4LmZpbGxTdHlsZSA9IHRoaXMuY29sb3I7XHJcbiAgICAgICAgY3R4LmZpbGxSZWN0KHRoaXMueCwgdGhpcy55LCB0aGlzLndpZHRoLCB0aGlzLmhlaWdodCk7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgQWNjZXNzQWxnb3JpdGhtIGZyb20gXCIuLi9BY2Nlc3NBbGdvcml0aG1cIjtcclxuaW1wb3J0IFByb2Nlc3MgZnJvbSBcIi4uL1Byb2Nlc3NcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZDRlMgaW1wbGVtZW50cyBBY2Nlc3NBbGdvcml0aG0ge1xyXG4gICAgbmFtZTogc3RyaW5nID0gXCJGQ0ZTXCJcclxuXHJcbiAgICBwcmVwcm9jZXNzKHByb2Nlc3NfcXVldWU6IEFycmF5PFByb2Nlc3M+KTogQXJyYXk8UHJvY2Vzcz4ge1xyXG4gICAgICAgIHJldHVybiBwcm9jZXNzX3F1ZXVlOyAvLyBkbyBub3RoaW5nXHJcbiAgICB9XHJcblxyXG4gICAgcGlja05leHQocHJvY2Vzc19xdWV1ZTogQXJyYXk8UHJvY2Vzcz4sIHByZXZpb3VzQWN0aXZlUHJvY2VzczogUHJvY2Vzcyk6IFByb2Nlc3Mge1xyXG4gICAgICAgIHJldHVybiBwcm9jZXNzX3F1ZXVlWzBdOyAvLyByZXR1cm5zIHRoZSBmaXJzdCBlbGVtZW50IChmaXJzdCBjb21lKVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBBY2Nlc3NBbGdvcml0aG0gZnJvbSBcIi4uL0FjY2Vzc0FsZ29yaXRobVwiO1xyXG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi4vUHJvY2Vzc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUlIgaW1wbGVtZW50cyBBY2Nlc3NBbGdvcml0aG0ge1xyXG4gICAgcXVhbnR1bTogbnVtYmVyXHJcblxyXG4gICAgY3VycmVudF9xdWFudHVtOiBudW1iZXJcclxuICAgIGN1cnJlbnRfcHJvY2Vzc0luZGV4OiBudW1iZXJcclxuXHJcbiAgICBuYW1lOiBzdHJpbmcgPSBcIlJSXCJcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihxdWFudHVtOiBudW1iZXIpe1xyXG4gICAgICAgIHRoaXMucXVhbnR1bSA9IHF1YW50dW07XHJcbiAgICB9XHJcblxyXG4gICAgcHJlcHJvY2Vzcyhwcm9jZXNzX3F1ZXVlOiBBcnJheTxQcm9jZXNzPik6IEFycmF5PFByb2Nlc3M+IHtcclxuICAgICAgICByZXR1cm4gcHJvY2Vzc19xdWV1ZTsgLy8gZG8gbm90aGluZ1xyXG4gICAgfVxyXG5cclxuICAgIHBpY2tOZXh0KHByb2Nlc3NfcXVldWU6IEFycmF5PFByb2Nlc3M+LCBwcmV2aW91c0FjdGl2ZVByb2Nlc3M6IFByb2Nlc3MpOiBQcm9jZXNzIHtcclxuICAgICAgICAvLyBpZiBpdCdzIHRoZSBmaXJzdCBwcm9jZXNzXHJcbiAgICAgICAgaWYgKHByZXZpb3VzQWN0aXZlUHJvY2VzcyA9PSBudWxsKXtcclxuICAgICAgICAgICAgY29uc3QgbmV4dFByb2Nlc3MgPSBwcm9jZXNzX3F1ZXVlWzBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3Byb2Nlc3NJbmRleCA9IDA7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9xdWFudHVtID0gdGhpcy5xdWFudHVtO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3F1YW50dW0tLTtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBuZXh0UHJvY2VzcztcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICAgICAgLy8gaWYgdGhlIHByZXZpb3VzIHByb2Nlc3MgaGFzIHRpbWUgbGVmdCBhbmQgcXVhbnR1bSBsZWZ0XHJcbiAgICAgICAgaWYgKHByZXZpb3VzQWN0aXZlUHJvY2Vzcy50aW1lX2xlZnQgPiAwICYmIHRoaXMuY3VycmVudF9xdWFudHVtID4gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9xdWFudHVtLS07XHJcbiAgICAgICAgICAgIHJldHVybiBwcmV2aW91c0FjdGl2ZVByb2Nlc3M7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBpZiB0aGUgcHJldmlvdXMgcHJvY2VzcyBoYXMgdGltZSBsZWZ0IGFuZCBxdWFudHVtIGlzIG92ZXJcclxuICAgICAgICBpZiAocHJldmlvdXNBY3RpdmVQcm9jZXNzLnRpbWVfbGVmdCA+IDAgJiYgdGhpcy5jdXJyZW50X3F1YW50dW0gPD0gMCl7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9wcm9jZXNzSW5kZXggPSAodGhpcy5jdXJyZW50X3Byb2Nlc3NJbmRleCArIDEpICUgcHJvY2Vzc19xdWV1ZS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHRoaXMuY3VycmVudF9xdWFudHVtID0gdGhpcy5xdWFudHVtO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3F1YW50dW0tLTtcclxuXHJcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzX3F1ZXVlW3RoaXMuY3VycmVudF9wcm9jZXNzSW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICAvLyB0aGUgcHJldmlvdXMgcHJvY2VzcyBlbmRlZFxyXG4gICAgICAgIGlmIChwcmV2aW91c0FjdGl2ZVByb2Nlc3MudGltZV9sZWZ0ID09IDApe1xyXG4gICAgICAgICAgICAvLyB0aGUgcHJvY2VzcyBnb3QgcmVtb3ZlZCBmcm9tIHF1ZXVlIHNvIHJldHVybiB0aGUgc2FtZSBpbmRleFxyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRfcXVhbnR1bSA9IHRoaXMucXVhbnR1bTtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50X3F1YW50dW0tLTtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLmN1cnJlbnRfcHJvY2Vzc0luZGV4ID49IHByb2Nlc3NfcXVldWUubGVuZ3RoKSB0aGlzLmN1cnJlbnRfcHJvY2Vzc0luZGV4ID0gMDtcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIHJldHVybiBwcm9jZXNzX3F1ZXVlW3RoaXMuY3VycmVudF9wcm9jZXNzSW5kZXhdO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBBY2Nlc3NBbGdvcml0aG0gZnJvbSBcIi4uL0FjY2Vzc0FsZ29yaXRobVwiO1xyXG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi4vUHJvY2Vzc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU0pGIGltcGxlbWVudHMgQWNjZXNzQWxnb3JpdGhtIHtcclxuICAgIG5hbWU6IHN0cmluZyA9IFwiU0pGXCJcclxuXHJcbiAgICBwcmVwcm9jZXNzKHByb2Nlc3NfcXVldWU6IEFycmF5PFByb2Nlc3M+KTogQXJyYXk8UHJvY2Vzcz4ge1xyXG4gICAgICAgIHJldHVybiBwcm9jZXNzX3F1ZXVlLnNvcnQoKGEsIGIpID0+IGEucnVuX3RpbWUgLSBiLnJ1bl90aW1lKTtcclxuICAgIH1cclxuXHJcbiAgICBwaWNrTmV4dChwcm9jZXNzX3F1ZXVlOiBBcnJheTxQcm9jZXNzPiwgcHJldmlvdXNBY3RpdmVQcm9jZXNzOiBQcm9jZXNzKTogUHJvY2VzcyB7XHJcbiAgICAgICAgaWYgKHByZXZpb3VzQWN0aXZlUHJvY2VzcyAhPSBudWxsICYmIHByZXZpb3VzQWN0aXZlUHJvY2Vzcy50aW1lX2xlZnQgPiAwKVxyXG4gICAgICAgICAgICByZXR1cm4gcHJldmlvdXNBY3RpdmVQcm9jZXNzO1xyXG5cclxuICAgICAgICByZXR1cm4gcHJvY2Vzc19xdWV1ZVswXTtcclxuICAgIH1cclxufSIsImltcG9ydCBBY2Nlc3NBbGdvcml0aG0gZnJvbSBcIi4uL0FjY2Vzc0FsZ29yaXRobVwiO1xyXG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi4vUHJvY2Vzc1wiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU1JURiBpbXBsZW1lbnRzIEFjY2Vzc0FsZ29yaXRobSB7XHJcbiAgICBuYW1lOiBzdHJpbmcgPSBcIlNSVEZcIlxyXG5cclxuICAgIHByZXByb2Nlc3MocHJvY2Vzc19xdWV1ZTogQXJyYXk8UHJvY2Vzcz4pOiBBcnJheTxQcm9jZXNzPiB7XHJcbiAgICAgICAgcmV0dXJuIHByb2Nlc3NfcXVldWUuc29ydCgoYSwgYikgPT4gYS50aW1lX2xlZnQgLSBiLnRpbWVfbGVmdCk7XHJcbiAgICB9XHJcblxyXG4gICAgcGlja05leHQocHJvY2Vzc19xdWV1ZTogQXJyYXk8UHJvY2Vzcz4sIHByZXZpb3VzQWN0aXZlUHJvY2VzczogUHJvY2Vzcyk6IFByb2Nlc3Mge1xyXG4gICAgICAgIHJldHVybiBwcm9jZXNzX3F1ZXVlWzBdO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IE1lbnUgZnJvbSAnLi9jbGFzc2VzL01lbnUnO1xyXG5pbXBvcnQgUHJvY2VzcyBmcm9tICcuL2NsYXNzZXMvUHJvY2Vzcyc7XHJcblxyXG5pbXBvcnQgU2NoZWR1bGVyIGZyb20gJy4vY2xhc3Nlcy9TY2hlZHVsZXInO1xyXG5pbXBvcnQgRkNGUyBmcm9tICcuL2NsYXNzZXMvYWxnb3JpdGhtcy9GQ0ZTJztcclxuaW1wb3J0IFJSIGZyb20gJy4vY2xhc3Nlcy9hbGdvcml0aG1zL1JSJztcclxuXHJcbmZ1bmN0aW9uIG1haW4oKXtcclxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuICAgICAgICBtZW51LmluaXQoKTtcclxuXHJcbiAgICAgICAgbWVudS5zY2hlZHVsZXIuYWRkUHJvY2Vzc1RvUG9vbChuZXcgUHJvY2VzcygwLCAyKSk7XHJcbiAgICAgICAgbWVudS5zY2hlZHVsZXIuYWRkUHJvY2Vzc1RvUG9vbChuZXcgUHJvY2VzcygwLCA1KSk7XHJcbiAgICAgICAgbWVudS5zY2hlZHVsZXIuYWRkUHJvY2Vzc1RvUG9vbChuZXcgUHJvY2VzcygwLCAzKSk7XHJcbiAgICAgICAgbWVudS5yZWZyZXNoUHJvY2Vzc2VzKCk7XHJcbiAgICB9XHJcbiAgICBlbHNlIHtcclxuICAgICAgICBjb25zdCBzY2hlZHVsZXIgPSBuZXcgU2NoZWR1bGVyKCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0IHByb2NfcnVudGltZSA9IDEwMDtcclxuICAgICAgICAvLyBjb25zdCBwcm9jX3N0YXJ0ID0gNTA7XHJcbiAgICAgICAgLy8gY29uc3QgcHJvY19jb3VudCA9IDEwMDAwO1xyXG5cclxuICAgICAgICAvLyBmb3IgKGxldCBpID0gMDsgaSA8IHByb2NfY291bnQ7IGkrKyl7XHJcbiAgICAgICAgLy8gICAgIHNjaGVkdWxlci5hZGRQcm9jZXNzVG9Qb29sKG5ldyBQcm9jZXNzKE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIHByb2Nfc3RhcnQpLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBwcm9jX3J1bnRpbWUpKSk7XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICAvLyBzY2hlZHVsZXIuc2V0QWxnb3JpdGhtKG5ldyBGQ0ZTKCkpO1xyXG5cclxuICAgICAgICBzY2hlZHVsZXIuYWRkUHJvY2Vzc1RvUG9vbChuZXcgUHJvY2VzcygwLCAyKSk7XHJcbiAgICAgICAgc2NoZWR1bGVyLmFkZFByb2Nlc3NUb1Bvb2wobmV3IFByb2Nlc3MoMCwgMSkpO1xyXG4gICAgICAgIHNjaGVkdWxlci5hZGRQcm9jZXNzVG9Qb29sKG5ldyBQcm9jZXNzKDAsIDMpKTtcclxuXHJcbiAgICAgICAgc2NoZWR1bGVyLnNldEFsZ29yaXRobShuZXcgUlIoMSkpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhzY2hlZHVsZXIuc2ltdWxhdGUoKSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbm1haW4oKTtcclxuIiwiLy8gVGhlIG1vZHVsZSBjYWNoZVxudmFyIF9fd2VicGFja19tb2R1bGVfY2FjaGVfXyA9IHt9O1xuXG4vLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcblx0dmFyIGNhY2hlZE1vZHVsZSA9IF9fd2VicGFja19tb2R1bGVfY2FjaGVfX1ttb2R1bGVJZF07XG5cdGlmIChjYWNoZWRNb2R1bGUgIT09IHVuZGVmaW5lZCkge1xuXHRcdHJldHVybiBjYWNoZWRNb2R1bGUuZXhwb3J0cztcblx0fVxuXHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuXHR2YXIgbW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXSA9IHtcblx0XHQvLyBubyBtb2R1bGUuaWQgbmVlZGVkXG5cdFx0Ly8gbm8gbW9kdWxlLmxvYWRlZCBuZWVkZWRcblx0XHRleHBvcnRzOiB7fVxuXHR9O1xuXG5cdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuXHRfX3dlYnBhY2tfbW9kdWxlc19fW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuXHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuXHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG59XG5cbiIsIi8vIHN0YXJ0dXBcbi8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuLy8gVGhpcyBlbnRyeSBtb2R1bGUgaXMgcmVmZXJlbmNlZCBieSBvdGhlciBtb2R1bGVzIHNvIGl0IGNhbid0IGJlIGlubGluZWRcbnZhciBfX3dlYnBhY2tfZXhwb3J0c19fID0gX193ZWJwYWNrX3JlcXVpcmVfXyg5NjUpO1xuIl0sIm5hbWVzIjpbImNvbnN0cnVjdG9yIiwidGhpcyIsInJlc2l6ZUNhbGxiYWNrIiwiaW5pdCIsImVsZW1faWQiLCJjYW52YXMiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwiY3R4IiwiZ2V0Q29udGV4dCIsIndpbmRvdyIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZXNpemVUb0ZpdCIsImJpbmQiLCJ3aWR0aCIsImlubmVyV2lkdGgiLCJoZWlnaHQiLCJpbm5lckhlaWdodCIsInNldFJlc2l6ZUNhbGxiYWNrIiwiY2FsbGJhY2siLCJzY2hlZHVsZXIiLCJkaXNwbGF5IiwiaW5pdEF1dG9QbGF5IiwicnVuIiwiYWRkUHJvY2Vzc2VzIiwiY2xlYXJQcm9jZXNzZXMiLCJlIiwidGFyZ2V0IiwidmFsdWUiLCJ0b0xvd2VyQ2FzZSIsInN0eWxlIiwiZGlzYWJsZWQiLCJyZWZyZXNoUHJvY2Vzc2VzIiwicGxheV9wYXVzZV9idXR0b24iLCJzdG9wX2J1dHRvbiIsIm5leHRUaWNrIiwicmVmcmVzaEFuaW1hdGlvbiIsImlzRmluaXNoZWQiLCJkaXNwbGF5UmVzdWx0cyIsImFmdGVyRG9uZSIsIl9wYXVzZWQiLCJyZXN1bWVBbmltYXRpb24iLCJpbm5lckhUTUwiLCJwYXVzZUFuaW1hdGlvbiIsImNsZWFyUmVjdCIsInJlc2V0Iiwic2V0QW5pbWF0aW9uU3BlZWQiLCJwYXJzZUludCIsInByb2Nlc3NfY291bnQiLCJtYXhfcHJvY2Vzc19ydW5fdGltZSIsIm1heF9wcm9jZXNzX2Fycml2YWxfdGltZSIsImlzTmFOIiwiYWxlcnQiLCJpIiwiYXJyaXZhbF90aW1lIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwicnVuX3RpbWUiLCJhZGRQcm9jZXNzVG9Qb29sIiwicHJvY2Vzc19wb29sIiwibGVuZ3RoIiwidG9TdHJpbmciLCJzdGFydF94IiwicHJldmlvdXNXaWR0aCIsInByZXZpb3VzSGVpZ2h0Iiwid2lkdGhTY2FsZSIsInN1bU9mUnVuVGltZXMiLCJyZWR1Y2UiLCJhIiwiYiIsInByb2Nlc3MiLCJmaWxsU3R5bGUiLCJzdHJva2VTdHlsZSIsImZpbGxSZWN0Iiwic3Ryb2tlUmVjdCIsImZvbnQiLCJ0ZXh0QWxpZ24iLCJmaWxsVGV4dCIsImFuaW1hdGlvbiIsImFsZ1N0ciIsImNvbXBhcmVfYWxsIiwic2V0QWxnb3JpdGhtIiwicXVhbnR1bSIsImNvbnNvbGUiLCJsb2ciLCJjb21wYXJlQWxsQW5kRGlzcGxheVJlc3VsdHMiLCJyZXN1bHRzIiwic2ltdWxhdGUiLCJQcm9jZXNzIiwic3RhcnRfdGltZSIsImlkIiwiaW5jcmVtZW50ZWRfaWQiLCJ0aW1lX2xlZnQiLCJ0dXJuYXJvdW5kX3RpbWUiLCJ2aXN1YWwiLCJnZXRDb3B5IiwiY29weSIsInByb2Nlc3NfcXVldWUiLCJmaW5pc2hlZF9wcm9jZXNzZXMiLCJ0aW1lIiwicHJldmlvdXNBY3RpdmVQcm9jZXNzIiwiX3NwZWVkIiwiX2ludGVydmFsIiwiX2Rpc3BsYXkiLCJhbGdvcml0aG0iLCJwdXNoIiwicHJlcHJvY2VzcyIsImN1cnJlbnRfcHJvY2VzcyIsInBpY2tOZXh0Iiwic3BsaWNlIiwiaW5kZXhPZiIsImdldFJlc3VsdHMiLCJhdmdUdXJuYXJvdW5kVGltZSIsIm1heFRpbWUiLCJtYXgiLCJtYXAiLCJvIiwiZmNmc19yZXN1bHRzIiwic2pmX3Jlc3VsdHMiLCJzcnRmX3Jlc3VsdHMiLCJycjFfcmVzdWx0cyIsInJyM19yZXN1bHRzIiwicmVzVGV4dCIsInRvRml4ZWQiLCJyZXBsYWNlIiwiUmVnRXhwIiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwibmFtZSIsInNjcmVlbldpZHRoIiwic2NyZWVuSGVpZ2h0IiwieCIsIldJRFRIIiwic2V0UG9zIiwiY29sb3IiLCJkcmF3IiwibGFzdFByb2Nlc3MiLCJsZWZ0IiwicHJvY2Vzc2VzX2xlZnRfdG9fam9pbl9lbCIsInRvVXBwZXJDYXNlIiwic3BlZWQiLCJ5IiwibmV4dFByb2Nlc3MiLCJjdXJyZW50X3Byb2Nlc3NJbmRleCIsImN1cnJlbnRfcXVhbnR1bSIsInNvcnQiLCJtZW51IiwibWFpbiIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIiwiY2FsbCJdLCJzb3VyY2VSb290IjoiIn0=