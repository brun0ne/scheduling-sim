(()=>{"use strict";var e={994:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=l(s(752)),n=l(s(920)),i=l(s(463));t.default=class{constructor(){this.processes=[],this.frames=[],this.call_pool=[],this.call_queue=[],this.call_history=[],this.number_of_frames=0,this.number_of_pages=0,this.allocationAlgorithm=null,this.replacementAlgorithm=new i.default,this.total_page_faults=0,this.time=0,this.last_call_caused_fault=!1,this.last_empty_queue=!1}init(e){this.number_of_frames=null!=e?e:this.number_of_frames,this.call_queue=[...this.call_pool],this.frames=[],this.call_history=[],this.time=0,this.total_page_faults=0;for(let e=0;e<this.number_of_frames;e++)this.frames.push(new a.default(e));for(const e of this.processes)e.reset()}addProcess(e){this.processes.push(e)}clearProcesses(){this.processes=[]}generatePageCallPool(){for(let e=0;e<this.processes.length;e++)this.processes[e].generateCalls(),this.addPageCallsToPool(this.processes[e].getCalls(),this.processes[e])}addPageCallToPool(e){this.call_pool.push(e)}addPageCallsToPool(e,t){for(let s=0;s<e.length;s++)this.addPageCallToPool(new n.default(e[s],t))}clearPageCallPool(){this.call_pool=[]}setAlgorithm(e){this.allocationAlgorithm=e}nextTick(){var e,t,s,l,a,n;if(null==this.allocationAlgorithm)throw new Error("No algorithm selected");for(const e of this.processes)e.updateRunningStatus(this.frames);this.frames.forEach((e=>{null==e.process||e.process.running||(e.process=null)})),null===(t=(e=this.allocationAlgorithm).allocateFrames)||void 0===t||t.call(e,this.frames,this.processes),this.frames.forEach((e=>{null==e.process&&null!=e.page&&(e.page=null)}));const i=this.frames.filter((e=>null==e.process)).length;i>0&&console.warn(`Not all frames are allocated\nAllocated: ${this.frames.length-i}\nUnallocated: ${i}`);for(const e of this.processes)e.updateRunningStatus(this.frames);let o=null;for(let e=0;e<this.call_queue.length;e++)if(this.call_queue[e].process.running){o=this.call_queue[e],this.call_queue.splice(e,1);break}if(null==o)return console.warn("Empty page call queue or no processes running"),this.time++,void(this.last_empty_queue=!0);if(this.last_empty_queue=!1,this.call_history.push(o),console.log("Page call: "+o.id),o){null===(l=(s=this.replacementAlgorithm).onPageCall)||void 0===l||l.call(s,this.getCurrentStateData(o));let e=!0;for(let t=0;t<this.frames.length;t++){if(null==this.frames[t])throw new Error("Frame is null");if(null==this.frames[t].page&&this.frames[t].process==o.process){this.frames[t].page=o,this.total_page_faults++,o.process.page_faults++,this.last_call_caused_fault=!0,e=!1;break}if(null!=this.frames[t].page&&this.frames[t].page.id==o.id){null===(n=(a=this.replacementAlgorithm).onPageAlreadyInMemory)||void 0===n||n.call(a,this.getCurrentStateData(o)),this.last_call_caused_fault=!1,e=!1;break}}if(e){if(console.log("Page fault: "+o.id),null!=this.frames.find((e=>e.process==o.process&&null==e.page)))throw new Error("Initial page fill not handled properly");this.total_page_faults++,o.process.page_faults++,this.last_call_caused_fault=!0;const e=this.replacementAlgorithm.handlePageFault(this.getCurrentStateData(o));-1!=e&&(this.frames[this.getFrameIndexById(e)].page=o)}let t=!1;for(const e of this.frames)if(null!=e.page&&e.page.id==o.id){t=!0;break}if(!t)throw new Error("Page fault not handled properly - page not in memory");o.call(this.time,this.last_call_caused_fault)}this.time++}getCurrentStateData(e){const t=this.frames.filter((t=>t.process==e.process)),s=this.call_history.filter((t=>t.process==e.process));return{page_call:e,current_frames:t,previous_page_calls:s,processes:this.processes}}isFinished(){return 0==this.call_queue.length}getFrameIndexById(e){for(let t=0;t<this.frames.length;t++)if(this.frames[t].id==e)return t;return-1}getResults(){return{total_page_faults:this.total_page_faults,total_page_hits:this.call_history.length-this.total_page_faults,total_calls:this.call_history.length}}simulate(){for(this.init();!this.isFinished();){this.nextTick();const e=1e4;if(this.time>e){console.warn("Simulation timed out");break}}return this.getResults()}displayResults(e,t=this.allocationAlgorithm.name){document.getElementById("results_wrapper").style.display="flex",document.getElementById("results").innerHTML=`\n        Algorithm: ${t.toUpperCase()}\n\n        Total page faults: <b style='color: red'>${e.total_page_faults.toFixed(0)}</b>\n        Total page hits: <b style='color: lime'>${e.total_page_hits.toFixed(0)}</b>\n        Total page calls: <b>${e.total_calls.toFixed(0)}</b>\n        `.replace(RegExp("\n","g"),"<br />")}compareAllAndDisplayResults(e){document.getElementById("results_wrapper").style.display="flex";const t=document.getElementById("results");t.innerHTML="";for(let s=0;s<e.length;s++){this.setAlgorithm(e[s]);const l=this.simulate();t.innerHTML+=`\n            Algorithm: ${e[s].name.toUpperCase()}\n            Total page faults: <b style='color: red'>${l.total_page_faults.toFixed(0)}</b>\n            Total page hits: <b style='color: lime'>${l.total_page_hits.toFixed(0)}</b>\n            Total page calls: <b>${l.total_calls.toFixed(0)}</b>\n            `.replace(RegExp("\n","g"),"<br />"),t.innerHTML+="<br />"}}}},498:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.visible=!1,this.playing=!1,this.speed=1,this.GUI=null,this.MENU=null,this.play_pause_button=null,this.step_button=null,this.stop_button=null,this.speed_slider=null,this.info_algorithm=null,this.info_time=null,this.info_is_done=null,this.info_in_queue=null,this.info_finished=null,this.info_total_page_faults=null,this.info_total_page_hits=null,this.frame_rows=[],this.see_code_button=null,this.storedSetInterval=null,this.menu=e}init(){this.GUI=document.getElementById("animation_gui"),this.MENU=document.getElementById("settings"),this.play_pause_button=document.getElementById("animation_play_pause"),this.step_button=document.getElementById("animation_step"),this.stop_button=document.getElementById("animation_stop"),this.speed_slider=document.getElementById("animation_speed_slider"),this.info_algorithm=document.getElementById("animation_info_algorithm_value"),this.info_time=document.getElementById("animation_info_time_value"),this.info_is_done=document.getElementById("animation_is_done"),this.info_in_queue=document.getElementById("calls_in_queue_value"),this.info_finished=document.getElementById("calls_finished_value"),this.info_total_page_faults=document.getElementById("total_page_faults_value"),this.info_total_page_hits=document.getElementById("total_page_hits_value"),this.see_code_button=document.getElementById("code_button"),this.info_is_done.style.display="none",this.play_pause_button.addEventListener("click",(()=>{this.togglePlaying()})),this.step_button.addEventListener("click",(()=>{this.step()})),this.stop_button.addEventListener("click",(()=>{this.toggleVisible(!1)})),this.speed_slider.addEventListener("input",(()=>{this.speed=parseInt(this.speed_slider.value),this.refreshSpeed()})),this.see_code_button.addEventListener("click",(()=>{if(null==this.menu.memory.allocationAlgorithm)return;const e=this.menu.memory.allocationAlgorithm.name;window.open(`https://github.com/brun0ne/scheduling-sim/blob/main/page_replacement_src/classes/algorithms/${e}.ts`,"_blank").focus()})),this.refreshSpeed(),this.initStateTable()}togglePlaying(e){this.playing=null==e?!this.playing:e,this.refreshSpeed(),this.play_pause_button.innerHTML=this.playing?"Pause":"Play"}toggleVisible(e){this.visible=null==e?!this.visible:e,this.visible?(this.GUI.style.display="block",this.MENU.style.display="none",this.menu.display.resizeCallback=()=>{this.drawCurrentState()},this.drawCurrentState()):(this.GUI.style.display="none",this.MENU.style.display="flex",null!=this.storedSetInterval&&clearInterval(this.storedSetInterval),this.menu.display.resizeCallback=()=>{this.menu.refreshCalls()},this.menu.refreshCalls())}reset(){if(null==this.play_pause_button||null==this.info_is_done||null==this.step_button)throw new Error("call init() first!");this.menu.memory.init(),this.play_pause_button.innerHTML="Play",this.playing=!1,this.info_is_done.style.display="none",this.play_pause_button.disabled=!1,this.step_button.disabled=!1,this.initStateTable()}startAnimation(){this.reset(),this.toggleVisible(!0)}drawCurrentState(){this.refreshInfo(),this.drawCalls()}initStateTable(){const e=document.getElementById("animation_table_time"),t=document.getElementById("animation_table_page_calls"),s=document.getElementById("animation_table_body");e.innerHTML="",t.innerHTML="";{const t=document.createElement("th");t.innerHTML="Time",t.classList.add("header"),e.appendChild(t)}{const e=document.createElement("th");e.innerHTML="Page calls",e.classList.add("header"),t.appendChild(e)}{for(;null!=s.lastChild&&"animation_table_page_calls"!=s.lastChild.id;)s.removeChild(s.lastChild);const e=[];for(let t=0;t<this.menu.memory.number_of_frames;t++){const l=document.createElement("tr"),a=document.createElement("th");a.innerHTML=`Frame ${t}`,l.appendChild(a),e.push(l),s.appendChild(l)}this.frame_rows=e}}drawCalls(e,t,s,l,a){const n=document.getElementById("animation_table_time"),i=document.getElementById("animation_table_page_calls"),o=this.menu.memory.call_history.at(-1);if(this.menu.memory.last_empty_queue)return;if(null==o)return;{const e=document.createElement("th");e.innerHTML=`${this.menu.memory.time}`,n.appendChild(e)}{const e=document.createElement("th");e.innerHTML=`${o.id}`,i.appendChild(e)}for(let e=0;e<this.menu.memory.number_of_frames;e++){const t=this.frame_rows[e],s=this.menu.memory.frames[e].page,l=document.createElement("th");l.innerHTML=`${null!=s?s.id:""}`,null!=s&&s.id==o.id&&this.menu.memory.last_call_caused_fault&&(l.style.backgroundColor="red"),null!=this.menu.memory.frames[e].process&&(l.innerHTML+=` <span style='color: yellow'>(${this.menu.memory.frames[e].process.id})</span>`),t.appendChild(l)}const r=document.getElementById("animation_call_table");r.scrollLeft=r.scrollWidth}refreshInfo(){const e=this.menu.memory;if(null==e.allocationAlgorithm)throw new Error("call startAnimation() first!");this.info_algorithm.innerHTML=e.allocationAlgorithm.name,this.info_time.innerHTML=e.time.toString(),e.isFinished()?this.info_is_done.style.display="block":this.info_is_done.style.display="none",this.info_total_page_hits.innerHTML=(e.call_history.length-e.total_page_faults).toString(),this.info_total_page_faults.innerHTML=e.total_page_faults.toString(),this.info_in_queue.innerHTML=e.call_queue.length.toString(),this.info_finished.innerHTML=e.call_history.length.toString()}refreshSpeed(){null!=this.storedSetInterval&&clearInterval(this.storedSetInterval),this.storedSetInterval=setInterval((()=>{this.playing&&this.step()}).bind(this),1e3/this.speed)}step(){this.menu.memory.isFinished()||(this.menu.memory.nextTick(),this.drawCurrentState(),this.menu.memory.isFinished()&&(this.togglePlaying(!1),this.menu.memory.displayResults(this.menu.memory.getResults()),this.afterDone()))}afterDone(){if(null==this.info_is_done||null==this.play_pause_button||null==this.step_button)throw new Error("call init() first!");this.info_is_done.style.display="block",this.play_pause_button.disabled=!0,this.step_button.disabled=!0}}},752:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.page=null,this.process=null,this.id=e}}},463:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="LRU"}handlePageFault(e){let t=-1,s=-1;for(let l=0;l<e.current_frames.length;l++){const a=e.current_frames[l];if(a.process!=e.page_call.process&&console.error("Frame is assigned to a different process - this should be ensured not to happen by the caller"),null==a.page)return console.warn("Frame is empty - this should be ensured not to happen by the caller"),l;let n=-1;for(let t=e.previous_page_calls.length-1;t>=0;t--)if(e.previous_page_calls[t].id==a.page.id){n=t;break}if(-1==n)return l;(n<s||-1==s)&&(t=l,s=n)}return-1==t?(console.warn("No frame to replace found by LRU"),-1):e.current_frames[t].id}}},268:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=l(s(617)),n=l(s(994)),i=l(s(950)),o=l(s(920)),r=l(s(382)),h=l(s(498)),u=l(s(634)),c=l(s(960)),d=l(s(728));t.default=class{constructor(){this.display=new a.default,this.memory=new n.default,this.animationGUI=new h.default(this)}init(){document.getElementById("run_button").addEventListener("click",(()=>{this.run()})),document.getElementById("run_with_animation_button").addEventListener("click",(()=>{this.run(!0)})),document.getElementById("add_button").addEventListener("click",(()=>{this.addProcesses()})),document.getElementById("clear_button").addEventListener("click",(()=>{this.clearProcesses()})),document.getElementById("generate_call_queue_button").addEventListener("click",(()=>{this.addCalls()})),document.getElementById("clear_call_queue_button").addEventListener("click",(()=>{this.clearCalls()}));const e=parseInt(document.getElementById("s_frame_count").value);this.memory.init(e),this.display.init("main_canvas"),this.animationGUI.init(),this.display.setResizeCallback((()=>{this.refreshCalls()})),document.getElementById("s_frame_count").addEventListener("change",(e=>{const t=parseInt(e.target.value);isNaN(t)||t<1?alert("Invalid number of frames"):(this.memory.init(t),this.refreshCalls())})),document.getElementById("a_type").addEventListener("change",(e=>{"compare_all"===e.target.value.toLowerCase()?document.getElementById("run_with_animation_button").setAttribute("disabled","true"):document.getElementById("run_with_animation_button").removeAttribute("disabled"),"fault_control"===e.target.value.toLowerCase()||"compare_all"===e.target.value.toLowerCase()?(document.getElementById("s_min_page_faults_all").style.display="block",document.getElementById("s_max_page_faults_all").style.display="block",document.getElementById("s_time_window_all").style.display="block"):(document.getElementById("s_min_page_faults_all").style.display="none",document.getElementById("s_max_page_faults_all").style.display="none",document.getElementById("s_time_window_all").style.display="none"),"locality_model"===e.target.value.toLowerCase()||"compare_all"===e.target.value.toLowerCase()?document.getElementById("s_time_window_all").style.display="block":document.getElementById("s_time_window_all").style.display="none"})),document.getElementById("results_close").addEventListener("click",(()=>{document.getElementById("results_wrapper").style.display="none"})),this.refreshCalls()}addProcesses(){const e=parseInt(document.getElementById("c_count").value),t=parseInt(document.getElementById("s_min_range").value),s=parseInt(document.getElementById("s_max_range").value),l=parseInt(document.getElementById("s_min_calls").value),a=parseInt(document.getElementById("s_max_calls").value);let n=0;for(let o=0;o<e;o++){const e=Math.floor(Math.random()*(s-t+1))+t;this.memory.addProcess(new i.default([n,n+e],Math.floor(Math.random()*(a-l+1))+l,o)),this.memory.processes[this.memory.processes.length-1].generateCalls(),n+=e}this.refreshCalls()}clearProcesses(){this.memory.clearProcesses(),this.memory.clearPageCallPool(),this.refreshCalls()}addCalls(){for(let e=0;e<this.memory.processes.length;e++)for(let t=0;t<this.memory.processes[e].getCalls().length;t++)this.memory.call_pool.push(new o.default(this.memory.processes[e].getCalls()[t],this.memory.processes[e]));this.memory.call_pool.sort((()=>Math.random()-.5)),this.refreshCalls()}clearCalls(){this.memory.call_pool=[],this.refreshCalls()}refreshCalls(){document.getElementById("p_current_count").innerHTML=`(${this.memory.processes.length.toString()})`;const e=document.getElementById("generate_call_queue_button");this.memory.processes.length>0&&0==this.memory.call_pool.length?e.removeAttribute("disabled"):e.attributes.setNamedItem(document.createAttribute("disabled"));const t=document.getElementById("all_processes");t.innerHTML="";for(let e=0;e<this.memory.processes.length;e++){const s=this.memory.processes[e],l=document.createElement("span");l.classList.add("process"),l.innerHTML=`<span class="process_name">Calls of process ${e}: </span> <span class="process_calls">${s.getCalls().join(", ")}</span><br />`,t.appendChild(l)}0==this.memory.processes.length&&(t.innerHTML="<span style='color: yellow'>No processes added yet.</span>"),document.getElementById("current_call_count").innerHTML=`(${this.memory.call_pool.length.toString()})`;const s=document.getElementById("main_call_queue");s.innerHTML=this.memory.call_pool.map((e=>e.id)).join(", "),0==this.memory.call_pool.length&&(s.innerHTML="<span style='color: yellow'>No calls in queue.</span>")}run(e){if(this.memory.processes.length>this.memory.frames.length)return void alert("Not enough frames for all processes");const t=document.getElementById("a_type").value;let s=!1;const l=parseFloat(document.getElementById("s_min_page_faults").value),a=parseFloat(document.getElementById("s_max_page_faults").value),n=parseFloat(document.getElementById("s_time_window").value);switch(t.toLowerCase()){case"equal":this.memory.setAlgorithm(new r.default);break;case"proportional":this.memory.setAlgorithm(new u.default);break;case"fault_control":if(l>=a)return void alert("Minimum frequency has to be smaller than the maximum");this.memory.setAlgorithm(new c.default(l,a,n));break;case"locality_model":this.memory.setAlgorithm(new d.default(n));break;case"compare_all":s=!0;break;default:alert("Invalid algorithm")}if(s){if(l>=a)return void alert("Minimum frequency has to be smaller than the maximum");const e=[new r.default,new u.default,new c.default(l,a,n),new d.default(n)];this.memory.compareAllAndDisplayResults(e)}else if(e)this.animationGUI.startAnimation();else{const e=this.memory.simulate();this.memory.displayResults(e)}}}},920:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.last_call_time=0,this.id=e,this.process=t}call(e,t){this.last_call_time=e,this.process.done_calls++,this.process.addToFaultLog(t),this.process.addToCallLog(this)}}},950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t,s){this.page_faults=0,this.done_calls=0,this.call_log=[],this.fault_log=[],this.running=!0,this.assignedFrames=0,this.calls=[],this.range_of_pages=e,this.number_of_calls=t,this.id=s}reset(){this.page_faults=0,this.done_calls=0,this.running=!0,this.assignedFrames=0,this.fault_log=[],this.call_log=[]}generateCalls(){this.calls=[];for(let e=0;e<this.number_of_calls;e++)this.calls.push(Math.floor(Math.random()*(this.range_of_pages[1]-this.range_of_pages[0]))+this.range_of_pages[0])}getCalls(){return this.calls}addToFaultLog(e){if(this.fault_log.push(e),this.fault_log.length!=this.done_calls)throw new Error("Fault log length does not match done calls")}addToCallLog(e){if(this.call_log.push(e),this.call_log.length!=this.done_calls)throw new Error("Call log length does not match done calls")}updateRunningStatus(e){let t=0;for(const s of e)s.process==this&&t++;if(this.running=t>0,this.done_calls==this.number_of_calls)this.running=!1;else if(this.done_calls>=this.number_of_calls)throw new Error("Process done calls exceeded number of calls");this.assignedFrames=t}getFaultsInLastN(e){return this.fault_log.slice(this.fault_log.length-e,this.fault_log.length).filter((e=>e)).length}getUniquePagesInLastN(e){return this.call_log.slice(this.call_log.length-e,this.call_log.length).map((e=>e.id)).filter(((e,t,s)=>s.indexOf(e)===t)).length}}},382:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="Equal"}allocateFrames(e,t){const s=Math.floor(e.length/t.length);console.log(`Allocating ${s} frames per process`);for(let l=0;l<e.length;l++)null==e[l].process&&(e[l].process=t[Math.floor(l/s)])}}},728:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=l(s(634));t.default=class{constructor(e){this.name="LocalityModel",this.run_proportional=!0,this.time_window=e}allocateFrames(e,t){if(this.run_proportional)return this.run_proportional=!1,(new a.default).allocateFrames(e,t);for(let t=0;t<e.length;t++)e[t].process=null;let s=0;for(const l of t){if(l.done_calls==l.getCalls().length)continue;let t=this.time_window;t>l.call_log.length&&(t=l.call_log.length);let a=l.getUniquePagesInLastN(this.time_window);a<1&&(a=1);for(let t=0;t<e.length;t++)if(null==e[t].process){if(a>0&&(e[t].process=l,a--,s++),0==a)break;if(s==e.length){console.warn("Allocated all frames (LocalityModel)");break}}}}}},960:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=l(s(634));t.default=class{constructor(e,t,s){this.name="PageFaultControl",this.run_proportional=!0,this.min_fault_freq=e,this.max_faults_freq=t,this.time_window=s}allocateFrames(e,t){if(this.run_proportional)return this.run_proportional=!1,(new a.default).allocateFrames(e,t);const s=this.min_fault_freq,l=this.max_faults_freq;for(let a=0;a<t.length;a++){const n=t[a].getFaultsInLastN(this.time_window);let i=this.time_window;i>t[a].fault_log.length&&(i=t[a].fault_log.length);let o=n/i,r=e.filter((e=>e.process==t[a])).length;if(0==i&&(o=(this.min_fault_freq+this.max_faults_freq)/2),console.log(`Process ${t[a].id} fault frequency: ${o} (${n} / ${i})`),o<s&&r>1)for(let s=0;s<e.length;s++)if(e[s].process==t[a])return e[s].process=null,this.allocateFrames(e,t);if(o>l&&t[a].getCalls().length!=t[a].done_calls)for(let s=0;s<e.length;s++)if(null==e[s].process){e[s].process=t[a];break}}}}},634:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="Proportional"}allocateFrames(e,t){const s=t.reduce(((e,t)=>e+t.number_of_calls),0);let l=0;for(let a=0;a<t.length;a++){let n=Math.floor(t[a].number_of_calls/s*e.length);n<1&&(n=1);for(let s=0;s<n;s++){if(l>=e.length){console.error("There are not enough frames to allocate all frames.");break}null==e[l].process&&(e[l].process=t[a],l++)}}}}},965:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=l(s(268));"undefined"!=typeof document&&(new a.default).init()},617:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.ctx=null,this.resizeCallback=null}init(e){const t=document.getElementById(e);this.ctx=t.getContext("2d"),window.addEventListener("resize",this.resizeToFit.bind(this)),this.resizeToFit()}resizeToFit(){null!=this.ctx&&(this.ctx.canvas.width=window.innerWidth,this.ctx.canvas.height=window.innerHeight,null!=this.resizeCallback&&this.resizeCallback())}setResizeCallback(e){this.resizeCallback=e}}}},t={};!function s(l){var a=t[l];if(void 0!==a)return a.exports;var n=t[l]={exports:{}};return e[l].call(n.exports,n,n.exports,s),n.exports}(965)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Qy9CQUMsRUFBMkIsQ0FBQyxHQUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVVqTSxLQUFLcU0sRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0osR0FHcEVLLEVBQU9ELE9BQ2YsQ0NuQjBCSixDQUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9BbGxvY2F0aW5nTU1VLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvQW5pbWF0aW9uR1VJLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9MUlUudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9NZW51LnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvUGFnZS50cyIsIndlYnBhY2s6Ly8vLi9jbGFzc2VzL1Byb2Nlc3MudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9hbGdvcml0aG1zL0VxdWFsLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvYWxnb3JpdGhtcy9Mb2NhbGl0eU1vZGVsLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvYWxnb3JpdGhtcy9QYWdlRmF1bHRDb250cm9sLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvYWxnb3JpdGhtcy9Qcm9wb3J0aW9uYWwudHMiLCJ3ZWJwYWNrOi8vLy4vbWFpbi50cyIsIndlYnBhY2s6Ly8vLi4vc2hhcmVkL2NsYXNzZXMvRGlzcGxheS50cyIsIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svc3RhcnR1cCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQWxsb2NhdGlvbkFsZ29yaXRobSBmcm9tIFwiLi9BbGxvY2F0aW9uQWxnb3JpdGhtXCJcclxuXHJcbmltcG9ydCBGcmFtZSBmcm9tIFwiLi9GcmFtZVwiXHJcbmltcG9ydCBQYWdlIGZyb20gXCIuL1BhZ2VcIlxyXG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi9Qcm9jZXNzXCJcclxuXHJcbmltcG9ydCBSZXBsYWNlbWVudEFsZ29yaXRobSBmcm9tIFwiLi9SZXBsYWNlbWVudEFsZ29yaXRobVwiXHJcbmltcG9ydCBMUlUgZnJvbSBcIi4vTFJVXCJcclxuXHJcbmV4cG9ydCB0eXBlIE1lbW9yeVN0YXRlRGF0YSA9IHtcclxuICAgIHBhZ2VfY2FsbDogUmVhZG9ubHk8UGFnZT4sXHJcbiAgICBjdXJyZW50X2ZyYW1lczogUmVhZG9ubHlBcnJheTxSZWFkb25seTxGcmFtZT4+LFxyXG4gICAgcHJldmlvdXNfcGFnZV9jYWxsczogUmVhZG9ubHlBcnJheTxSZWFkb25seTxQYWdlPj4sXHJcbiAgICBwcm9jZXNzZXM6IFJlYWRvbmx5QXJyYXk8UmVhZG9ubHk8UHJvY2Vzcz4+XHJcbn07XHJcblxyXG5leHBvcnQgdHlwZSBSZXN1bHRzID0ge1xyXG4gICAgdG90YWxfcGFnZV9mYXVsdHM6IG51bWJlcixcclxuICAgIHRvdGFsX3BhZ2VfaGl0czogbnVtYmVyLFxyXG4gICAgdG90YWxfY2FsbHM6IG51bWJlclxyXG59O1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQWxsb2NhdGluZ01NVSB7XHJcbiAgICBwcm9jZXNzZXM6IEFycmF5PFByb2Nlc3M+ID0gW11cclxuICAgIGZyYW1lczogQXJyYXk8RnJhbWU+ID0gW11cclxuXHJcbiAgICBjYWxsX3Bvb2w6IEFycmF5PFBhZ2U+ID0gW11cclxuICAgIGNhbGxfcXVldWU6IEFycmF5PFBhZ2U+ID0gW11cclxuICAgIGNhbGxfaGlzdG9yeTogQXJyYXk8UGFnZT4gPSBbXVxyXG5cclxuICAgIG51bWJlcl9vZl9mcmFtZXM6IG51bWJlciA9IDBcclxuICAgIG51bWJlcl9vZl9wYWdlczogbnVtYmVyID0gMFxyXG5cclxuICAgIGFsbG9jYXRpb25BbGdvcml0aG06IEFsbG9jYXRpb25BbGdvcml0aG0gfCBudWxsID0gbnVsbFxyXG4gICAgcmVwbGFjZW1lbnRBbGdvcml0aG06IFJlcGxhY2VtZW50QWxnb3JpdGhtID0gbmV3IExSVSgpXHJcblxyXG4gICAgdG90YWxfcGFnZV9mYXVsdHM6IG51bWJlciA9IDBcclxuICAgIHRpbWU6IG51bWJlciA9IDBcclxuXHJcbiAgICBsYXN0X2NhbGxfY2F1c2VkX2ZhdWx0OiBib29sZWFuID0gZmFsc2VcclxuICAgIGxhc3RfZW1wdHlfcXVldWU6IGJvb2xlYW4gPSBmYWxzZVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkgeyB9XHJcblxyXG4gICAgaW5pdChudW1iZXJfb2ZfZnJhbWVzPzogbnVtYmVyKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5udW1iZXJfb2ZfZnJhbWVzID0gbnVtYmVyX29mX2ZyYW1lcyA/PyB0aGlzLm51bWJlcl9vZl9mcmFtZXM7XHJcblxyXG4gICAgICAgIHRoaXMuY2FsbF9xdWV1ZSA9IFsuLi50aGlzLmNhbGxfcG9vbF07IC8vIGNvcHkgYXJyYXlcclxuICAgICAgICB0aGlzLmZyYW1lcyA9IFtdO1xyXG4gICAgICAgIHRoaXMuY2FsbF9oaXN0b3J5ID0gW107XHJcblxyXG4gICAgICAgIHRoaXMudGltZSA9IDA7XHJcbiAgICAgICAgdGhpcy50b3RhbF9wYWdlX2ZhdWx0cyA9IDA7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1iZXJfb2ZfZnJhbWVzOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5mcmFtZXMucHVzaChuZXcgRnJhbWUoaSkpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzIG9mIHRoaXMucHJvY2Vzc2VzKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MucmVzZXQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWRkUHJvY2Vzcyhwcm9jZXNzOiBQcm9jZXNzKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzZXMucHVzaChwcm9jZXNzKTtcclxuICAgIH1cclxuXHJcbiAgICBjbGVhclByb2Nlc3NlcygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnByb2Nlc3NlcyA9IFtdO1xyXG4gICAgfVxyXG5cclxuICAgIGdlbmVyYXRlUGFnZUNhbGxQb29sKCk6IHZvaWQge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wcm9jZXNzZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5wcm9jZXNzZXNbaV0uZ2VuZXJhdGVDYWxscygpO1xyXG4gICAgICAgICAgICB0aGlzLmFkZFBhZ2VDYWxsc1RvUG9vbCh0aGlzLnByb2Nlc3Nlc1tpXS5nZXRDYWxscygpLCB0aGlzLnByb2Nlc3Nlc1tpXSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkUGFnZUNhbGxUb1Bvb2wocGFnZV9jYWxsOiBQYWdlKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5jYWxsX3Bvb2wucHVzaChwYWdlX2NhbGwpO1xyXG4gICAgfVxyXG5cclxuICAgIHByaXZhdGUgYWRkUGFnZUNhbGxzVG9Qb29sKHBhZ2VfY2FsbHM6IEFycmF5PG51bWJlcj4sIHByb2Nlc3M6IFByb2Nlc3MpIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VfY2FsbHMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgdGhpcy5hZGRQYWdlQ2FsbFRvUG9vbChuZXcgUGFnZShwYWdlX2NhbGxzW2ldLCBwcm9jZXNzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyUGFnZUNhbGxQb29sKCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuY2FsbF9wb29sID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgc2V0QWxnb3JpdGhtKGFsZ29yaXRobTogQWxsb2NhdGlvbkFsZ29yaXRobSk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuYWxsb2NhdGlvbkFsZ29yaXRobSA9IGFsZ29yaXRobTtcclxuICAgIH1cclxuXHJcbiAgICBuZXh0VGljaygpOiB2b2lkIHtcclxuICAgICAgICAvKiBlbnN1cmUgdGhhdCBhbiBhbGdvcml0aG0gaXMgc2VsZWN0ZWQgKi9cclxuICAgICAgICBpZiAodGhpcy5hbGxvY2F0aW9uQWxnb3JpdGhtID09IG51bGwpIHtcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gYWxnb3JpdGhtIHNlbGVjdGVkXCIpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogY2hlY2sgaWYgYW55IHByb2Nlc3MgaXMgc3RvcHBlZC9yZXN1bWVkICovXHJcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzIG9mIHRoaXMucHJvY2Vzc2VzKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MudXBkYXRlUnVubmluZ1N0YXR1cyh0aGlzLmZyYW1lcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBkZWFsbG9jYXRlIGZpbmlzaGVkIHByb2Nlc3NlcyAqL1xyXG4gICAgICAgIHRoaXMuZnJhbWVzLmZvckVhY2goZnJhbWUgPT4ge1xyXG4gICAgICAgICAgICBpZiAoZnJhbWUucHJvY2VzcyAhPSBudWxsICYmICFmcmFtZS5wcm9jZXNzLnJ1bm5pbmcpXHJcbiAgICAgICAgICAgICAgICBmcmFtZS5wcm9jZXNzID0gbnVsbDtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyogcmVhbGxvY2F0ZSBmcmFtZXMgdG8gcHJvY2Vzc2VzICovXHJcbiAgICAgICAgdGhpcy5hbGxvY2F0aW9uQWxnb3JpdGhtLmFsbG9jYXRlRnJhbWVzPy4odGhpcy5mcmFtZXMsIHRoaXMucHJvY2Vzc2VzKTtcclxuXHJcbiAgICAgICAgLyogcmVtb3ZlIHBhZ2VzIGZyb20gdW5hbGxvY2F0ZWQgZnJhbWVzICovXHJcbiAgICAgICAgdGhpcy5mcmFtZXMuZm9yRWFjaChmcmFtZSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChmcmFtZS5wcm9jZXNzID09IG51bGwgJiYgZnJhbWUucGFnZSAhPSBudWxsKVxyXG4gICAgICAgICAgICAgICAgZnJhbWUucGFnZSA9IG51bGw7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0IHVuYWxsb2NhdGVkRnJhbWVzTGVuZ3RoID0gdGhpcy5mcmFtZXMuZmlsdGVyKGZyYW1lID0+IGZyYW1lLnByb2Nlc3MgPT0gbnVsbCkubGVuZ3RoO1xyXG4gICAgICAgIGlmICh1bmFsbG9jYXRlZEZyYW1lc0xlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKGBOb3QgYWxsIGZyYW1lcyBhcmUgYWxsb2NhdGVkXFxuQWxsb2NhdGVkOiAke3RoaXMuZnJhbWVzLmxlbmd0aCAtIHVuYWxsb2NhdGVkRnJhbWVzTGVuZ3RofVxcblVuYWxsb2NhdGVkOiAke3VuYWxsb2NhdGVkRnJhbWVzTGVuZ3RofWApO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogY2hlY2sgYWdhaW4gaWYgYW55IHByb2Nlc3MgaXMgc3RvcHBlZC9yZXN1bWVkICovXHJcbiAgICAgICAgZm9yIChjb25zdCBwcm9jZXNzIG9mIHRoaXMucHJvY2Vzc2VzKSB7XHJcbiAgICAgICAgICAgIHByb2Nlc3MudXBkYXRlUnVubmluZ1N0YXR1cyh0aGlzLmZyYW1lcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiB0cmF2ZXJzZSB0aGUgcXVldWUgdW50aWwgYSBjYWxsIGJlbG9uZ2luZyB0byBhIHJ1bm5pbmcgcHJvY2VzcyBpcyBmb3VuZCAqL1xyXG4gICAgICAgIGxldCBwYWdlX2NhbGw6IFBhZ2UgfCBudWxsID0gbnVsbDtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuY2FsbF9xdWV1ZS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5jYWxsX3F1ZXVlW2ldLnByb2Nlc3MucnVubmluZykge1xyXG4gICAgICAgICAgICAgICAgcGFnZV9jYWxsID0gdGhpcy5jYWxsX3F1ZXVlW2ldO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsX3F1ZXVlLnNwbGljZShpLCAxKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBubyBwYWdlIGNhbGwgYXQgdGhpcyB0aW1lICovXHJcbiAgICAgICAgaWYgKHBhZ2VfY2FsbCA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkVtcHR5IHBhZ2UgY2FsbCBxdWV1ZSBvciBubyBwcm9jZXNzZXMgcnVubmluZ1wiKTtcclxuICAgICAgICAgICAgdGhpcy50aW1lKys7XHJcbiAgICAgICAgICAgIHRoaXMubGFzdF9lbXB0eV9xdWV1ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5sYXN0X2VtcHR5X3F1ZXVlID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuY2FsbF9oaXN0b3J5LnB1c2gocGFnZV9jYWxsKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIlBhZ2UgY2FsbDogXCIgKyBwYWdlX2NhbGwuaWQpO1xyXG5cclxuICAgICAgICBpZiAocGFnZV9jYWxsKSB7XHJcbiAgICAgICAgICAgIC8qIGV4ZWN1dGUgcmVwbGFjZW1lbnQgYWxnb3JpdGhtICovXHJcbiAgICAgICAgICAgIHRoaXMucmVwbGFjZW1lbnRBbGdvcml0aG0ub25QYWdlQ2FsbD8uKHRoaXMuZ2V0Q3VycmVudFN0YXRlRGF0YShwYWdlX2NhbGwpKTtcclxuXHJcbiAgICAgICAgICAgIC8qIGNoZWNrIGlmIHRoZXJlIGlzIGEgcGFnZSBmYXVsdCAqL1xyXG4gICAgICAgICAgICBsZXQgcGFnZV9mYXVsdCA9IHRydWU7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5mcmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lc1tpXSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZyYW1lIGlzIG51bGxcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWVzW2ldLnBhZ2UgPT0gbnVsbCAmJiB0aGlzLmZyYW1lc1tpXS5wcm9jZXNzID09IHBhZ2VfY2FsbC5wcm9jZXNzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogaW5zZXJ0IGludG8gdGhlIGZpcnN0IGZyZWUgZnJhbWUgYXNzaWduZWQgdG8gdGhlIHByb2Nlc3MgKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmZyYW1lc1tpXS5wYWdlID0gcGFnZV9jYWxsO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvKiBpbmNyZW1lbnQgcGFnZSBmYXVsdHMgKi9cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VfZmF1bHRzKys7XHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZV9jYWxsLnByb2Nlc3MucGFnZV9mYXVsdHMrKztcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0X2NhbGxfY2F1c2VkX2ZhdWx0ID0gdHJ1ZTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgcGFnZV9mYXVsdCA9IGZhbHNlOyAvLyBwYWdlIGZhdWx0IGFscmVhZHkgaGFuZGxlZFxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lc1tpXS5wYWdlICE9IG51bGwgJiYgdGhpcy5mcmFtZXNbaV0ucGFnZSEuaWQgPT0gcGFnZV9jYWxsLmlkKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLyogcGFnZSBpcyBhbHJlYWR5IGluIG1lbW9yeSAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVwbGFjZW1lbnRBbGdvcml0aG0ub25QYWdlQWxyZWFkeUluTWVtb3J5Py4odGhpcy5nZXRDdXJyZW50U3RhdGVEYXRhKHBhZ2VfY2FsbCkpO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmxhc3RfY2FsbF9jYXVzZWRfZmF1bHQgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlX2ZhdWx0ID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIGhhbmRsZSBwYWdlIGZhdWx0ICovXHJcbiAgICAgICAgICAgIGlmIChwYWdlX2ZhdWx0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhZ2UgZmF1bHQ6IFwiICsgcGFnZV9jYWxsLmlkKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvKiBlbnN1cmUgdGhhdCB0aGVyZSBhcmUgbm8gZnJlZSBmcmFtZXMgYXNzaWduZWQgdG8gdGhlIHByb2Nlc3MgKi9cclxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lcy5maW5kKGZyYW1lID0+IGZyYW1lLnByb2Nlc3MgPT0gcGFnZV9jYWxsIS5wcm9jZXNzICYmIGZyYW1lLnBhZ2UgPT0gbnVsbCkgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluaXRpYWwgcGFnZSBmaWxsIG5vdCBoYW5kbGVkIHByb3Blcmx5XCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIC8qIGluY3JlbWVudCBwYWdlIGZhdWx0cyAqL1xyXG4gICAgICAgICAgICAgICAgdGhpcy50b3RhbF9wYWdlX2ZhdWx0cysrO1xyXG4gICAgICAgICAgICAgICAgcGFnZV9jYWxsLnByb2Nlc3MucGFnZV9mYXVsdHMrKztcclxuXHJcbiAgICAgICAgICAgICAgICB0aGlzLmxhc3RfY2FsbF9jYXVzZWRfZmF1bHQgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIC8qIHJlcGxhY2UgYSBwYWdlICovXHJcbiAgICAgICAgICAgICAgICBjb25zdCBpZF9vZl9mcmFtZV90b19yZXBsYWNlID0gdGhpcy5yZXBsYWNlbWVudEFsZ29yaXRobS5oYW5kbGVQYWdlRmF1bHQodGhpcy5nZXRDdXJyZW50U3RhdGVEYXRhKHBhZ2VfY2FsbCkpO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChpZF9vZl9mcmFtZV90b19yZXBsYWNlICE9IC0xKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZnJhbWVzW3RoaXMuZ2V0RnJhbWVJbmRleEJ5SWQoaWRfb2ZfZnJhbWVfdG9fcmVwbGFjZSldLnBhZ2UgPSBwYWdlX2NhbGw7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIC8qIGVuc3VyZSB0aGF0IHRoZSBwYWdlIGlzIG5vdyBpbiBtZW1vcnkgKi9cclxuICAgICAgICAgICAgbGV0IHBhZ2VfaW5fbWVtb3J5ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIGZvciAoY29uc3QgZnJhbWUgb2YgdGhpcy5mcmFtZXMpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmcmFtZS5wYWdlID09IG51bGwpXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGludWU7XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKCg8UGFnZT5mcmFtZS5wYWdlKS5pZCA9PSBwYWdlX2NhbGwuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvKiBwYWdlIGlzIGluIG1lbW9yeSAqL1xyXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VfaW5fbWVtb3J5ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoIXBhZ2VfaW5fbWVtb3J5KSB7XHJcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQYWdlIGZhdWx0IG5vdCBoYW5kbGVkIHByb3Blcmx5IC0gcGFnZSBub3QgaW4gbWVtb3J5XCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiBjYWxsIHRoZSBwYWdlICovXHJcbiAgICAgICAgICAgIHBhZ2VfY2FsbC5jYWxsKHRoaXMudGltZSwgdGhpcy5sYXN0X2NhbGxfY2F1c2VkX2ZhdWx0KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMudGltZSsrO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEN1cnJlbnRTdGF0ZURhdGEocGFnZV9jYWxsOiBQYWdlKTogTWVtb3J5U3RhdGVEYXRhIHtcclxuICAgICAgICAvKiBnZXQgdGhlIHN0YXRlIG9mIHRoZSBtZW1vcnkgYXNzaWduZWQgdG8gdGhlIHByb2Nlc3MgKi9cclxuICAgICAgICBjb25zdCBwcm9jZXNzX2ZyYW1lcyA9IHRoaXMuZnJhbWVzLmZpbHRlcihmcmFtZSA9PiBmcmFtZS5wcm9jZXNzID09IHBhZ2VfY2FsbC5wcm9jZXNzKTtcclxuICAgICAgICBjb25zdCBwcm9jZXNzX2NhbGxfaGlzdG9yeSA9IHRoaXMuY2FsbF9oaXN0b3J5LmZpbHRlcihjYWxsID0+IGNhbGwucHJvY2VzcyA9PSBwYWdlX2NhbGwucHJvY2Vzcyk7XHJcblxyXG4gICAgICAgIGNvbnN0IGRhdGE6IE1lbW9yeVN0YXRlRGF0YSA9IHtcclxuICAgICAgICAgICAgcGFnZV9jYWxsOiBwYWdlX2NhbGwsXHJcbiAgICAgICAgICAgIGN1cnJlbnRfZnJhbWVzOiBwcm9jZXNzX2ZyYW1lcyxcclxuICAgICAgICAgICAgcHJldmlvdXNfcGFnZV9jYWxsczogcHJvY2Vzc19jYWxsX2hpc3RvcnksXHJcbiAgICAgICAgICAgIHByb2Nlc3NlczogdGhpcy5wcm9jZXNzZXNcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gZGF0YTtcclxuICAgIH1cclxuXHJcbiAgICBpc0ZpbmlzaGVkKCk6IGJvb2xlYW4ge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmNhbGxfcXVldWUubGVuZ3RoID09IDA7XHJcbiAgICB9XHJcblxyXG4gICAgcHJpdmF0ZSBnZXRGcmFtZUluZGV4QnlJZChpZDogbnVtYmVyKTogbnVtYmVyIHtcclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZnJhbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lc1tpXS5pZCA9PSBpZClcclxuICAgICAgICAgICAgICAgIHJldHVybiBpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIC0xO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFJlc3VsdHMoKTogUmVzdWx0cyB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHtcclxuICAgICAgICAgICAgdG90YWxfcGFnZV9mYXVsdHM6IHRoaXMudG90YWxfcGFnZV9mYXVsdHMsXHJcbiAgICAgICAgICAgIHRvdGFsX3BhZ2VfaGl0czogdGhpcy5jYWxsX2hpc3RvcnkubGVuZ3RoIC0gdGhpcy50b3RhbF9wYWdlX2ZhdWx0cyxcclxuICAgICAgICAgICAgdG90YWxfY2FsbHM6IHRoaXMuY2FsbF9oaXN0b3J5Lmxlbmd0aFxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XHJcbiAgICB9XHJcblxyXG4gICAgc2ltdWxhdGUoKTogUmVzdWx0cyB7XHJcbiAgICAgICAgdGhpcy5pbml0KCk7XHJcblxyXG4gICAgICAgIHdoaWxlICghdGhpcy5pc0ZpbmlzaGVkKCkpIHtcclxuICAgICAgICAgICAgdGhpcy5uZXh0VGljaygpO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgTUFYX1RJTUUgPSAxMDAwMDtcclxuICAgICAgICAgICAgaWYgKHRoaXMudGltZSA+IE1BWF9USU1FKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJTaW11bGF0aW9uIHRpbWVkIG91dFwiKTtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5nZXRSZXN1bHRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZGlzcGxheVJlc3VsdHMocmVzdWx0cz86IFJlc3VsdHMsIGFsZ1N0cjogc3RyaW5nID0gdGhpcy5hbGxvY2F0aW9uQWxnb3JpdGhtIS5uYW1lKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0c193cmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzX3dyYXBwZXJcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgcmVzdWx0c193cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0c19lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c1wiKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICByZXN1bHRzX2VsLmlubmVySFRNTCA9IGBcclxuICAgICAgICBBbGdvcml0aG06ICR7YWxnU3RyLnRvVXBwZXJDYXNlKCl9XHJcblxyXG4gICAgICAgIFRvdGFsIHBhZ2UgZmF1bHRzOiA8YiBzdHlsZT0nY29sb3I6IHJlZCc+JHtyZXN1bHRzIS50b3RhbF9wYWdlX2ZhdWx0cy50b0ZpeGVkKDApfTwvYj5cclxuICAgICAgICBUb3RhbCBwYWdlIGhpdHM6IDxiIHN0eWxlPSdjb2xvcjogbGltZSc+JHtyZXN1bHRzIS50b3RhbF9wYWdlX2hpdHMudG9GaXhlZCgwKX08L2I+XHJcbiAgICAgICAgVG90YWwgcGFnZSBjYWxsczogPGI+JHtyZXN1bHRzIS50b3RhbF9jYWxscy50b0ZpeGVkKDApfTwvYj5cclxuICAgICAgICBgLnJlcGxhY2UoUmVnRXhwKFwiXFxuXCIsIFwiZ1wiKSwgXCI8YnIgLz5cIik7XHJcbiAgICB9XHJcblxyXG4gICAgY29tcGFyZUFsbEFuZERpc3BsYXlSZXN1bHRzKGFsZ29yaXRobXM6IEFycmF5PEFsbG9jYXRpb25BbGdvcml0aG0+KTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0c193cmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzX3dyYXBwZXJcIikgYXMgSFRNTEVsZW1lbnQ7XHJcbiAgICAgICAgcmVzdWx0c193cmFwcGVyLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHJcbiAgICAgICAgY29uc3QgcmVzdWx0c19lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c1wiKSBhcyBIVE1MRWxlbWVudDtcclxuICAgICAgICByZXN1bHRzX2VsLmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgYWxnb3JpdGhtcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLnNldEFsZ29yaXRobShhbGdvcml0aG1zW2ldKTtcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0czogUmVzdWx0cyA9IHRoaXMuc2ltdWxhdGUoKTtcclxuXHJcbiAgICAgICAgICAgIHJlc3VsdHNfZWwuaW5uZXJIVE1MICs9IGBcclxuICAgICAgICAgICAgQWxnb3JpdGhtOiAke2FsZ29yaXRobXNbaV0ubmFtZS50b1VwcGVyQ2FzZSgpfVxyXG4gICAgICAgICAgICBUb3RhbCBwYWdlIGZhdWx0czogPGIgc3R5bGU9J2NvbG9yOiByZWQnPiR7cmVzdWx0cy50b3RhbF9wYWdlX2ZhdWx0cy50b0ZpeGVkKDApfTwvYj5cclxuICAgICAgICAgICAgVG90YWwgcGFnZSBoaXRzOiA8YiBzdHlsZT0nY29sb3I6IGxpbWUnPiR7cmVzdWx0cy50b3RhbF9wYWdlX2hpdHMudG9GaXhlZCgwKX08L2I+XHJcbiAgICAgICAgICAgIFRvdGFsIHBhZ2UgY2FsbHM6IDxiPiR7cmVzdWx0cy50b3RhbF9jYWxscy50b0ZpeGVkKDApfTwvYj5cclxuICAgICAgICAgICAgYC5yZXBsYWNlKFJlZ0V4cChcIlxcblwiLCBcImdcIiksIFwiPGJyIC8+XCIpO1xyXG5cclxuICAgICAgICAgICAgcmVzdWx0c19lbC5pbm5lckhUTUwgKz0gXCI8YnIgLz5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgSUFuaW1hdGlvbkdVSSBmcm9tIFwiLi4vLi4vc2hhcmVkL2ludGVyZmFjZXMvSUFuaW1hdGlvbkdVSVwiO1xyXG5pbXBvcnQgTWVudSBmcm9tIFwiLi9NZW51XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRpb25HVUkgaW1wbGVtZW50cyBJQW5pbWF0aW9uR1VJIHtcclxuICAgIG1lbnU6IE1lbnVcclxuXHJcbiAgICB2aXNpYmxlOiBib29sZWFuID0gZmFsc2VcclxuICAgIHBsYXlpbmc6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgc3BlZWQ6IG51bWJlciA9IDFcclxuXHJcbiAgICBHVUk6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIE1FTlU6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBwbGF5X3BhdXNlX2J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG4gICAgc3RlcF9idXR0b246IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIHN0b3BfYnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsXHJcbiAgICBzcGVlZF9zbGlkZXI6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIGluZm9fYWxnb3JpdGhtOiBIVE1MUGFyYWdyYXBoRWxlbWVudCB8IG51bGwgPSBudWxsXHJcbiAgICBpbmZvX3RpbWU6IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIGluZm9faXNfZG9uZTogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIGluZm9faW5fcXVldWU6IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIGluZm9fZmluaXNoZWQ6IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIGluZm9fdG90YWxfcGFnZV9mYXVsdHM6IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIGluZm9fdG90YWxfcGFnZV9oaXRzOiBIVE1MUGFyYWdyYXBoRWxlbWVudCB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgZnJhbWVfcm93czogQXJyYXk8SFRNTFRhYmxlUm93RWxlbWVudD4gPSBbXVxyXG5cclxuICAgIHNlZV9jb2RlX2J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIC8qIHNldEludGVydmFsICovXHJcbiAgICBzdG9yZWRTZXRJbnRlcnZhbDogTm9kZUpTLlRpbWVyIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihtZW51OiBNZW51KSB7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbWVudTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuR1VJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fZ3VpXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuTUVOVSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dGluZ3NcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMucGxheV9wYXVzZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9wbGF5X3BhdXNlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuc3RlcF9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9zdGVwXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuc3RvcF9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9zdG9wXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuc3BlZWRfc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fc3BlZWRfc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuaW5mb19hbGdvcml0aG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9pbmZvX2FsZ29yaXRobV92YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICB0aGlzLmluZm9fdGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX2luZm9fdGltZV92YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICB0aGlzLmluZm9faXNfZG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX2lzX2RvbmVcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuaW5mb19pbl9xdWV1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FsbHNfaW5fcXVldWVfdmFsdWVcIikgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5pbmZvX2ZpbmlzaGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYWxsc19maW5pc2hlZF92YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICB0aGlzLmluZm9fdG90YWxfcGFnZV9mYXVsdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsX3BhZ2VfZmF1bHRzX3ZhbHVlXCIpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuaW5mb190b3RhbF9wYWdlX2hpdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsX3BhZ2VfaGl0c192YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuXHJcbiAgICAgICAgdGhpcy5zZWVfY29kZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvZGVfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBoaWRlIGVsZW1lbnRzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5pbmZvX2lzX2RvbmUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5wbGF5X3BhdXNlX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBsYXlpbmcoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGVwX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0ZXAoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9wX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNwZWVkX3NsaWRlci5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gcGFyc2VJbnQodGhpcy5zcGVlZF9zbGlkZXIhLnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU3BlZWQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWVfY29kZV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubWVudS5tZW1vcnkuYWxsb2NhdGlvbkFsZ29yaXRobSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYWxnb3JpdGhtTmFtZSA9IHRoaXMubWVudS5tZW1vcnkuYWxsb2NhdGlvbkFsZ29yaXRobS5uYW1lO1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbihgaHR0cHM6Ly9naXRodWIuY29tL2JydW4wbmUvc2NoZWR1bGluZy1zaW0vYmxvYi9tYWluL3BhZ2VfcmVwbGFjZW1lbnRfc3JjL2NsYXNzZXMvYWxnb3JpdGhtcy8ke2FsZ29yaXRobU5hbWV9LnRzYCwgXCJfYmxhbmtcIikhLmZvY3VzKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldEludGVydmFsXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU3BlZWQoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcHJlcGFyZSBIVE1MIHRhYmxlIG9mIHN0YXRlc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuaW5pdFN0YXRlVGFibGUoKTtcclxuICAgIH1cclxuICAgIHRvZ2dsZVBsYXlpbmcocGxheWluZz86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAocGxheWluZyA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aGlzLnBsYXlpbmcgPSAhdGhpcy5wbGF5aW5nO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5wbGF5aW5nID0gcGxheWluZztcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU3BlZWQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5X3BhdXNlX2J1dHRvbiEuaW5uZXJIVE1MID0gdGhpcy5wbGF5aW5nID8gXCJQYXVzZVwiIDogXCJQbGF5XCI7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlVmlzaWJsZSh2aXNpYmxlPzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh2aXNpYmxlID09IG51bGwpXHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGU7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuR1VJIS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICB0aGlzLk1FTlUhLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWVudS5kaXNwbGF5LnJlc2l6ZUNhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q3VycmVudFN0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kcmF3Q3VycmVudFN0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLkdVSSEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICB0aGlzLk1FTlUhLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlZFNldEludGVydmFsICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc3RvcmVkU2V0SW50ZXJ2YWwpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tZW51LmRpc3BsYXkucmVzaXplQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnUucmVmcmVzaENhbGxzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tZW51LnJlZnJlc2hDYWxscygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5X3BhdXNlX2J1dHRvbiA9PSBudWxsIHx8IHRoaXMuaW5mb19pc19kb25lID09IG51bGwgfHwgdGhpcy5zdGVwX2J1dHRvbiA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWxsIGluaXQoKSBmaXJzdCFcIik7XHJcblxyXG4gICAgICAgIHRoaXMubWVudS5tZW1vcnkuaW5pdCgpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlfcGF1c2VfYnV0dG9uLmlubmVySFRNTCA9IFwiUGxheVwiO1xyXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9faXNfZG9uZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgICAgIHRoaXMucGxheV9wYXVzZV9idXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0ZXBfYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFN0YXRlVGFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydEFuaW1hdGlvbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVWaXNpYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdDdXJyZW50U3RhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcmVmcmVzaCBpbmZvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoSW5mbygpO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdDYWxscygpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRTdGF0ZVRhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8qIGdyYWIgZWxlbWVudHMgKi9cclxuICAgICAgICBjb25zdCB0aW1lX3JvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3RhYmxlX3RpbWVcIikgYXMgSFRNTFRhYmxlUm93RWxlbWVudDtcclxuICAgICAgICBjb25zdCBjYWxsc19yb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl90YWJsZV9wYWdlX2NhbGxzXCIpIGFzIEhUTUxUYWJsZVJvd0VsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl90YWJsZV9ib2R5XCIpIGFzIEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50O1xyXG5cclxuICAgICAgICAvKiBjbGVhciB0YWJsZSAqL1xyXG4gICAgICAgIHRpbWVfcm93LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgY2FsbHNfcm93LmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8qIHRpbWUgKi9cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVfcm93X2hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgdGltZV9yb3dfaGVhZGVyLmlubmVySFRNTCA9IFwiVGltZVwiO1xyXG4gICAgICAgICAgICB0aW1lX3Jvd19oZWFkZXIuY2xhc3NMaXN0LmFkZChcImhlYWRlclwiKTtcclxuICAgICAgICAgICAgdGltZV9yb3cuYXBwZW5kQ2hpbGQodGltZV9yb3dfaGVhZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGNhbGxzICovXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxsc19yb3dfaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgICAgICBjYWxsc19yb3dfaGVhZGVyLmlubmVySFRNTCA9IFwiUGFnZSBjYWxsc1wiO1xyXG4gICAgICAgICAgICBjYWxsc19yb3dfaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJcIik7XHJcbiAgICAgICAgICAgIGNhbGxzX3Jvdy5hcHBlbmRDaGlsZChjYWxsc19yb3dfaGVhZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGZyYW1lcyAqL1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLyogcmVtb3ZlIG9sZCByb3dzICovXHJcbiAgICAgICAgICAgIHdoaWxlICh0Ym9keS5sYXN0Q2hpbGQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSAodGJvZHkubGFzdENoaWxkIGFzIEhUTUxFbGVtZW50KS5pZDtcclxuICAgICAgICAgICAgICAgIGlmIChpZCA9PSBcImFuaW1hdGlvbl90YWJsZV9wYWdlX2NhbGxzXCIpIC8vIHNraXAgdGhlIHJvdyB3aXRoIHBhZ2UgY2FsbHNcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICB0Ym9keS5yZW1vdmVDaGlsZCh0Ym9keS5sYXN0Q2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiBhZGQgYSByb3cgZm9yIGVhY2ggZnJhbWUgKi9cclxuICAgICAgICAgICAgY29uc3QgZnJhbWVfcm93czogQXJyYXk8SFRNTFRhYmxlUm93RWxlbWVudD4gPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbnUubWVtb3J5Lm51bWJlcl9vZl9mcmFtZXM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWVfcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lX3Jvd19oZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgICAgICAgICBmcmFtZV9yb3dfaGVhZGVyLmlubmVySFRNTCA9IGBGcmFtZSAke2l9YDtcclxuICAgICAgICAgICAgICAgIGZyYW1lX3Jvdy5hcHBlbmRDaGlsZChmcmFtZV9yb3dfaGVhZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmcmFtZV9yb3dzLnB1c2goZnJhbWVfcm93KTtcclxuICAgICAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKGZyYW1lX3Jvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mcmFtZV9yb3dzID0gZnJhbWVfcm93cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0NhbGxzKFNUQVJUX1g/OiBudW1iZXIsIFNUQVJUX1k/OiBudW1iZXIsIFdJRFRIPzogbnVtYmVyLCBIRUlHSFQ/OiBudW1iZXIsIGNhbGxzVG9EcmF3PzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLyogZ3JhYiBlbGVtZW50cyAqL1xyXG4gICAgICAgIGNvbnN0IHRpbWVfcm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fdGFibGVfdGltZVwiKSBhcyBIVE1MVGFibGVSb3dFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IGNhbGxzX3JvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3RhYmxlX3BhZ2VfY2FsbHNcIikgYXMgSFRNTFRhYmxlUm93RWxlbWVudDtcclxuXHJcbiAgICAgICAgLyogb25seSBhZGQgb25lIGNvbHVtbiBmb3IgdGhlIG5ldyBzdGF0ZSAqL1xyXG4gICAgICAgIGNvbnN0IG5ld0NhbGwgPSB0aGlzLm1lbnUubWVtb3J5LmNhbGxfaGlzdG9yeS5hdCgtMSk7XHJcbiAgICAgICAgaWYgKHRoaXMubWVudS5tZW1vcnkubGFzdF9lbXB0eV9xdWV1ZSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIGlmIChuZXdDYWxsID09IG51bGwpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuXHJcbiAgICAgICAgLyogdGltZSAqL1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgdGltZVRpY2tFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgdGltZVRpY2tFbC5pbm5lckhUTUwgPSBgJHt0aGlzLm1lbnUubWVtb3J5LnRpbWV9YDtcclxuICAgICAgICAgICAgdGltZV9yb3cuYXBwZW5kQ2hpbGQodGltZVRpY2tFbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBjYWxscyAqL1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgY29uc3QgY2FsbHNUaWNrRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgICAgIGNhbGxzVGlja0VsLmlubmVySFRNTCA9IGAke25ld0NhbGwuaWR9YDtcclxuXHJcbiAgICAgICAgICAgIGNhbGxzX3Jvdy5hcHBlbmRDaGlsZChjYWxsc1RpY2tFbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBmcmFtZXMgKi9cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5tZW51Lm1lbW9yeS5udW1iZXJfb2ZfZnJhbWVzOyBpKyspIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lX3JvdyA9IHRoaXMuZnJhbWVfcm93c1tpXTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHBhZ2UgPSB0aGlzLm1lbnUubWVtb3J5LmZyYW1lc1tpXS5wYWdlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lVGlja0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgICAgICAgICAgZnJhbWVUaWNrRWwuaW5uZXJIVE1MID0gYCR7cGFnZSAhPSBudWxsID8gcGFnZS5pZCA6IFwiXCJ9YDtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocGFnZSAhPSBudWxsICYmIHBhZ2UuaWQgPT0gbmV3Q2FsbC5pZCAmJiB0aGlzLm1lbnUubWVtb3J5Lmxhc3RfY2FsbF9jYXVzZWRfZmF1bHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBtYWtlIHBhZ2UgZmF1bHRzIHJlZFxyXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lVGlja0VsLnN0eWxlLmJhY2tncm91bmRDb2xvciA9IFwicmVkXCI7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMubWVudS5tZW1vcnkuZnJhbWVzW2ldLnByb2Nlc3MgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZyYW1lVGlja0VsLmlubmVySFRNTCArPSBgIDxzcGFuIHN0eWxlPSdjb2xvcjogeWVsbG93Jz4oJHt0aGlzLm1lbnUubWVtb3J5LmZyYW1lc1tpXS5wcm9jZXNzIS5pZH0pPC9zcGFuPmA7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgZnJhbWVfcm93LmFwcGVuZENoaWxkKGZyYW1lVGlja0VsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogc2Nyb2xsIHRvIHRoZSByaWdodCAqL1xyXG4gICAgICAgIGNvbnN0IHRhYmxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fY2FsbF90YWJsZVwiKSBhcyBIVE1MVGFibGVFbGVtZW50O1xyXG4gICAgICAgIHRhYmxlLnNjcm9sbExlZnQgPSB0YWJsZS5zY3JvbGxXaWR0aDtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoSW5mbygpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBtZW1vcnkgPSB0aGlzLm1lbnUubWVtb3J5O1xyXG4gICAgICAgIGlmIChtZW1vcnkuYWxsb2NhdGlvbkFsZ29yaXRobSA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWxsIHN0YXJ0QW5pbWF0aW9uKCkgZmlyc3QhXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9fYWxnb3JpdGhtIS5pbm5lckhUTUwgPSBtZW1vcnkuYWxsb2NhdGlvbkFsZ29yaXRobS5uYW1lO1xyXG4gICAgICAgIHRoaXMuaW5mb190aW1lIS5pbm5lckhUTUwgPSBtZW1vcnkudGltZS50b1N0cmluZygpO1xyXG5cclxuICAgICAgICBpZiAobWVtb3J5LmlzRmluaXNoZWQoKSlcclxuICAgICAgICAgICAgdGhpcy5pbmZvX2lzX2RvbmUhLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLmluZm9faXNfZG9uZSEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9fdG90YWxfcGFnZV9oaXRzIS5pbm5lckhUTUwgPSAobWVtb3J5LmNhbGxfaGlzdG9yeS5sZW5ndGggLSBtZW1vcnkudG90YWxfcGFnZV9mYXVsdHMpLnRvU3RyaW5nKCk7XHJcbiAgICAgICAgdGhpcy5pbmZvX3RvdGFsX3BhZ2VfZmF1bHRzIS5pbm5lckhUTUwgPSBtZW1vcnkudG90YWxfcGFnZV9mYXVsdHMudG9TdHJpbmcoKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmZvX2luX3F1ZXVlIS5pbm5lckhUTUwgPSBtZW1vcnkuY2FsbF9xdWV1ZS5sZW5ndGgudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmluZm9fZmluaXNoZWQhLmlubmVySFRNTCA9IG1lbW9yeS5jYWxsX2hpc3RvcnkubGVuZ3RoLnRvU3RyaW5nKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVmcmVzaFNwZWVkKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLnN0b3JlZFNldEludGVydmFsICE9IG51bGwpXHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5zdG9yZWRTZXRJbnRlcnZhbCk7XHJcblxyXG4gICAgICAgIHRoaXMuc3RvcmVkU2V0SW50ZXJ2YWwgPSBzZXRJbnRlcnZhbCgoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5wbGF5aW5nKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnN0ZXAoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pLmJpbmQodGhpcyksIDEwMDAgLyB0aGlzLnNwZWVkKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGVwKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLm1lbnUubWVtb3J5LmlzRmluaXNoZWQoKSlcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICB0aGlzLm1lbnUubWVtb3J5Lm5leHRUaWNrKCk7XHJcbiAgICAgICAgdGhpcy5kcmF3Q3VycmVudFN0YXRlKCk7XHJcblxyXG4gICAgICAgIGlmICh0aGlzLm1lbnUubWVtb3J5LmlzRmluaXNoZWQoKSkge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBsYXlpbmcoZmFsc2UpO1xyXG4gICAgICAgICAgICB0aGlzLm1lbnUubWVtb3J5LmRpc3BsYXlSZXN1bHRzKHRoaXMubWVudS5tZW1vcnkuZ2V0UmVzdWx0cygpKTtcclxuXHJcbiAgICAgICAgICAgIHRoaXMuYWZ0ZXJEb25lKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGFmdGVyRG9uZSgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5pbmZvX2lzX2RvbmUgPT0gbnVsbCB8fCB0aGlzLnBsYXlfcGF1c2VfYnV0dG9uID09IG51bGwgfHwgdGhpcy5zdGVwX2J1dHRvbiA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWxsIGluaXQoKSBmaXJzdCFcIik7XHJcblxyXG4gICAgICAgIHRoaXMuaW5mb19pc19kb25lLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcblxyXG4gICAgICAgIHRoaXMucGxheV9wYXVzZV9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgICAgIHRoaXMuc3RlcF9idXR0b24uZGlzYWJsZWQgPSB0cnVlO1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IFBhZ2UgZnJvbSBcIi4vUGFnZVwiO1xyXG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi9Qcm9jZXNzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGcmFtZSB7XHJcbiAgICBpZDogbnVtYmVyXHJcbiAgICBwYWdlOiBQYWdlIHwgbnVsbFxyXG4gICAgcHJvY2VzczogUHJvY2VzcyB8IG51bGxcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlID0gbnVsbDtcclxuICAgICAgICB0aGlzLnByb2Nlc3MgPSBudWxsO1xyXG5cclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUmVwbGFjZW1lbnRBbGdvcml0aG0gZnJvbSBcIi4vUmVwbGFjZW1lbnRBbGdvcml0aG1cIjtcclxuaW1wb3J0IHsgTWVtb3J5U3RhdGVEYXRhIH0gZnJvbSBcIi4vQWxsb2NhdGluZ01NVVwiO1xyXG5cclxuLyoqXHJcbiAqIExlYXN0IFJlY2VudGx5IFVzZWQgKExSVSlcclxuICovXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExSVSBpbXBsZW1lbnRzIFJlcGxhY2VtZW50QWxnb3JpdGhtIHtcclxuICAgIG5hbWU6IHN0cmluZyA9IFwiTFJVXCJcclxuXHJcbiAgICBoYW5kbGVQYWdlRmF1bHQoZGF0YTogTWVtb3J5U3RhdGVEYXRhKTogbnVtYmVyIHtcclxuICAgICAgICAvKiBmaW5kIHRoZSBwYWdlIHRoYXQgd2FzIHVzZWQgdGhlIGxvbmdlc3QgYWdvICovXHJcbiAgICAgICAgbGV0IGZyYW1lX3RvX3JlcGxhY2VfaW5kZXggPSAtMTtcclxuICAgICAgICBsZXQgbGVhc3RfcmVjZW50bHlfdXNlZF9wYWdlX2luZGV4ID0gLTE7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZGF0YS5jdXJyZW50X2ZyYW1lcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBjb25zdCBmcmFtZSA9IGRhdGEuY3VycmVudF9mcmFtZXNbaV07XHJcblxyXG4gICAgICAgICAgICBpZiAoZnJhbWUucHJvY2VzcyAhPSBkYXRhLnBhZ2VfY2FsbC5wcm9jZXNzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKFwiRnJhbWUgaXMgYXNzaWduZWQgdG8gYSBkaWZmZXJlbnQgcHJvY2VzcyAtIHRoaXMgc2hvdWxkIGJlIGVuc3VyZWQgbm90IHRvIGhhcHBlbiBieSB0aGUgY2FsbGVyXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZnJhbWUucGFnZSA9PSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGcmFtZSBpcyBlbXB0eSAtIHRoaXMgc2hvdWxkIGJlIGVuc3VyZWQgbm90IHRvIGhhcHBlbiBieSB0aGUgY2FsbGVyXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGxldCBwYWdlX2luZGV4ID0gLTE7XHJcbiAgICAgICAgICAgIGZvciAobGV0IGogPSBkYXRhLnByZXZpb3VzX3BhZ2VfY2FsbHMubGVuZ3RoIC0gMTsgaiA+PSAwOyBqLS0pIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzX3BhZ2VfY2FsbCA9IGRhdGEucHJldmlvdXNfcGFnZV9jYWxsc1tqXTtcclxuXHJcbiAgICAgICAgICAgICAgICBpZiAocHJldmlvdXNfcGFnZV9jYWxsLmlkID09IGZyYW1lLnBhZ2UuaWQpIHtcclxuICAgICAgICAgICAgICAgICAgICBwYWdlX2luZGV4ID0gajtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhZ2VfaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAgICAgICAgIC8qIHBhZ2Ugd2FzIG5ldmVyIHVzZWQgYmVmb3JlICovXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gaTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKHBhZ2VfaW5kZXggPCBsZWFzdF9yZWNlbnRseV91c2VkX3BhZ2VfaW5kZXggfHwgbGVhc3RfcmVjZW50bHlfdXNlZF9wYWdlX2luZGV4ID09IC0xKSB7XHJcbiAgICAgICAgICAgICAgICAvKiBwYWdlIHdhcyB1c2VkIGxvbmdlciBhZ28gKi9cclxuICAgICAgICAgICAgICAgIGZyYW1lX3RvX3JlcGxhY2VfaW5kZXggPSBpO1xyXG4gICAgICAgICAgICAgICAgbGVhc3RfcmVjZW50bHlfdXNlZF9wYWdlX2luZGV4ID0gcGFnZV9pbmRleDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGZyYW1lX3RvX3JlcGxhY2VfaW5kZXggPT0gLTEpIHtcclxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTm8gZnJhbWUgdG8gcmVwbGFjZSBmb3VuZCBieSBMUlVcIik7XHJcbiAgICAgICAgICAgIHJldHVybiAtMTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBkYXRhLmN1cnJlbnRfZnJhbWVzW2ZyYW1lX3RvX3JlcGxhY2VfaW5kZXhdLmlkO1xyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBJTWVudSBmcm9tIFwiLi4vLi4vc2hhcmVkL2ludGVyZmFjZXMvSU1lbnVcIjtcclxuaW1wb3J0IERpc3BsYXkgZnJvbSBcIi4uLy4uL3NoYXJlZC9jbGFzc2VzL0Rpc3BsYXlcIjtcclxuaW1wb3J0IEFsbG9jYXRpbmdNTVUgZnJvbSBcIi4vQWxsb2NhdGluZ01NVVwiO1xyXG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi9Qcm9jZXNzXCI7XHJcbmltcG9ydCBQYWdlIGZyb20gXCIuL1BhZ2VcIjtcclxuaW1wb3J0IEVxdWFsIGZyb20gXCIuL2FsZ29yaXRobXMvRXF1YWxcIjtcclxuaW1wb3J0IEFuaW1hdGlvbkdVSSBmcm9tIFwiLi9BbmltYXRpb25HVUlcIjtcclxuaW1wb3J0IFByb3BvcnRpb25hbCBmcm9tIFwiLi9hbGdvcml0aG1zL1Byb3BvcnRpb25hbFwiO1xyXG5pbXBvcnQgUGFnZUZhdWx0Q29udHJvbCBmcm9tIFwiLi9hbGdvcml0aG1zL1BhZ2VGYXVsdENvbnRyb2xcIjtcclxuaW1wb3J0IExvY2FsaXR5TW9kZWwgZnJvbSBcIi4vYWxnb3JpdGhtcy9Mb2NhbGl0eU1vZGVsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBNZW51IGltcGxlbWVudHMgSU1lbnUge1xyXG4gICAgZGlzcGxheTogRGlzcGxheVxyXG4gICAgbWVtb3J5OiBBbGxvY2F0aW5nTU1VXHJcbiAgICBhbmltYXRpb25HVUk6IEFuaW1hdGlvbkdVSVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMuZGlzcGxheSA9IG5ldyBEaXNwbGF5KCk7XHJcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBuZXcgQWxsb2NhdGluZ01NVSgpO1xyXG5cclxuICAgICAgICB0aGlzLmFuaW1hdGlvbkdVSSA9IG5ldyBBbmltYXRpb25HVUkodGhpcyk7XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBydW5fYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJydW5fYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHJ1bl9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgdGhpcy5ydW4oKSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgcnVuX3dpdGhfYW5pbWF0aW9uX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuX3dpdGhfYW5pbWF0aW9uX2J1dHRvblwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcclxuICAgICAgICBydW5fd2l0aF9hbmltYXRpb25fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IHRoaXMucnVuKHRydWUpIH0pO1xyXG5cclxuICAgICAgICBjb25zdCBhZGRfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIGFkZF9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHsgdGhpcy5hZGRQcm9jZXNzZXMoKSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY2xlYXJfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbGVhcl9idXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XHJcbiAgICAgICAgY2xlYXJfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IHRoaXMuY2xlYXJQcm9jZXNzZXMoKSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVfY2FsbF9xdWV1ZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdlbmVyYXRlX2NhbGxfcXVldWVfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIGdlbmVyYXRlX2NhbGxfcXVldWVfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IHRoaXMuYWRkQ2FsbHMoKSB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgY2xlYXJfY2FsbF9xdWV1ZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsZWFyX2NhbGxfcXVldWVfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIGNsZWFyX2NhbGxfcXVldWVfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IHRoaXMuY2xlYXJDYWxscygpIH0pO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIGluaXQgXHJcbiAgICAgICAgICogc2V0IGNhbGxiYWNrIGZvciByZXNpemVcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBpbml0aWFsX2ZyYW1lX2NvdW50ID0gcGFyc2VJbnQoKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic19mcmFtZV9jb3VudFwiKSkudmFsdWUpO1xyXG4gICAgICAgIHRoaXMubWVtb3J5LmluaXQoaW5pdGlhbF9mcmFtZV9jb3VudCk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5LmluaXQoXCJtYWluX2NhbnZhc1wiKTtcclxuICAgICAgICB0aGlzLmFuaW1hdGlvbkdVSS5pbml0KCk7XHJcbiAgICAgICAgdGhpcy5kaXNwbGF5LnNldFJlc2l6ZUNhbGxiYWNrKCgpID0+IHsgdGhpcy5yZWZyZXNoQ2FsbHMoKSB9KTtcclxuXHJcbiAgICAgICAgLyoqIFxyXG4gICAgICAgICAqIGJhc2ljIHNldHRpbmdzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgY29uc3QgbnVtYmVyX29mX2ZyYW1lcyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic19mcmFtZV9jb3VudFwiKSBhcyBIVE1MSW5wdXRFbGVtZW50O1xyXG4gICAgICAgIG51bWJlcl9vZl9mcmFtZXMuYWRkRXZlbnRMaXN0ZW5lcihcImNoYW5nZVwiLCAoZTogRXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbmV3X3ZhbCA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkudmFsdWUpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGlzTmFOKG5ld192YWwpIHx8IG5ld192YWwgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBhbGVydChcIkludmFsaWQgbnVtYmVyIG9mIGZyYW1lc1wiKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgdGhpcy5tZW1vcnkuaW5pdChuZXdfdmFsKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoQ2FsbHMoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogYWxnb3JpdGhtIHNlbGVjdFxyXG4gICAgICAgICAqIC0+IGRpc2FibGUgcnVubmluZyB3aXRoIGFuaW1hdGlvbiBpZiBjb21wYXJlX2FsbFxyXG4gICAgICAgICAqIC0+IHNob3cgc3BlY2lhbCBvcHRpb25zIGZvciBwYWdlIGZhdWx0IGNvbnRyb2xcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCBhbGdvcml0aG1fc2VsZWN0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhX3R5cGVcIikgYXMgSFRNTFNlbGVjdEVsZW1lbnQ7XHJcbiAgICAgICAgYWxnb3JpdGhtX3NlbGVjdC5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChlOiBFdmVudCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoKDxIVE1MU2VsZWN0RWxlbWVudD5lLnRhcmdldCkudmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gXCJjb21wYXJlX2FsbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAoPEhUTUxCdXR0b25FbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuX3dpdGhfYW5pbWF0aW9uX2J1dHRvblwiKSkuc2V0QXR0cmlidXRlKFwiZGlzYWJsZWRcIiwgXCJ0cnVlXCIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgKDxIVE1MQnV0dG9uRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJ1bl93aXRoX2FuaW1hdGlvbl9idXR0b25cIikpLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoKDxIVE1MU2VsZWN0RWxlbWVudD5lLnRhcmdldCkudmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gXCJmYXVsdF9jb250cm9sXCIgfHxcclxuICAgICAgICAgICAgICAgICg8SFRNTFNlbGVjdEVsZW1lbnQ+ZS50YXJnZXQpLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IFwiY29tcGFyZV9hbGxcIikge1xyXG4gICAgICAgICAgICAgICAgKDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNfbWluX3BhZ2VfZmF1bHRzX2FsbFwiKSkuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICAgICAgICAgICg8SFRNTERpdkVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzX21heF9wYWdlX2ZhdWx0c19hbGxcIikpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgICAgICAoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic190aW1lX3dpbmRvd19hbGxcIikpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic19taW5fcGFnZV9mYXVsdHNfYWxsXCIpKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICAoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic19tYXhfcGFnZV9mYXVsdHNfYWxsXCIpKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICAgICAgICAgICAgICAoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic190aW1lX3dpbmRvd19hbGxcIikpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKCg8SFRNTFNlbGVjdEVsZW1lbnQ+ZS50YXJnZXQpLnZhbHVlLnRvTG93ZXJDYXNlKCkgPT09IFwibG9jYWxpdHlfbW9kZWxcIiB8fFxyXG4gICAgICAgICAgICAgICAgKDxIVE1MU2VsZWN0RWxlbWVudD5lLnRhcmdldCkudmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gXCJjb21wYXJlX2FsbFwiKSB7XHJcbiAgICAgICAgICAgICAgICAoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic190aW1lX3dpbmRvd19hbGxcIikpLnN0eWxlLmRpc3BsYXkgPSBcImJsb2NrXCI7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAoPEhUTUxEaXZFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic190aW1lX3dpbmRvd19hbGxcIikpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKiBcclxuICAgICAgICAgKiByZXN1bHRzIGJ1dHRvbnNcclxuICAgICAgICAgKi9cclxuICAgICAgICBjb25zdCByZXN1bHRzX2Nsb3NlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzX2Nsb3NlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHJlc3VsdHNfY2xvc2UuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgKDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3VsdHNfd3JhcHBlclwiKSkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIHJlZnJlc2ggY2FsbHMgXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQ2FsbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRQcm9jZXNzZXMoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgcHJvY2Vzc19jb3VudCA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNfY291bnRcIikpLnZhbHVlKTtcclxuXHJcbiAgICAgICAgY29uc3QgcGFnZV9yYW5nZV9taW4gPSBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzX21pbl9yYW5nZVwiKSkudmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IHBhZ2VfcmFuZ2VfbWF4ID0gcGFyc2VJbnQoKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic19tYXhfcmFuZ2VcIikpLnZhbHVlKTtcclxuXHJcbiAgICAgICAgY29uc3QgY2FsbF9jb3VudF9taW4gPSBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzX21pbl9jYWxsc1wiKSkudmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IGNhbGxfY291bnRfbWF4ID0gcGFyc2VJbnQoKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic19tYXhfY2FsbHNcIikpLnZhbHVlKTtcclxuXHJcbiAgICAgICAgbGV0IGN1cnJlbnRfcmFuZ2VfbWluID0gMDtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9jZXNzX2NvdW50OyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcGFnZV9yYW5nZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChwYWdlX3JhbmdlX21heCAtIHBhZ2VfcmFuZ2VfbWluICsgMSkpICsgcGFnZV9yYW5nZV9taW47XHJcblxyXG4gICAgICAgICAgICB0aGlzLm1lbW9yeS5hZGRQcm9jZXNzKG5ldyBQcm9jZXNzKFxyXG4gICAgICAgICAgICAgICAgW2N1cnJlbnRfcmFuZ2VfbWluLCBjdXJyZW50X3JhbmdlX21pbiArIHBhZ2VfcmFuZ2VdLFxyXG4gICAgICAgICAgICAgICAgTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKGNhbGxfY291bnRfbWF4IC0gY2FsbF9jb3VudF9taW4gKyAxKSkgKyBjYWxsX2NvdW50X21pbixcclxuICAgICAgICAgICAgICAgIGlcclxuICAgICAgICAgICAgKSk7XHJcbiAgICAgICAgICAgIHRoaXMubWVtb3J5LnByb2Nlc3Nlc1t0aGlzLm1lbW9yeS5wcm9jZXNzZXMubGVuZ3RoIC0gMV0uZ2VuZXJhdGVDYWxscygpO1xyXG5cclxuICAgICAgICAgICAgY3VycmVudF9yYW5nZV9taW4gKz0gcGFnZV9yYW5nZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHRoaXMucmVmcmVzaENhbGxzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgY2xlYXJQcm9jZXNzZXMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnkuY2xlYXJQcm9jZXNzZXMoKTtcclxuICAgICAgICB0aGlzLm1lbW9yeS5jbGVhclBhZ2VDYWxsUG9vbCgpO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hDYWxscygpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZENhbGxzKCk6IHZvaWQge1xyXG4gICAgICAgIC8qIGNvbWJpbmUgYWxsIHByb2Nlc3MgY2FsbHMgaW50byBvbmUgYXJyYXkgKi9cclxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubWVtb3J5LnByb2Nlc3Nlcy5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IHRoaXMubWVtb3J5LnByb2Nlc3Nlc1tpXS5nZXRDYWxscygpLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lbW9yeS5jYWxsX3Bvb2wucHVzaChuZXcgUGFnZSh0aGlzLm1lbW9yeS5wcm9jZXNzZXNbaV0uZ2V0Q2FsbHMoKVtqXSwgdGhpcy5tZW1vcnkucHJvY2Vzc2VzW2ldKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgLyogc2h1ZmZsZSBhcnJheSAqL1xyXG4gICAgICAgIHRoaXMubWVtb3J5LmNhbGxfcG9vbC5zb3J0KCgpID0+IE1hdGgucmFuZG9tKCkgLSAwLjUpO1xyXG5cclxuICAgICAgICB0aGlzLnJlZnJlc2hDYWxscygpO1xyXG4gICAgfVxyXG5cclxuICAgIGNsZWFyQ2FsbHMoKTogdm9pZCB7XHJcbiAgICAgICAgdGhpcy5tZW1vcnkuY2FsbF9wb29sID0gW107XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoQ2FsbHMoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoQ2FsbHMoKTogdm9pZCB7XHJcbiAgICAgICAgY29uc3QgY3VycmVudF9jb3VudF9lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicF9jdXJyZW50X2NvdW50XCIpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xyXG4gICAgICAgIGN1cnJlbnRfY291bnRfZWwuaW5uZXJIVE1MID0gYCgke3RoaXMubWVtb3J5LnByb2Nlc3Nlcy5sZW5ndGgudG9TdHJpbmcoKX0pYDtcclxuXHJcbiAgICAgICAgY29uc3QgZ2VuZXJhdGVfY2FsbF9xdWV1ZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdlbmVyYXRlX2NhbGxfcXVldWVfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuICAgICAgICBpZiAodGhpcy5tZW1vcnkucHJvY2Vzc2VzLmxlbmd0aCA+IDAgJiYgdGhpcy5tZW1vcnkuY2FsbF9wb29sLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIGdlbmVyYXRlX2NhbGxfcXVldWVfYnV0dG9uLnJlbW92ZUF0dHJpYnV0ZShcImRpc2FibGVkXCIpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIHtcclxuICAgICAgICAgICAgZ2VuZXJhdGVfY2FsbF9xdWV1ZV9idXR0b24uYXR0cmlidXRlcy5zZXROYW1lZEl0ZW0oZG9jdW1lbnQuY3JlYXRlQXR0cmlidXRlKFwiZGlzYWJsZWRcIikpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogZGlzcGxheSBpbmRpdmlkdWFsIHByb2Nlc3MgY2FsbHMgKi9cclxuICAgICAgICBjb25zdCBhbGxfcHJvY2Vzc2VzX2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGxfcHJvY2Vzc2VzXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgIGFsbF9wcm9jZXNzZXNfZWwuaW5uZXJIVE1MID0gXCJcIjtcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbW9yeS5wcm9jZXNzZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgcHJvY2VzcyA9IHRoaXMubWVtb3J5LnByb2Nlc3Nlc1tpXTtcclxuXHJcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NfZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcclxuICAgICAgICAgICAgcHJvY2Vzc19lbC5jbGFzc0xpc3QuYWRkKFwicHJvY2Vzc1wiKTtcclxuXHJcbiAgICAgICAgICAgIHByb2Nlc3NfZWwuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwicHJvY2Vzc19uYW1lXCI+Q2FsbHMgb2YgcHJvY2VzcyAke2l9OiA8L3NwYW4+IDxzcGFuIGNsYXNzPVwicHJvY2Vzc19jYWxsc1wiPiR7cHJvY2Vzcy5nZXRDYWxscygpLmpvaW4oXCIsIFwiKX08L3NwYW4+PGJyIC8+YDtcclxuXHJcbiAgICAgICAgICAgIGFsbF9wcm9jZXNzZXNfZWwuYXBwZW5kQ2hpbGQocHJvY2Vzc19lbCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAodGhpcy5tZW1vcnkucHJvY2Vzc2VzLmxlbmd0aCA9PSAwKSB7XHJcbiAgICAgICAgICAgIGFsbF9wcm9jZXNzZXNfZWwuaW5uZXJIVE1MID0gXCI8c3BhbiBzdHlsZT0nY29sb3I6IHllbGxvdyc+Tm8gcHJvY2Vzc2VzIGFkZGVkIHlldC48L3NwYW4+XCI7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBkaXNwbGF5IGNhbGwgcXVldWUgKi9cclxuICAgICAgICBjb25zdCBjYWxsX2NvdW50X2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjdXJyZW50X2NhbGxfY291bnRcIikgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcbiAgICAgICAgY2FsbF9jb3VudF9lbC5pbm5lckhUTUwgPSBgKCR7dGhpcy5tZW1vcnkuY2FsbF9wb29sLmxlbmd0aC50b1N0cmluZygpfSlgO1xyXG5cclxuICAgICAgICBjb25zdCBjYWxsX3F1ZXVlX2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJtYWluX2NhbGxfcXVldWVcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcbiAgICAgICAgY2FsbF9xdWV1ZV9lbC5pbm5lckhUTUwgPSB0aGlzLm1lbW9yeS5jYWxsX3Bvb2wubWFwKChwYWdlKSA9PiB7IHJldHVybiBwYWdlLmlkIH0pLmpvaW4oXCIsIFwiKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWVtb3J5LmNhbGxfcG9vbC5sZW5ndGggPT0gMCkge1xyXG4gICAgICAgICAgICBjYWxsX3F1ZXVlX2VsLmlubmVySFRNTCA9IFwiPHNwYW4gc3R5bGU9J2NvbG9yOiB5ZWxsb3cnPk5vIGNhbGxzIGluIHF1ZXVlLjwvc3Bhbj5cIjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcnVuKGFuaW1hdGlvbj86IGJvb2xlYW4gfCB1bmRlZmluZWQpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5tZW1vcnkucHJvY2Vzc2VzLmxlbmd0aCA+IHRoaXMubWVtb3J5LmZyYW1lcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYWxlcnQoXCJOb3QgZW5vdWdoIGZyYW1lcyBmb3IgYWxsIHByb2Nlc3Nlc1wiKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgYWxnU3RyID0gKDxIVE1MSW5wdXRFbGVtZW50PmRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYV90eXBlXCIpKS52YWx1ZTtcclxuICAgICAgICBsZXQgY29tcGFyZV9hbGw6IGJvb2xlYW4gPSBmYWxzZTtcclxuXHJcbiAgICAgICAgY29uc3QgbWluX2ZyZXEgPSBwYXJzZUZsb2F0KCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNfbWluX3BhZ2VfZmF1bHRzXCIpKS52YWx1ZSk7XHJcbiAgICAgICAgY29uc3QgbWF4X2ZyZXEgPSBwYXJzZUZsb2F0KCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNfbWF4X3BhZ2VfZmF1bHRzXCIpKS52YWx1ZSk7XHJcbiAgICAgICAgY29uc3QgdGltZV93aW5kb3cgPSBwYXJzZUZsb2F0KCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNfdGltZV93aW5kb3dcIikpLnZhbHVlKTtcclxuXHJcbiAgICAgICAgc3dpdGNoIChhbGdTdHIudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICBjYXNlIFwiZXF1YWxcIjpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm1lbW9yeS5zZXRBbGdvcml0aG0obmV3IEVxdWFsKCkpO1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjYXNlIFwicHJvcG9ydGlvbmFsXCI6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW1vcnkuc2V0QWxnb3JpdGhtKG5ldyBQcm9wb3J0aW9uYWwoKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJmYXVsdF9jb250cm9sXCI6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pbl9mcmVxID49IG1heF9mcmVxKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFsZXJ0KFwiTWluaW11bSBmcmVxdWVuY3kgaGFzIHRvIGJlIHNtYWxsZXIgdGhhbiB0aGUgbWF4aW11bVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW1vcnkuc2V0QWxnb3JpdGhtKG5ldyBQYWdlRmF1bHRDb250cm9sKG1pbl9mcmVxLCBtYXhfZnJlcSwgdGltZV93aW5kb3cpKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2FzZSBcImxvY2FsaXR5X21vZGVsXCI6XHJcbiAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW1vcnkuc2V0QWxnb3JpdGhtKG5ldyBMb2NhbGl0eU1vZGVsKHRpbWVfd2luZG93KSk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNhc2UgXCJjb21wYXJlX2FsbFwiOlxyXG4gICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbXBhcmVfYWxsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkludmFsaWQgYWxnb3JpdGhtXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKGNvbXBhcmVfYWxsKSB7XHJcbiAgICAgICAgICAgIGlmIChtaW5fZnJlcSA+PSBtYXhfZnJlcSkge1xyXG4gICAgICAgICAgICAgICAgYWxlcnQoXCJNaW5pbXVtIGZyZXF1ZW5jeSBoYXMgdG8gYmUgc21hbGxlciB0aGFuIHRoZSBtYXhpbXVtXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBjb25zdCBhbGdvcml0aG1zID0gW1xyXG4gICAgICAgICAgICAgICAgbmV3IEVxdWFsKCksXHJcbiAgICAgICAgICAgICAgICBuZXcgUHJvcG9ydGlvbmFsKCksXHJcbiAgICAgICAgICAgICAgICBuZXcgUGFnZUZhdWx0Q29udHJvbChtaW5fZnJlcSwgbWF4X2ZyZXEsIHRpbWVfd2luZG93KSxcclxuICAgICAgICAgICAgICAgIG5ldyBMb2NhbGl0eU1vZGVsKHRpbWVfd2luZG93KVxyXG4gICAgICAgICAgICBdO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tZW1vcnkuY29tcGFyZUFsbEFuZERpc3BsYXlSZXN1bHRzKGFsZ29yaXRobXMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoYW5pbWF0aW9uKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uR1VJLnN0YXJ0QW5pbWF0aW9uKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy5tZW1vcnkuc2ltdWxhdGUoKTtcclxuICAgICAgICAgICAgdGhpcy5tZW1vcnkuZGlzcGxheVJlc3VsdHMocmVzdWx0cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiIsImltcG9ydCBQcm9jZXNzIGZyb20gXCIuL1Byb2Nlc3NcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhZ2Uge1xyXG4gICAgaWQ6IG51bWJlclxyXG4gICAgbGFzdF9jYWxsX3RpbWU6IG51bWJlciA9IDBcclxuICAgIHByb2Nlc3M6IFByb2Nlc3NcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwcm9jZXNzOiBQcm9jZXNzKSB7XHJcbiAgICAgICAgdGhpcy5pZCA9IGlkO1xyXG4gICAgICAgIHRoaXMucHJvY2VzcyA9IHByb2Nlc3M7XHJcbiAgICB9XHJcblxyXG4gICAgY2FsbCh0aW1lOiBudW1iZXIsIGNhdXNlZF9mYXVsdDogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIHRoaXMubGFzdF9jYWxsX3RpbWUgPSB0aW1lO1xyXG4gICAgICAgIHRoaXMucHJvY2Vzcy5kb25lX2NhbGxzKys7XHJcblxyXG4gICAgICAgIHRoaXMucHJvY2Vzcy5hZGRUb0ZhdWx0TG9nKGNhdXNlZF9mYXVsdCk7XHJcbiAgICAgICAgdGhpcy5wcm9jZXNzLmFkZFRvQ2FsbExvZyh0aGlzKTtcclxuICAgIH1cclxufSIsImltcG9ydCBGcmFtZSBmcm9tIFwiLi9GcmFtZVwiXHJcbmltcG9ydCBQYWdlIGZyb20gXCIuL1BhZ2VcIlxyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvY2VzcyB7XHJcbiAgICByYW5nZV9vZl9wYWdlczogW251bWJlciwgbnVtYmVyXVxyXG4gICAgbnVtYmVyX29mX2NhbGxzOiBudW1iZXJcclxuICAgIGlkOiBudW1iZXJcclxuXHJcbiAgICBwYWdlX2ZhdWx0czogbnVtYmVyID0gMFxyXG4gICAgZG9uZV9jYWxsczogbnVtYmVyID0gMFxyXG4gICAgY2FsbF9sb2c6IEFycmF5PFBhZ2U+ID0gW11cclxuICAgIGZhdWx0X2xvZzogQXJyYXk8Ym9vbGVhbj4gPSBbXVxyXG5cclxuICAgIHJ1bm5pbmc6IGJvb2xlYW4gPSB0cnVlXHJcbiAgICBhc3NpZ25lZEZyYW1lczogbnVtYmVyID0gMFxyXG5cclxuICAgIHByaXZhdGUgY2FsbHM6IEFycmF5PG51bWJlcj4gPSBbXVxyXG5cclxuICAgIGNvbnN0cnVjdG9yKHJhbmdlX29mX3BhZ2VzOiBbbnVtYmVyLCBudW1iZXJdLCBudW1iZXJfb2ZfY2FsbHM6IG51bWJlciwgaWQ6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMucmFuZ2Vfb2ZfcGFnZXMgPSByYW5nZV9vZl9wYWdlcztcclxuICAgICAgICB0aGlzLm51bWJlcl9vZl9jYWxscyA9IG51bWJlcl9vZl9jYWxscztcclxuICAgICAgICB0aGlzLmlkID0gaWQ7XHJcbiAgICB9XHJcblxyXG4gICAgcmVzZXQoKSB7XHJcbiAgICAgICAgdGhpcy5wYWdlX2ZhdWx0cyA9IDA7XHJcbiAgICAgICAgdGhpcy5kb25lX2NhbGxzID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5ydW5uaW5nID0gdHJ1ZTtcclxuICAgICAgICB0aGlzLmFzc2lnbmVkRnJhbWVzID0gMDtcclxuXHJcbiAgICAgICAgdGhpcy5mYXVsdF9sb2cgPSBbXTtcclxuICAgICAgICB0aGlzLmNhbGxfbG9nID0gW107XHJcbiAgICB9XHJcblxyXG4gICAgZ2VuZXJhdGVDYWxscygpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLmNhbGxzID0gW107XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5udW1iZXJfb2ZfY2FsbHM7IGkrKykge1xyXG4gICAgICAgICAgICB0aGlzLmNhbGxzLnB1c2goTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMucmFuZ2Vfb2ZfcGFnZXNbMV0gLSB0aGlzLnJhbmdlX29mX3BhZ2VzWzBdKSkgKyB0aGlzLnJhbmdlX29mX3BhZ2VzWzBdKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q2FsbHMoKTogQXJyYXk8bnVtYmVyPiB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbHM7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkVG9GYXVsdExvZyhmYXVsdDogYm9vbGVhbikge1xyXG4gICAgICAgIHRoaXMuZmF1bHRfbG9nLnB1c2goZmF1bHQpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5mYXVsdF9sb2cubGVuZ3RoICE9IHRoaXMuZG9uZV9jYWxscylcclxuICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiRmF1bHQgbG9nIGxlbmd0aCBkb2VzIG5vdCBtYXRjaCBkb25lIGNhbGxzXCIpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZFRvQ2FsbExvZyhwYWdlOiBQYWdlKSB7XHJcbiAgICAgICAgdGhpcy5jYWxsX2xvZy5wdXNoKHBhZ2UpO1xyXG5cclxuICAgICAgICBpZiAodGhpcy5jYWxsX2xvZy5sZW5ndGggIT0gdGhpcy5kb25lX2NhbGxzKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJDYWxsIGxvZyBsZW5ndGggZG9lcyBub3QgbWF0Y2ggZG9uZSBjYWxsc1wiKTtcclxuICAgIH1cclxuXHJcbiAgICB1cGRhdGVSdW5uaW5nU3RhdHVzKGZyYW1lczogUmVhZG9ubHlBcnJheTxSZWFkb25seTxGcmFtZT4+KSB7XHJcbiAgICAgICAgbGV0IGFzc2lnbmVkRnJhbWVzOiBudW1iZXIgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IGZyYW1lIG9mIGZyYW1lcykge1xyXG4gICAgICAgICAgICBpZiAoZnJhbWUucHJvY2VzcyA9PSB0aGlzKVxyXG4gICAgICAgICAgICAgICAgYXNzaWduZWRGcmFtZXMrKztcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChhc3NpZ25lZEZyYW1lcyA+IDApXHJcbiAgICAgICAgICAgIHRoaXMucnVubmluZyA9IHRydWU7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnJ1bm5pbmcgPSBmYWxzZTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZG9uZV9jYWxscyA9PSB0aGlzLm51bWJlcl9vZl9jYWxscylcclxuICAgICAgICAgICAgdGhpcy5ydW5uaW5nID0gZmFsc2U7XHJcbiAgICAgICAgZWxzZSBpZiAodGhpcy5kb25lX2NhbGxzID49IHRoaXMubnVtYmVyX29mX2NhbGxzKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJQcm9jZXNzIGRvbmUgY2FsbHMgZXhjZWVkZWQgbnVtYmVyIG9mIGNhbGxzXCIpO1xyXG5cclxuICAgICAgICB0aGlzLmFzc2lnbmVkRnJhbWVzID0gYXNzaWduZWRGcmFtZXM7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RmF1bHRzSW5MYXN0TihuOiBudW1iZXIpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5mYXVsdF9sb2cuc2xpY2UodGhpcy5mYXVsdF9sb2cubGVuZ3RoIC0gbiwgdGhpcy5mYXVsdF9sb2cubGVuZ3RoKS5maWx0ZXIoZmF1bHQgPT4gZmF1bHQpLmxlbmd0aDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRVbmlxdWVQYWdlc0luTGFzdE4objogbnVtYmVyKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbF9sb2cuc2xpY2UodGhpcy5jYWxsX2xvZy5sZW5ndGggLSBuLCB0aGlzLmNhbGxfbG9nLmxlbmd0aCkubWFwKHBhZ2UgPT4gcGFnZS5pZCkuZmlsdGVyKCh2YWx1ZSwgaW5kZXgsIHNlbGYpID0+IHNlbGYuaW5kZXhPZih2YWx1ZSkgPT09IGluZGV4KS5sZW5ndGg7XHJcbiAgICB9XHJcbn1cclxuIiwiaW1wb3J0IEFsbG9jYXRpb25BbGdvcml0aG0gZnJvbSBcIi4uL0FsbG9jYXRpb25BbGdvcml0aG1cIjtcclxuXHJcbmltcG9ydCBQcm9jZXNzIGZyb20gXCIuLi9Qcm9jZXNzXCI7XHJcbmltcG9ydCBGcmFtZSBmcm9tIFwiLi4vRnJhbWVcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEVxdWFsIGltcGxlbWVudHMgQWxsb2NhdGlvbkFsZ29yaXRobSB7XHJcbiAgICBuYW1lOiBzdHJpbmcgPSBcIkVxdWFsXCJcclxuXHJcbiAgICBhbGxvY2F0ZUZyYW1lcyhmcmFtZXM6IEFycmF5PEZyYW1lPiwgcHJvY2Vzc2VzOiBSZWFkb25seUFycmF5PFJlYWRvbmx5PFByb2Nlc3M+Pik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IGZyYW1lc19wZXJfcHJvY2VzcyA9IE1hdGguZmxvb3IoZnJhbWVzLmxlbmd0aCAvIHByb2Nlc3Nlcy5sZW5ndGgpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZyhgQWxsb2NhdGluZyAke2ZyYW1lc19wZXJfcHJvY2Vzc30gZnJhbWVzIHBlciBwcm9jZXNzYCk7XHJcblxyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgIGlmIChmcmFtZXNbaV0ucHJvY2VzcyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCB0aGlzIGZyYW1lIGlmIGl0J3MgYWxyZWFkeSBhbGxvY2F0ZWRcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgZnJhbWVzW2ldLnByb2Nlc3MgPSA8UHJvY2Vzcz5wcm9jZXNzZXNbTWF0aC5mbG9vcihpIC8gZnJhbWVzX3Blcl9wcm9jZXNzKV07XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiB0aGUgcmVtYWluaW5nIGZyYW1lcyBhcmUgbGVmdCB1bmFsbG9jYXRlZCAqL1xyXG4gICAgfVxyXG59IiwiaW1wb3J0IEFsbG9jYXRpb25BbGdvcml0aG0gZnJvbSBcIi4uL0FsbG9jYXRpb25BbGdvcml0aG1cIjtcclxuXHJcbmltcG9ydCBGcmFtZSBmcm9tIFwiLi4vRnJhbWVcIjtcclxuaW1wb3J0IFByb2Nlc3MgZnJvbSBcIi4uL1Byb2Nlc3NcIjtcclxuXHJcbmltcG9ydCBQcm9wb3J0aW9uYWwgZnJvbSBcIi4vUHJvcG9ydGlvbmFsXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhbGl0eU1vZGVsIGltcGxlbWVudHMgQWxsb2NhdGlvbkFsZ29yaXRobSB7XHJcbiAgICBuYW1lOiBzdHJpbmcgPSBcIkxvY2FsaXR5TW9kZWxcIlxyXG4gICAgdGltZV93aW5kb3c6IG51bWJlclxyXG5cclxuICAgIHJ1bl9wcm9wb3J0aW9uYWw6IGJvb2xlYW4gPSB0cnVlXHJcblxyXG4gICAgY29uc3RydWN0b3IodGltZV93aW5kb3c6IG51bWJlcikge1xyXG4gICAgICAgIHRoaXMudGltZV93aW5kb3cgPSB0aW1lX3dpbmRvdztcclxuICAgIH1cclxuXHJcbiAgICBhbGxvY2F0ZUZyYW1lcyhmcmFtZXM6IEFycmF5PEZyYW1lPiwgcHJvY2Vzc2VzOiBSZWFkb25seUFycmF5PFJlYWRvbmx5PFByb2Nlc3M+Pik6IHZvaWQge1xyXG4gICAgICAgIC8qIGZpcnN0IHJ1biBwcm9wb3J0aW9uYWwgYWxsb2NhdGlvbiAqL1xyXG4gICAgICAgIGlmICh0aGlzLnJ1bl9wcm9wb3J0aW9uYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5ydW5fcHJvcG9ydGlvbmFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvcG9ydGlvbmFsKCkuYWxsb2NhdGVGcmFtZXMoZnJhbWVzLCBwcm9jZXNzZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogZGVhbGxvY2F0ZSBhbGwgZnJhbWVzICovXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgZnJhbWVzW2ldLnByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgbGV0IGFsbG9jYXRlZF9mcmFtZXMgPSAwO1xyXG5cclxuICAgICAgICBmb3IgKGNvbnN0IHByb2Nlc3Mgb2YgcHJvY2Vzc2VzKSB7XHJcbiAgICAgICAgICAgIGlmIChwcm9jZXNzLmRvbmVfY2FsbHMgPT0gcHJvY2Vzcy5nZXRDYWxscygpLmxlbmd0aCkgLy8gc2tpcCBmaW5pc2hlZCBwcm9jZXNzZXNcclxuICAgICAgICAgICAgICAgIGNvbnRpbnVlO1xyXG5cclxuICAgICAgICAgICAgbGV0IHRpbWVfd2luZG93ID0gdGhpcy50aW1lX3dpbmRvdztcclxuICAgICAgICAgICAgaWYgKHRpbWVfd2luZG93ID4gcHJvY2Vzcy5jYWxsX2xvZy5sZW5ndGgpXHJcbiAgICAgICAgICAgICAgICB0aW1lX3dpbmRvdyA9IHByb2Nlc3MuY2FsbF9sb2cubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgbGV0IHVuaXF1ZVBhZ2VzSW5UaW1lV2luZG93ID0gcHJvY2Vzcy5nZXRVbmlxdWVQYWdlc0luTGFzdE4odGhpcy50aW1lX3dpbmRvdyk7XHJcblxyXG4gICAgICAgICAgICBpZiAodW5pcXVlUGFnZXNJblRpbWVXaW5kb3cgPCAxKVxyXG4gICAgICAgICAgICAgICAgdW5pcXVlUGFnZXNJblRpbWVXaW5kb3cgPSAxO1xyXG5cclxuICAgICAgICAgICAgLyogYWxsb2NhdGUgdW5pcXVlUGFnZXNJblRpbWVXaW5kb3cgZnJhbWVzICovXHJcbiAgICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgZnJhbWVzLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVzW2ldLnByb2Nlc3MgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRpbnVlOyAvLyBza2lwIHRoaXMgZnJhbWUgaWYgaXQncyBhbHJlYWR5IGFsbG9jYXRlZFxyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh1bmlxdWVQYWdlc0luVGltZVdpbmRvdyA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBmcmFtZXNbaV0ucHJvY2VzcyA9IDxQcm9jZXNzPnByb2Nlc3M7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIHVuaXF1ZVBhZ2VzSW5UaW1lV2luZG93LS07XHJcbiAgICAgICAgICAgICAgICAgICAgYWxsb2NhdGVkX2ZyYW1lcysrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgIGlmICh1bmlxdWVQYWdlc0luVGltZVdpbmRvdyA9PSAwKVxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgaWYgKGFsbG9jYXRlZF9mcmFtZXMgPT0gZnJhbWVzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIkFsbG9jYXRlZCBhbGwgZnJhbWVzIChMb2NhbGl0eU1vZGVsKVwiKTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBBbGxvY2F0aW9uQWxnb3JpdGhtIGZyb20gXCIuLi9BbGxvY2F0aW9uQWxnb3JpdGhtXCI7XHJcblxyXG5pbXBvcnQgRnJhbWUgZnJvbSBcIi4uL0ZyYW1lXCI7XHJcbmltcG9ydCBQcm9jZXNzIGZyb20gXCIuLi9Qcm9jZXNzXCI7XHJcblxyXG5pbXBvcnQgUHJvcG9ydGlvbmFsIGZyb20gXCIuL1Byb3BvcnRpb25hbFwiO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUGFnZUZhdWx0Q29udHJvbCBpbXBsZW1lbnRzIEFsbG9jYXRpb25BbGdvcml0aG0ge1xyXG4gICAgbmFtZTogc3RyaW5nID0gXCJQYWdlRmF1bHRDb250cm9sXCJcclxuICAgIHJ1bl9wcm9wb3J0aW9uYWw6IGJvb2xlYW4gPSB0cnVlXHJcblxyXG4gICAgbWluX2ZhdWx0X2ZyZXE6IG51bWJlclxyXG4gICAgbWF4X2ZhdWx0c19mcmVxOiBudW1iZXJcclxuICAgIHRpbWVfd2luZG93OiBudW1iZXJcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihtaW5fZmF1bHRfZnJlcTogbnVtYmVyLCBtYXhfZmF1bHRfZnJlcTogbnVtYmVyLCB0aW1lX3dpbmRvdzogbnVtYmVyKSB7XHJcbiAgICAgICAgdGhpcy5taW5fZmF1bHRfZnJlcSA9IG1pbl9mYXVsdF9mcmVxO1xyXG4gICAgICAgIHRoaXMubWF4X2ZhdWx0c19mcmVxID0gbWF4X2ZhdWx0X2ZyZXE7XHJcblxyXG4gICAgICAgIHRoaXMudGltZV93aW5kb3cgPSB0aW1lX3dpbmRvdztcclxuICAgIH1cclxuXHJcbiAgICBhbGxvY2F0ZUZyYW1lcyhmcmFtZXM6IEZyYW1lW10sIHByb2Nlc3NlczogcmVhZG9ubHkgUmVhZG9ubHk8UHJvY2Vzcz5bXSk6IHZvaWQge1xyXG4gICAgICAgIC8qIGZpcnN0IHJ1biBwcm9wb3J0aW9uYWwgYWxsb2NhdGlvbiAqL1xyXG4gICAgICAgIGlmICh0aGlzLnJ1bl9wcm9wb3J0aW9uYWwpIHtcclxuICAgICAgICAgICAgdGhpcy5ydW5fcHJvcG9ydGlvbmFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybiBuZXcgUHJvcG9ydGlvbmFsKCkuYWxsb2NhdGVGcmFtZXMoZnJhbWVzLCBwcm9jZXNzZXMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogdGhlbiBydW4gcGFnZSBmYXVsdCBjb250cm9sICovXHJcbiAgICAgICAgY29uc3QgTUlOX0ZBVUxUUyA9IHRoaXMubWluX2ZhdWx0X2ZyZXE7XHJcbiAgICAgICAgY29uc3QgTUFYX0ZBVUxUUyA9IHRoaXMubWF4X2ZhdWx0c19mcmVxOyAvLyBmcmVxdWVuY3lcclxuXHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9jZXNzZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgY29uc3QgZmF1bHRzSW5UaW1lV2luZG93ID0gcHJvY2Vzc2VzW2ldLmdldEZhdWx0c0luTGFzdE4odGhpcy50aW1lX3dpbmRvdyk7XHJcbiAgICAgICAgICAgIGxldCB0aW1lX3dpbmRvdyA9IHRoaXMudGltZV93aW5kb3c7XHJcbiAgICAgICAgICAgIGlmICh0aW1lX3dpbmRvdyA+IHByb2Nlc3Nlc1tpXS5mYXVsdF9sb2cubGVuZ3RoKVxyXG4gICAgICAgICAgICAgICAgdGltZV93aW5kb3cgPSBwcm9jZXNzZXNbaV0uZmF1bHRfbG9nLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGxldCBmYXVsdF9mcmVxdWVuY3kgPSBmYXVsdHNJblRpbWVXaW5kb3cgLyB0aW1lX3dpbmRvdztcclxuICAgICAgICAgICAgbGV0IGZyYW1lc19udW1iZXIgPSBmcmFtZXMuZmlsdGVyKGZyYW1lID0+IGZyYW1lLnByb2Nlc3MgPT0gcHJvY2Vzc2VzW2ldKS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBpZiAodGltZV93aW5kb3cgPT0gMClcclxuICAgICAgICAgICAgICAgIGZhdWx0X2ZyZXF1ZW5jeSA9ICh0aGlzLm1pbl9mYXVsdF9mcmVxICsgdGhpcy5tYXhfZmF1bHRzX2ZyZXEpIC8gMjtcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGBQcm9jZXNzICR7cHJvY2Vzc2VzW2ldLmlkfSBmYXVsdCBmcmVxdWVuY3k6ICR7ZmF1bHRfZnJlcXVlbmN5fSAoJHtmYXVsdHNJblRpbWVXaW5kb3d9IC8gJHt0aW1lX3dpbmRvd30pYCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoZmF1bHRfZnJlcXVlbmN5IDwgTUlOX0ZBVUxUUyAmJiBmcmFtZXNfbnVtYmVyID4gMSkge1xyXG4gICAgICAgICAgICAgICAgLyogZGVhbGxvY2F0ZSAxIGZyYW1lICovXHJcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZyYW1lcy5sZW5ndGg7IGorKykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmcmFtZXNbal0ucHJvY2VzcyA9PSBwcm9jZXNzZXNbaV0pIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWVzW2pdLnByb2Nlc3MgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5hbGxvY2F0ZUZyYW1lcyhmcmFtZXMsIHByb2Nlc3Nlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZmF1bHRfZnJlcXVlbmN5ID4gTUFYX0ZBVUxUUyAmJiBwcm9jZXNzZXNbaV0uZ2V0Q2FsbHMoKS5sZW5ndGggIT0gcHJvY2Vzc2VzW2ldLmRvbmVfY2FsbHMpIHtcclxuICAgICAgICAgICAgICAgIC8qIGFsbG9jYXRlIDEgZnJhbWUgaWYgcG9zc2libGUgKi9cclxuICAgICAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgZnJhbWVzLmxlbmd0aDsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZyYW1lc1tqXS5wcm9jZXNzID09IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZnJhbWVzW2pdLnByb2Nlc3MgPSA8UHJvY2Vzcz5wcm9jZXNzZXNbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxufSIsImltcG9ydCBBbGxvY2F0aW9uQWxnb3JpdGhtIGZyb20gXCIuLi9BbGxvY2F0aW9uQWxnb3JpdGhtXCI7XHJcblxyXG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi4vUHJvY2Vzc1wiO1xyXG5pbXBvcnQgRnJhbWUgZnJvbSBcIi4uL0ZyYW1lXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQcm9wb3J0aW9uYWwgaW1wbGVtZW50cyBBbGxvY2F0aW9uQWxnb3JpdGhtIHtcclxuICAgIG5hbWU6IHN0cmluZyA9IFwiUHJvcG9ydGlvbmFsXCJcclxuXHJcbiAgICBhbGxvY2F0ZUZyYW1lcyhmcmFtZXM6IEFycmF5PEZyYW1lPiwgcHJvY2Vzc2VzOiBSZWFkb25seUFycmF5PFJlYWRvbmx5PFByb2Nlc3M+Pik6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IHRvdGFsX2NhbGxzID0gcHJvY2Vzc2VzLnJlZHVjZSgodG90YWwsIHByb2Nlc3MpID0+IHRvdGFsICsgcHJvY2Vzcy5udW1iZXJfb2ZfY2FsbHMsIDApO1xyXG5cclxuICAgICAgICBsZXQgZnJhbWVzX2FsbG9jYXRlZCA9IDA7XHJcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwcm9jZXNzZXMubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAgICAgbGV0IGZyYW1lc19mb3JfcHJvY2VzcyA9IE1hdGguZmxvb3IoKHByb2Nlc3Nlc1tpXS5udW1iZXJfb2ZfY2FsbHMgLyB0b3RhbF9jYWxscykgKiBmcmFtZXMubGVuZ3RoKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmcmFtZXNfZm9yX3Byb2Nlc3MgPCAxKSB7XHJcbiAgICAgICAgICAgICAgICBmcmFtZXNfZm9yX3Byb2Nlc3MgPSAxO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGZyYW1lc19mb3JfcHJvY2VzczsgaisrKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWVzX2FsbG9jYXRlZCA+PSBmcmFtZXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihgVGhlcmUgYXJlIG5vdCBlbm91Z2ggZnJhbWVzIHRvIGFsbG9jYXRlIGFsbCBmcmFtZXMuYCk7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAgICAgaWYgKGZyYW1lc1tmcmFtZXNfYWxsb2NhdGVkXS5wcm9jZXNzICE9IG51bGwpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTsgLy8gc2tpcCB0aGlzIGZyYW1lIGlmIGl0J3MgYWxyZWFkeSBhbGxvY2F0ZWRcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmcmFtZXNbZnJhbWVzX2FsbG9jYXRlZF0ucHJvY2VzcyA9IDxQcm9jZXNzPnByb2Nlc3Nlc1tpXTtcclxuICAgICAgICAgICAgICAgIGZyYW1lc19hbGxvY2F0ZWQrKztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLyogdGhlIHJlbWFpbmluZyBmcmFtZXMgYXJlIGxlZnQgdW5hbGxvY2F0ZWQgKi9cclxuICAgIH1cclxufSIsImltcG9ydCBNZW51IGZyb20gXCIuL2NsYXNzZXMvTWVudVwiO1xyXG5cclxuZnVuY3Rpb24gbWFpbigpIHtcclxuICAgIGlmICh0eXBlb2YgZG9jdW1lbnQgIT09IFwidW5kZWZpbmVkXCIpIHtcclxuICAgICAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcclxuICAgICAgICBtZW51LmluaXQoKTtcclxuICAgIH1cclxuICAgIGVsc2Uge1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgKiBydW4gd2l0aDogdHNjICYmIG5vZGUgLlxcZGlzdFxcZnJhbWVfYWxsb2NhdGlvbl9zcmNcXG1haW4uanNcclxuICAgICAgICAqL1xyXG5cclxuICAgIH1cclxufVxyXG5cclxubWFpbigpO1xyXG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGF5IHtcclxuICAgIGN0eDogQ2FudmFzUmVuZGVyaW5nQ29udGV4dDJEIHwgbnVsbCA9IG51bGxcclxuICAgIHJlc2l6ZUNhbGxiYWNrOiAoKCkgPT4gdm9pZCkgfCBudWxsXHJcblxyXG4gICAgY29uc3RydWN0b3IoKXtcclxuICAgICAgICB0aGlzLnJlc2l6ZUNhbGxiYWNrID0gbnVsbDtcclxuICAgIH1cclxuICAgIFxyXG4gICAgaW5pdChlbGVtX2lkOiBzdHJpbmcpOiB2b2lkIHtcclxuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtX2lkKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcclxuICAgICAgICB0aGlzLmN0eCA9IGNhbnZhcy5nZXRDb250ZXh0KCcyZCcpIGFzIENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRDtcclxuXHJcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZXNpemVUb0ZpdC5iaW5kKHRoaXMpKTtcclxuXHJcbiAgICAgICAgdGhpcy5yZXNpemVUb0ZpdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJlc2l6ZVRvRml0KCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmN0eCA9PSBudWxsKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdGhpcy5jdHguY2FudmFzLndpZHRoID0gd2luZG93LmlubmVyV2lkdGg7XHJcbiAgICAgICAgdGhpcy5jdHguY2FudmFzLmhlaWdodCA9IHdpbmRvdy5pbm5lckhlaWdodDtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMucmVzaXplQ2FsbGJhY2sgIT0gbnVsbCl7XHJcbiAgICAgICAgICAgIHRoaXMucmVzaXplQ2FsbGJhY2soKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0UmVzaXplQ2FsbGJhY2soY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc2l6ZUNhbGxiYWNrID0gY2FsbGJhY2s7XHJcbiAgICB9XHJcbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2NSk7XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJwcm9jZXNzZXMiLCJmcmFtZXMiLCJjYWxsX3Bvb2wiLCJjYWxsX3F1ZXVlIiwiY2FsbF9oaXN0b3J5IiwibnVtYmVyX29mX2ZyYW1lcyIsIm51bWJlcl9vZl9wYWdlcyIsImFsbG9jYXRpb25BbGdvcml0aG0iLCJyZXBsYWNlbWVudEFsZ29yaXRobSIsInRvdGFsX3BhZ2VfZmF1bHRzIiwidGltZSIsImxhc3RfY2FsbF9jYXVzZWRfZmF1bHQiLCJsYXN0X2VtcHR5X3F1ZXVlIiwiaW5pdCIsInRoaXMiLCJpIiwicHVzaCIsInByb2Nlc3MiLCJyZXNldCIsImFkZFByb2Nlc3MiLCJjbGVhclByb2Nlc3NlcyIsImdlbmVyYXRlUGFnZUNhbGxQb29sIiwibGVuZ3RoIiwiZ2VuZXJhdGVDYWxscyIsImFkZFBhZ2VDYWxsc1RvUG9vbCIsImdldENhbGxzIiwiYWRkUGFnZUNhbGxUb1Bvb2wiLCJwYWdlX2NhbGwiLCJwYWdlX2NhbGxzIiwiY2xlYXJQYWdlQ2FsbFBvb2wiLCJzZXRBbGdvcml0aG0iLCJhbGdvcml0aG0iLCJuZXh0VGljayIsIkVycm9yIiwidXBkYXRlUnVubmluZ1N0YXR1cyIsImZvckVhY2giLCJmcmFtZSIsInJ1bm5pbmciLCJhbGxvY2F0ZUZyYW1lcyIsInBhZ2UiLCJ1bmFsbG9jYXRlZEZyYW1lc0xlbmd0aCIsImZpbHRlciIsImNvbnNvbGUiLCJ3YXJuIiwic3BsaWNlIiwibG9nIiwiaWQiLCJvblBhZ2VDYWxsIiwiZ2V0Q3VycmVudFN0YXRlRGF0YSIsInBhZ2VfZmF1bHQiLCJwYWdlX2ZhdWx0cyIsIm9uUGFnZUFscmVhZHlJbk1lbW9yeSIsImZpbmQiLCJpZF9vZl9mcmFtZV90b19yZXBsYWNlIiwiaGFuZGxlUGFnZUZhdWx0IiwiZ2V0RnJhbWVJbmRleEJ5SWQiLCJwYWdlX2luX21lbW9yeSIsImNhbGwiLCJwcm9jZXNzX2ZyYW1lcyIsInByb2Nlc3NfY2FsbF9oaXN0b3J5IiwiY3VycmVudF9mcmFtZXMiLCJwcmV2aW91c19wYWdlX2NhbGxzIiwiaXNGaW5pc2hlZCIsImdldFJlc3VsdHMiLCJ0b3RhbF9wYWdlX2hpdHMiLCJ0b3RhbF9jYWxscyIsInNpbXVsYXRlIiwiTUFYX1RJTUUiLCJkaXNwbGF5UmVzdWx0cyIsInJlc3VsdHMiLCJhbGdTdHIiLCJuYW1lIiwiZG9jdW1lbnQiLCJnZXRFbGVtZW50QnlJZCIsInN0eWxlIiwiZGlzcGxheSIsImlubmVySFRNTCIsInRvVXBwZXJDYXNlIiwidG9GaXhlZCIsInJlcGxhY2UiLCJSZWdFeHAiLCJjb21wYXJlQWxsQW5kRGlzcGxheVJlc3VsdHMiLCJhbGdvcml0aG1zIiwicmVzdWx0c19lbCIsIm1lbnUiLCJ2aXNpYmxlIiwicGxheWluZyIsInNwZWVkIiwiR1VJIiwiTUVOVSIsInBsYXlfcGF1c2VfYnV0dG9uIiwic3RlcF9idXR0b24iLCJzdG9wX2J1dHRvbiIsInNwZWVkX3NsaWRlciIsImluZm9fYWxnb3JpdGhtIiwiaW5mb190aW1lIiwiaW5mb19pc19kb25lIiwiaW5mb19pbl9xdWV1ZSIsImluZm9fZmluaXNoZWQiLCJpbmZvX3RvdGFsX3BhZ2VfZmF1bHRzIiwiaW5mb190b3RhbF9wYWdlX2hpdHMiLCJmcmFtZV9yb3dzIiwic2VlX2NvZGVfYnV0dG9uIiwic3RvcmVkU2V0SW50ZXJ2YWwiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlUGxheWluZyIsInN0ZXAiLCJ0b2dnbGVWaXNpYmxlIiwicGFyc2VJbnQiLCJ2YWx1ZSIsInJlZnJlc2hTcGVlZCIsIm1lbW9yeSIsImFsZ29yaXRobU5hbWUiLCJ3aW5kb3ciLCJvcGVuIiwiZm9jdXMiLCJpbml0U3RhdGVUYWJsZSIsInJlc2l6ZUNhbGxiYWNrIiwiZHJhd0N1cnJlbnRTdGF0ZSIsImNsZWFySW50ZXJ2YWwiLCJyZWZyZXNoQ2FsbHMiLCJkaXNhYmxlZCIsInN0YXJ0QW5pbWF0aW9uIiwicmVmcmVzaEluZm8iLCJkcmF3Q2FsbHMiLCJ0aW1lX3JvdyIsImNhbGxzX3JvdyIsInRib2R5IiwidGltZV9yb3dfaGVhZGVyIiwiY3JlYXRlRWxlbWVudCIsImNsYXNzTGlzdCIsImFkZCIsImFwcGVuZENoaWxkIiwiY2FsbHNfcm93X2hlYWRlciIsImxhc3RDaGlsZCIsInJlbW92ZUNoaWxkIiwiZnJhbWVfcm93IiwiZnJhbWVfcm93X2hlYWRlciIsIlNUQVJUX1giLCJTVEFSVF9ZIiwiV0lEVEgiLCJIRUlHSFQiLCJjYWxsc1RvRHJhdyIsIm5ld0NhbGwiLCJhdCIsInRpbWVUaWNrRWwiLCJjYWxsc1RpY2tFbCIsImZyYW1lVGlja0VsIiwiYmFja2dyb3VuZENvbG9yIiwidGFibGUiLCJzY3JvbGxMZWZ0Iiwic2Nyb2xsV2lkdGgiLCJ0b1N0cmluZyIsInNldEludGVydmFsIiwiYmluZCIsImFmdGVyRG9uZSIsImRhdGEiLCJmcmFtZV90b19yZXBsYWNlX2luZGV4IiwibGVhc3RfcmVjZW50bHlfdXNlZF9wYWdlX2luZGV4IiwiZXJyb3IiLCJwYWdlX2luZGV4IiwiaiIsImFuaW1hdGlvbkdVSSIsInJ1biIsImFkZFByb2Nlc3NlcyIsImFkZENhbGxzIiwiY2xlYXJDYWxscyIsImluaXRpYWxfZnJhbWVfY291bnQiLCJzZXRSZXNpemVDYWxsYmFjayIsImUiLCJuZXdfdmFsIiwidGFyZ2V0IiwiaXNOYU4iLCJhbGVydCIsInRvTG93ZXJDYXNlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwicHJvY2Vzc19jb3VudCIsInBhZ2VfcmFuZ2VfbWluIiwicGFnZV9yYW5nZV9tYXgiLCJjYWxsX2NvdW50X21pbiIsImNhbGxfY291bnRfbWF4IiwiY3VycmVudF9yYW5nZV9taW4iLCJwYWdlX3JhbmdlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic29ydCIsImdlbmVyYXRlX2NhbGxfcXVldWVfYnV0dG9uIiwiYXR0cmlidXRlcyIsInNldE5hbWVkSXRlbSIsImNyZWF0ZUF0dHJpYnV0ZSIsImFsbF9wcm9jZXNzZXNfZWwiLCJwcm9jZXNzX2VsIiwiam9pbiIsImNhbGxfcXVldWVfZWwiLCJtYXAiLCJhbmltYXRpb24iLCJjb21wYXJlX2FsbCIsIm1pbl9mcmVxIiwicGFyc2VGbG9hdCIsIm1heF9mcmVxIiwidGltZV93aW5kb3ciLCJsYXN0X2NhbGxfdGltZSIsImNhdXNlZF9mYXVsdCIsImRvbmVfY2FsbHMiLCJhZGRUb0ZhdWx0TG9nIiwiYWRkVG9DYWxsTG9nIiwicmFuZ2Vfb2ZfcGFnZXMiLCJudW1iZXJfb2ZfY2FsbHMiLCJjYWxsX2xvZyIsImZhdWx0X2xvZyIsImFzc2lnbmVkRnJhbWVzIiwiY2FsbHMiLCJmYXVsdCIsImdldEZhdWx0c0luTGFzdE4iLCJuIiwic2xpY2UiLCJnZXRVbmlxdWVQYWdlc0luTGFzdE4iLCJpbmRleCIsInNlbGYiLCJpbmRleE9mIiwiZnJhbWVzX3Blcl9wcm9jZXNzIiwicnVuX3Byb3BvcnRpb25hbCIsImFsbG9jYXRlZF9mcmFtZXMiLCJ1bmlxdWVQYWdlc0luVGltZVdpbmRvdyIsIm1pbl9mYXVsdF9mcmVxIiwibWF4X2ZhdWx0X2ZyZXEiLCJtYXhfZmF1bHRzX2ZyZXEiLCJNSU5fRkFVTFRTIiwiTUFYX0ZBVUxUUyIsImZhdWx0c0luVGltZVdpbmRvdyIsImZhdWx0X2ZyZXF1ZW5jeSIsImZyYW1lc19udW1iZXIiLCJyZWR1Y2UiLCJ0b3RhbCIsImZyYW1lc19hbGxvY2F0ZWQiLCJmcmFtZXNfZm9yX3Byb2Nlc3MiLCJjdHgiLCJlbGVtX2lkIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsInJlc2l6ZVRvRml0Iiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjYWxsYmFjayIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sInNvdXJjZVJvb3QiOiIifQ==