(()=>{"use strict";var e={994:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(s(752)),n=l(s(920)),a=l(s(463));t.default=class{constructor(){this.processes=[],this.frames=[],this.call_pool=[],this.call_queue=[],this.call_history=[],this.number_of_frames=0,this.number_of_pages=0,this.allocationAlgorithm=null,this.replacementAlgorithm=new a.default,this.total_page_faults=0,this.time=0,this.last_call_caused_fault=!1}init(e,t){this.number_of_pages=null!=e?e:this.number_of_pages,this.number_of_frames=null!=t?t:this.number_of_frames,this.call_queue=[...this.call_pool],this.frames=[],this.call_history=[],this.time=0,this.total_page_faults=0;for(let e=0;e<this.number_of_frames;e++)this.frames.push(new i.default)}addProcess(e){this.processes.push(e)}clearProcesses(){this.processes=[]}generatePageCallPool(){for(let e=0;e<this.processes.length;e++)this.processes[e].generateCalls(),this.addPageCallsToPool(this.processes[e].getCalls(),this.processes[e])}addPageCallToPool(e){this.call_pool.push(e)}addPageCallsToPool(e,t){for(let s=0;s<e.length;s++)this.addPageCallToPool(new n.default(e[s],t))}clearPageCallPool(){this.call_pool=[]}setAlgorithm(e){this.allocationAlgorithm=e}nextTick(){var e,t,s,l,i,n;if(null==this.allocationAlgorithm)throw new Error("No algorithm selected");const a=this.call_queue.shift();if(null==a)return console.warn("Empty page call queue but not finished"),void this.time++;if(this.call_history.push(a),console.log("Page call: "+a.id),a){null===(t=(e=this.allocationAlgorithm).allocateFrames)||void 0===t||t.call(e,this.frames,this.processes);const o=this.frames.filter((e=>null==e.process)).length;o>0&&console.warn(`Not all frames are allocated\nAllocated: ${this.frames.length-o}\nUnallocated: ${o}`),null===(l=(s=this.replacementAlgorithm).onPageCall)||void 0===l||l.call(s,this.getCurrentStateData(a));let r=!0;for(let e=0;e<this.frames.length;e++){if(null==this.frames[e])throw new Error("Frame is null");if(null==this.frames[e].page&&this.frames[e].process==a.process){this.frames[e].page=a,this.total_page_faults++,this.last_call_caused_fault=!0,r=!1;break}if(null!=this.frames[e].page&&this.frames[e].page.id==a.id){null===(n=(i=this.replacementAlgorithm).onPageAlreadyInMemory)||void 0===n||n.call(i,this.getCurrentStateData(a)),this.last_call_caused_fault=!1,r=!1;break}}if(r){if(console.log("Page fault: "+a.id),null!=this.frames.find((e=>e.process==a.process&&null==e.page)))throw new Error("Initial page fill not handled properly");this.total_page_faults++,this.last_call_caused_fault=!0;const e=this.replacementAlgorithm.handlePageFault(this.getCurrentStateData(a));this.frames[this.getFrameIndexById(e)].page=a}let h=!1;for(const e of this.frames)if(null!=e.page&&e.page.id==a.id){h=!0;break}if(!h)throw new Error("Page fault not handled properly - page not in memory");a.call(this.time)}this.time++}getCurrentStateData(e){const t=this.frames.filter((t=>t.process==e.process)),s=this.call_history.filter((t=>t.process==e.process));return{page_call:e,current_frames:t,previous_page_calls:s,processes:this.processes}}isFinished(){return 0==this.call_queue.length}getFrameIndexById(e){for(let t=0;t<this.frames.length;t++)if(this.frames[t].id==e)return t;return-1}getResults(){return{total_page_faults:this.total_page_faults,total_page_hits:this.call_history.length-this.total_page_faults,total_calls:this.call_history.length}}simulate(){for(this.init();!this.isFinished();)this.nextTick();return this.getResults()}displayResults(e,t=this.allocationAlgorithm.name){document.getElementById("results_wrapper").style.display="flex",document.getElementById("results").innerHTML=`\n        Algorithm: ${t.toUpperCase()}\n\n        Total page faults: <b style='color: red'>${e.total_page_faults.toFixed(0)}</b>\n        Total page hits: <b style='color: lime'>${e.total_page_hits.toFixed(0)}</b>\n        Total page calls: <b>${e.total_calls.toFixed(0)}</b>\n        `.replace(RegExp("\n","g"),"<br />")}}},498:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e){this.visible=!1,this.playing=!1,this.speed=1,this.GUI=null,this.MENU=null,this.play_pause_button=null,this.step_button=null,this.stop_button=null,this.speed_slider=null,this.info_algorithm=null,this.info_time=null,this.info_is_done=null,this.info_in_queue=null,this.info_finished=null,this.info_total_page_faults=null,this.info_total_page_hits=null,this.frame_rows=[],this.see_code_button=null,this.storedSetInterval=null,this.menu=e}init(){this.GUI=document.getElementById("animation_gui"),this.MENU=document.getElementById("settings"),this.play_pause_button=document.getElementById("animation_play_pause"),this.step_button=document.getElementById("animation_step"),this.stop_button=document.getElementById("animation_stop"),this.speed_slider=document.getElementById("animation_speed_slider"),this.info_algorithm=document.getElementById("animation_info_algorithm_value"),this.info_time=document.getElementById("animation_info_time_value"),this.info_is_done=document.getElementById("animation_is_done"),this.info_in_queue=document.getElementById("calls_in_queue_value"),this.info_finished=document.getElementById("calls_finished_value"),this.info_total_page_faults=document.getElementById("total_page_faults_value"),this.info_total_page_hits=document.getElementById("total_page_hits_value"),this.see_code_button=document.getElementById("code_button"),this.info_is_done.style.display="none",this.play_pause_button.addEventListener("click",(()=>{this.togglePlaying()})),this.step_button.addEventListener("click",(()=>{this.step()})),this.stop_button.addEventListener("click",(()=>{this.toggleVisible(!1)})),this.speed_slider.addEventListener("input",(()=>{this.speed=parseInt(this.speed_slider.value),this.refreshSpeed()})),this.see_code_button.addEventListener("click",(()=>{if(null==this.menu.memory.allocationAlgorithm)return;const e=this.menu.memory.allocationAlgorithm.name;window.open(`https://github.com/brun0ne/scheduling-sim/blob/main/page_replacement_src/classes/algorithms/${e}.ts`,"_blank").focus()})),this.refreshSpeed(),this.initStateTable()}togglePlaying(e){this.playing=null==e?!this.playing:e,this.refreshSpeed(),this.play_pause_button.innerHTML=this.playing?"Pause":"Play"}toggleVisible(e){this.visible=null==e?!this.visible:e,this.visible?(this.GUI.style.display="block",this.MENU.style.display="none",this.menu.display.resizeCallback=()=>{this.drawCurrentState()},this.drawCurrentState()):(this.GUI.style.display="none",this.MENU.style.display="flex",null!=this.storedSetInterval&&clearInterval(this.storedSetInterval),this.menu.display.resizeCallback=()=>{this.menu.refreshCalls()},this.menu.refreshCalls())}reset(){if(null==this.play_pause_button||null==this.info_is_done||null==this.step_button)throw new Error("call init() first!");this.menu.memory.init(),this.play_pause_button.innerHTML="Play",this.playing=!1,this.info_is_done.style.display="none",this.play_pause_button.disabled=!1,this.step_button.disabled=!1,this.initStateTable()}startAnimation(){this.reset(),this.toggleVisible(!0)}drawCurrentState(){this.refreshInfo(),this.drawCalls()}initStateTable(){const e=document.getElementById("animation_table_time"),t=document.getElementById("animation_table_page_calls"),s=document.getElementById("animation_table_body");e.innerHTML="",t.innerHTML="";{const t=document.createElement("th");t.innerHTML="Time",t.classList.add("header"),e.appendChild(t)}{const e=document.createElement("th");e.innerHTML="Page calls",e.classList.add("header"),t.appendChild(e)}{for(;null!=s.lastChild&&"animation_table_page_calls"!=s.lastChild.id;)s.removeChild(s.lastChild);const e=[];for(let t=0;t<this.menu.memory.number_of_frames;t++){const l=document.createElement("tr"),i=document.createElement("th");i.innerHTML=`Frame ${t}`,l.appendChild(i),e.push(l),s.appendChild(l)}this.frame_rows=e}}drawCalls(e,t,s,l,i){const n=document.getElementById("animation_table_time"),a=document.getElementById("animation_table_page_calls"),o=this.menu.memory.call_history.at(-1);if(null==o)return;{const e=document.createElement("th");e.innerHTML=`${this.menu.memory.time}`,n.appendChild(e)}{const e=document.createElement("th");e.innerHTML=`${o.id}`,a.appendChild(e)}for(let e=0;e<this.menu.memory.number_of_frames;e++){const t=this.frame_rows[e],s=this.menu.memory.frames[e].page,l=document.createElement("th");l.innerHTML=`${null!=s?s.id:""}`,null!=s&&s.id==o.id&&this.menu.memory.last_call_caused_fault&&(l.style.backgroundColor="red"),null!=this.menu.memory.frames[e].process&&(l.innerHTML+=` <span style='color: yellow'>(${this.menu.memory.frames[e].process.id})</span>`),t.appendChild(l)}const r=document.getElementById("animation_call_table");r.scrollLeft=r.scrollWidth}refreshInfo(){const e=this.menu.memory;if(null==e.allocationAlgorithm)throw new Error("call startAnimation() first!");this.info_algorithm.innerHTML=e.allocationAlgorithm.name,this.info_time.innerHTML=e.time.toString(),e.isFinished()?this.info_is_done.style.display="block":this.info_is_done.style.display="none",this.info_total_page_hits.innerHTML=(e.call_history.length-e.total_page_faults).toString(),this.info_total_page_faults.innerHTML=e.total_page_faults.toString(),this.info_in_queue.innerHTML=e.call_queue.length.toString(),this.info_finished.innerHTML=e.call_history.length.toString()}refreshSpeed(){null!=this.storedSetInterval&&clearInterval(this.storedSetInterval),this.storedSetInterval=setInterval((()=>{this.playing&&this.step()}).bind(this),1e3/this.speed)}step(){this.menu.memory.isFinished()||(this.menu.memory.nextTick(),this.drawCurrentState(),this.menu.memory.isFinished()&&(this.togglePlaying(!1),this.menu.memory.displayResults(this.menu.memory.getResults()),this.afterDone()))}afterDone(){if(null==this.info_is_done||null==this.play_pause_button||null==this.step_button)throw new Error("call init() first!");this.info_is_done.style.display="block",this.play_pause_button.disabled=!0,this.step_button.disabled=!0}}},752:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(){this.page=null,this.process=null,this.id=s.next_id++}}s.next_id=0,t.default=s},463:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="LRU"}handlePageFault(e){let t=-1,s=-1;for(let l=0;l<e.current_frames.length;l++){const i=e.current_frames[l];if(i.process!=e.page_call.process&&console.error("Frame is assigned to a different process - this should be ensured not to happen by the caller"),null==i.page)return console.warn("Frame is empty - this should be ensured not to happen by the caller"),l;let n=-1;for(let t=e.previous_page_calls.length-1;t>=0;t--)if(e.previous_page_calls[t].id==i.page.id){n=t;break}if(-1==n)return l;(n<s||-1==s)&&(t=l,s=n)}return e.current_frames[t].id}}},268:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(s(617)),n=l(s(994)),a=l(s(950)),o=l(s(920)),r=l(s(382)),h=l(s(498));t.default=class{constructor(){this.display=new i.default,this.memory=new n.default,this.animationGUI=new h.default(this)}init(){document.getElementById("run_button").addEventListener("click",(()=>{this.run()})),document.getElementById("run_with_animation_button").addEventListener("click",(()=>{this.run(!0)})),document.getElementById("add_button").addEventListener("click",(()=>{this.addProcesses()})),document.getElementById("clear_button").addEventListener("click",(()=>{this.clearProcesses()})),document.getElementById("generate_call_queue_button").addEventListener("click",(()=>{this.addCalls()})),document.getElementById("clear_call_queue_button").addEventListener("click",(()=>{this.clearCalls()})),this.memory.init(5,3),this.display.init("main_canvas"),this.animationGUI.init(),this.display.setResizeCallback((()=>{this.refreshCalls()})),document.getElementById("s_frame_count").addEventListener("change",(e=>{const t=parseInt(e.target.value);isNaN(t)||t<1?alert("Invalid number of frames"):(this.memory.init(this.memory.number_of_pages,t),this.refreshCalls())})),document.getElementById("a_type").addEventListener("change",(e=>{"compare_all"===e.target.value.toLowerCase()?document.getElementById("run_with_animation_button").setAttribute("disabled","true"):document.getElementById("run_with_animation_button").removeAttribute("disabled")})),document.getElementById("results_close").addEventListener("click",(()=>{document.getElementById("results_wrapper").style.display="none"})),this.refreshCalls()}addProcesses(){const e=parseInt(document.getElementById("c_count").value),t=parseInt(document.getElementById("s_min_range").value),s=parseInt(document.getElementById("s_max_range").value),l=parseInt(document.getElementById("s_min_calls").value),i=parseInt(document.getElementById("s_max_calls").value);let n=0;for(let o=0;o<e;o++){const e=Math.floor(Math.random()*(s-t+1))+t;this.memory.addProcess(new a.default([n,n+e],Math.floor(Math.random()*(i-l+1))+l)),this.memory.processes[this.memory.processes.length-1].generateCalls(),n+=e}this.refreshCalls()}clearProcesses(){this.memory.clearProcesses(),this.refreshCalls()}addCalls(){for(let e=0;e<this.memory.processes.length;e++)for(let t=0;t<this.memory.processes[e].getCalls().length;t++)this.memory.call_pool.push(new o.default(this.memory.processes[e].getCalls()[t],this.memory.processes[e]));this.memory.call_pool.sort((()=>Math.random()-.5)),this.refreshCalls()}clearCalls(){this.memory.call_pool=[],this.refreshCalls()}refreshCalls(){document.getElementById("p_current_count").innerHTML=`(${this.memory.processes.length.toString()})`;const e=document.getElementById("generate_call_queue_button");this.memory.processes.length>0?e.removeAttribute("disabled"):e.attributes.setNamedItem(document.createAttribute("disabled"));const t=document.getElementById("all_processes");t.innerHTML="";for(let e=0;e<this.memory.processes.length;e++){const s=this.memory.processes[e],l=document.createElement("span");l.classList.add("process"),l.innerHTML=`<span class="process_name">Calls for process ${e}: </span> <span class="process_calls">${s.getCalls().join(", ")}</span><br />`,t.appendChild(l)}0==this.memory.processes.length&&(t.innerHTML="<span style='color: yellow'>No processes added yet.</span>"),document.getElementById("current_call_count").innerHTML=`(${this.memory.call_pool.length.toString()})`;const s=document.getElementById("main_call_queue");s.innerHTML=this.memory.call_pool.map((e=>e.id)).join(", "),0==this.memory.call_pool.length&&(s.innerHTML="<span style='color: yellow'>No calls in queue.</span>")}run(e){if(this.memory.processes.length>this.memory.frames.length)return void alert("Not enough frames for all processes");let t=!1;switch(document.getElementById("a_type").value.toLowerCase()){case"equal":this.memory.setAlgorithm(new r.default);break;case"proportional":case"fault_control":case"locality_model":throw new Error("Not implemented");case"compare_all":t=!0;break;default:alert("Invalid algorithm")}if(t)new r.default;else if(e)this.animationGUI.startAnimation();else{const e=this.memory.simulate();this.memory.displayResults(e)}}}},920:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(e,t){this.last_call_time=0,this.id=e,this.process=t}call(e){this.last_call_time=e}}},950:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class s{constructor(e,t){this.calls=[],this.range_of_pages=e,this.number_of_calls=t,this.id=s.next_id++}generateCalls(){this.calls=[];for(let e=0;e<this.number_of_calls;e++)this.calls.push(Math.floor(Math.random()*(this.range_of_pages[1]-this.range_of_pages[0]))+this.range_of_pages[0])}getCalls(){return this.calls}}s.next_id=0,t.default=s},382:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.name="Equal"}allocateFrames(e,t){const s=Math.floor(e.length/t.length);console.log(`Allocating ${s} frames per process`),console.log(`data.current_frames.length = ${e.length}, data.processes.length = ${t.length}`);for(let l=0;l<e.length;l++)null==e[l].process&&(e[l].process=t[Math.floor(l/s)])}}},965:function(e,t,s){var l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const i=l(s(268));"undefined"!=typeof document&&(new i.default).init()},617:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.default=class{constructor(){this.ctx=null,this.resizeCallback=null}init(e){const t=document.getElementById(e);this.ctx=t.getContext("2d"),window.addEventListener("resize",this.resizeToFit.bind(this)),this.resizeToFit()}resizeToFit(){null!=this.ctx&&(this.ctx.canvas.width=window.innerWidth,this.ctx.canvas.height=window.innerHeight,null!=this.resizeCallback&&this.resizeCallback())}setResizeCallback(e){this.resizeCallback=e}}}},t={};!function s(l){var i=t[l];if(void 0!==i)return i.exports;var n=t[l]={exports:{}};return e[l].call(n.exports,n,n.exports,s),n.exports}(965)})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QUdoQyxTQUFTQyxFQUFvQkMsR0FFNUIsSUFBSUMsRUFBZUgsRUFBeUJFLEdBQzVDLFFBQXFCRSxJQUFqQkQsRUFDSCxPQUFPQSxFQUFhRSxRQUdyQixJQUFJQyxFQUFTTixFQUF5QkUsR0FBWSxDQUdqREcsUUFBUyxDQUFDLEdBT1gsT0FIQUUsRUFBb0JMLEdBQVU5SixLQUFLa0ssRUFBT0QsUUFBU0MsRUFBUUEsRUFBT0QsUUFBU0osR0FHcEVLLEVBQU9ELE9BQ2YsQ0NuQjBCSixDQUFvQixJIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9BbGxvY2F0aW5nTU1VLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvQW5pbWF0aW9uR1VJLnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvRnJhbWUudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9MUlUudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9NZW51LnRzIiwid2VicGFjazovLy8uL2NsYXNzZXMvUGFnZS50cyIsIndlYnBhY2s6Ly8vLi9jbGFzc2VzL1Byb2Nlc3MudHMiLCJ3ZWJwYWNrOi8vLy4vY2xhc3Nlcy9hbGdvcml0aG1zL0VxdWFsLnRzIiwid2VicGFjazovLy8uL21haW4udHMiLCJ3ZWJwYWNrOi8vLy4uL3NoYXJlZC9jbGFzc2VzL0Rpc3BsYXkudHMiLCJ3ZWJwYWNrOi8vL3dlYnBhY2svYm9vdHN0cmFwIiwid2VicGFjazovLy93ZWJwYWNrL3N0YXJ0dXAiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IEFsbG9jYXRpb25BbGdvcml0aG0gZnJvbSBcIi4vQWxsb2NhdGlvbkFsZ29yaXRobVwiXG5cbmltcG9ydCBGcmFtZSBmcm9tIFwiLi9GcmFtZVwiXG5pbXBvcnQgUGFnZSBmcm9tIFwiLi9QYWdlXCJcbmltcG9ydCBQcm9jZXNzIGZyb20gXCIuL1Byb2Nlc3NcIlxuXG5pbXBvcnQgUmVwbGFjZW1lbnRBbGdvcml0aG0gZnJvbSBcIi4vUmVwbGFjZW1lbnRBbGdvcml0aG1cIlxuaW1wb3J0IExSVSBmcm9tIFwiLi9MUlVcIlxuXG5leHBvcnQgdHlwZSBNZW1vcnlTdGF0ZURhdGEgPSB7XG4gICAgcGFnZV9jYWxsOiBSZWFkb25seTxQYWdlPixcbiAgICBjdXJyZW50X2ZyYW1lczogUmVhZG9ubHlBcnJheTxSZWFkb25seTxGcmFtZT4+LFxuICAgIHByZXZpb3VzX3BhZ2VfY2FsbHM6IFJlYWRvbmx5QXJyYXk8UmVhZG9ubHk8UGFnZT4+LFxuICAgIHByb2Nlc3NlczogUmVhZG9ubHlBcnJheTxSZWFkb25seTxQcm9jZXNzPj5cbn07XG5cbmV4cG9ydCB0eXBlIFJlc3VsdHMgPSB7XG4gICAgdG90YWxfcGFnZV9mYXVsdHM6IG51bWJlcixcbiAgICB0b3RhbF9wYWdlX2hpdHM6IG51bWJlcixcbiAgICB0b3RhbF9jYWxsczogbnVtYmVyXG59O1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbGxvY2F0aW5nTU1VIHtcbiAgICBwcm9jZXNzZXM6IEFycmF5PFByb2Nlc3M+ID0gW11cbiAgICBmcmFtZXM6IEFycmF5PEZyYW1lPiA9IFtdXG5cbiAgICBjYWxsX3Bvb2w6IEFycmF5PFBhZ2U+ID0gW11cbiAgICBjYWxsX3F1ZXVlOiBBcnJheTxQYWdlPiA9IFtdXG4gICAgY2FsbF9oaXN0b3J5OiBBcnJheTxQYWdlPiA9IFtdXG5cbiAgICBudW1iZXJfb2ZfZnJhbWVzOiBudW1iZXIgPSAwXG4gICAgbnVtYmVyX29mX3BhZ2VzOiBudW1iZXIgPSAwXG5cbiAgICBhbGxvY2F0aW9uQWxnb3JpdGhtOiBBbGxvY2F0aW9uQWxnb3JpdGhtIHwgbnVsbCA9IG51bGxcbiAgICByZXBsYWNlbWVudEFsZ29yaXRobTogUmVwbGFjZW1lbnRBbGdvcml0aG0gPSBuZXcgTFJVKClcblxuICAgIHRvdGFsX3BhZ2VfZmF1bHRzOiBudW1iZXIgPSAwXG4gICAgdGltZTogbnVtYmVyID0gMFxuXG4gICAgbGFzdF9jYWxsX2NhdXNlZF9mYXVsdDogYm9vbGVhbiA9IGZhbHNlXG5cbiAgICBjb25zdHJ1Y3RvcigpIHsgfVxuXG4gICAgaW5pdChudW1iZXJfb2ZfcGFnZXM/OiBudW1iZXIsIG51bWJlcl9vZl9mcmFtZXM/OiBudW1iZXIpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5udW1iZXJfb2ZfcGFnZXMgPSBudW1iZXJfb2ZfcGFnZXMgPz8gdGhpcy5udW1iZXJfb2ZfcGFnZXM7XG4gICAgICAgIHRoaXMubnVtYmVyX29mX2ZyYW1lcyA9IG51bWJlcl9vZl9mcmFtZXMgPz8gdGhpcy5udW1iZXJfb2ZfZnJhbWVzO1xuXG4gICAgICAgIHRoaXMuY2FsbF9xdWV1ZSA9IFsuLi50aGlzLmNhbGxfcG9vbF07IC8vIGNvcHkgYXJyYXlcbiAgICAgICAgdGhpcy5mcmFtZXMgPSBbXTtcbiAgICAgICAgdGhpcy5jYWxsX2hpc3RvcnkgPSBbXTtcblxuICAgICAgICB0aGlzLnRpbWUgPSAwO1xuICAgICAgICB0aGlzLnRvdGFsX3BhZ2VfZmF1bHRzID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMubnVtYmVyX29mX2ZyYW1lczsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmZyYW1lcy5wdXNoKG5ldyBGcmFtZSgpKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGFkZFByb2Nlc3MocHJvY2VzczogUHJvY2Vzcyk6IHZvaWQge1xuICAgICAgICB0aGlzLnByb2Nlc3Nlcy5wdXNoKHByb2Nlc3MpO1xuICAgIH1cblxuICAgIGNsZWFyUHJvY2Vzc2VzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLnByb2Nlc3NlcyA9IFtdO1xuICAgIH1cblxuICAgIGdlbmVyYXRlUGFnZUNhbGxQb29sKCk6IHZvaWQge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMucHJvY2Vzc2VzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLnByb2Nlc3Nlc1tpXS5nZW5lcmF0ZUNhbGxzKCk7XG4gICAgICAgICAgICB0aGlzLmFkZFBhZ2VDYWxsc1RvUG9vbCh0aGlzLnByb2Nlc3Nlc1tpXS5nZXRDYWxscygpLCB0aGlzLnByb2Nlc3Nlc1tpXSk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcml2YXRlIGFkZFBhZ2VDYWxsVG9Qb29sKHBhZ2VfY2FsbDogUGFnZSk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhbGxfcG9vbC5wdXNoKHBhZ2VfY2FsbCk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBhZGRQYWdlQ2FsbHNUb1Bvb2wocGFnZV9jYWxsczogQXJyYXk8bnVtYmVyPiwgcHJvY2VzczogUHJvY2Vzcykge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHBhZ2VfY2FsbHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHRoaXMuYWRkUGFnZUNhbGxUb1Bvb2wobmV3IFBhZ2UocGFnZV9jYWxsc1tpXSwgcHJvY2VzcykpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2xlYXJQYWdlQ2FsbFBvb2woKTogdm9pZCB7XG4gICAgICAgIHRoaXMuY2FsbF9wb29sID0gW107XG4gICAgfVxuXG4gICAgc2V0QWxnb3JpdGhtKGFsZ29yaXRobTogQWxsb2NhdGlvbkFsZ29yaXRobSk6IHZvaWQge1xuICAgICAgICB0aGlzLmFsbG9jYXRpb25BbGdvcml0aG0gPSBhbGdvcml0aG07XG4gICAgfVxuXG4gICAgbmV4dFRpY2soKTogdm9pZCB7XG4gICAgICAgIC8qIGVuc3VyZSB0aGF0IGFuIGFsZ29yaXRobSBpcyBzZWxlY3RlZCAqL1xuICAgICAgICBpZiAodGhpcy5hbGxvY2F0aW9uQWxnb3JpdGhtID09IG51bGwpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vIGFsZ29yaXRobSBzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IHBhZ2VfY2FsbCA9IHRoaXMuY2FsbF9xdWV1ZS5zaGlmdCgpO1xuXG4gICAgICAgIC8qIG5vIHBhZ2UgY2FsbCBhdCB0aGlzIHRpbWUgKi9cbiAgICAgICAgaWYgKHBhZ2VfY2FsbCA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJFbXB0eSBwYWdlIGNhbGwgcXVldWUgYnV0IG5vdCBmaW5pc2hlZFwiKTtcbiAgICAgICAgICAgIHRoaXMudGltZSsrO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgdGhpcy5jYWxsX2hpc3RvcnkucHVzaChwYWdlX2NhbGwpO1xuICAgICAgICBjb25zb2xlLmxvZyhcIlBhZ2UgY2FsbDogXCIgKyBwYWdlX2NhbGwuaWQpO1xuXG4gICAgICAgIGlmIChwYWdlX2NhbGwpIHtcbiAgICAgICAgICAgIC8qIGFsbG9jYXRlIGZyYW1lcyB0byBwcm9jZXNzZXMgKi9cbiAgICAgICAgICAgIHRoaXMuYWxsb2NhdGlvbkFsZ29yaXRobS5hbGxvY2F0ZUZyYW1lcz8uKHRoaXMuZnJhbWVzLCB0aGlzLnByb2Nlc3Nlcyk7XG5cbiAgICAgICAgICAgIGNvbnN0IHVuYWxsb2NhdGVkRnJhbWVzTGVuZ3RoID0gdGhpcy5mcmFtZXMuZmlsdGVyKGZyYW1lID0+IGZyYW1lLnByb2Nlc3MgPT0gbnVsbCkubGVuZ3RoO1xuICAgICAgICAgICAgaWYgKHVuYWxsb2NhdGVkRnJhbWVzTGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihgTm90IGFsbCBmcmFtZXMgYXJlIGFsbG9jYXRlZFxcbkFsbG9jYXRlZDogJHt0aGlzLmZyYW1lcy5sZW5ndGggLSB1bmFsbG9jYXRlZEZyYW1lc0xlbmd0aH1cXG5VbmFsbG9jYXRlZDogJHt1bmFsbG9jYXRlZEZyYW1lc0xlbmd0aH1gKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLyogZXhlY3V0ZSByZXBsYWNlbWVudCBhbGdvcml0aG0gKi9cbiAgICAgICAgICAgIHRoaXMucmVwbGFjZW1lbnRBbGdvcml0aG0ub25QYWdlQ2FsbD8uKHRoaXMuZ2V0Q3VycmVudFN0YXRlRGF0YShwYWdlX2NhbGwpKTtcblxuICAgICAgICAgICAgLyogY2hlY2sgaWYgdGhlcmUgaXMgYSBwYWdlIGZhdWx0ICovXG4gICAgICAgICAgICBsZXQgcGFnZV9mYXVsdCA9IHRydWU7XG4gICAgICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuZnJhbWVzW2ldID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkZyYW1lIGlzIG51bGxcIik7XG5cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5mcmFtZXNbaV0ucGFnZSA9PSBudWxsICYmIHRoaXMuZnJhbWVzW2ldLnByb2Nlc3MgPT0gcGFnZV9jYWxsLnByb2Nlc3MpIHtcbiAgICAgICAgICAgICAgICAgICAgLyogaW5zZXJ0IGludG8gdGhlIGZpcnN0IGZyZWUgZnJhbWUgYXNzaWduZWQgdG8gdGhlIHByb2Nlc3MgKi9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mcmFtZXNbaV0ucGFnZSA9IHBhZ2VfY2FsbDtcblxuICAgICAgICAgICAgICAgICAgICAvKiBpbmNyZW1lbnQgdGhlIHRvdGFsIHBhZ2UgZmF1bHRzICovXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudG90YWxfcGFnZV9mYXVsdHMrKztcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0X2NhbGxfY2F1c2VkX2ZhdWx0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgICAgICBwYWdlX2ZhdWx0ID0gZmFsc2U7IC8vIHBhZ2UgZmF1bHQgYWxyZWFkeSBoYW5kbGVkXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lc1tpXS5wYWdlICE9IG51bGwgJiYgdGhpcy5mcmFtZXNbaV0ucGFnZSEuaWQgPT0gcGFnZV9jYWxsLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIHBhZ2UgaXMgYWxyZWFkeSBpbiBtZW1vcnkgKi9cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXBsYWNlbWVudEFsZ29yaXRobS5vblBhZ2VBbHJlYWR5SW5NZW1vcnk/Lih0aGlzLmdldEN1cnJlbnRTdGF0ZURhdGEocGFnZV9jYWxsKSk7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5sYXN0X2NhbGxfY2F1c2VkX2ZhdWx0ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIHBhZ2VfZmF1bHQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBoYW5kbGUgcGFnZSBmYXVsdCAqL1xuICAgICAgICAgICAgaWYgKHBhZ2VfZmF1bHQpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIlBhZ2UgZmF1bHQ6IFwiICsgcGFnZV9jYWxsLmlkKTtcblxuICAgICAgICAgICAgICAgIC8qIGVuc3VyZSB0aGF0IHRoZXJlIGFyZSBubyBmcmVlIGZyYW1lcyBhc3NpZ25lZCB0byB0aGUgcHJvY2VzcyAqL1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmZyYW1lcy5maW5kKGZyYW1lID0+IGZyYW1lLnByb2Nlc3MgPT0gcGFnZV9jYWxsLnByb2Nlc3MgJiYgZnJhbWUucGFnZSA9PSBudWxsKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIkluaXRpYWwgcGFnZSBmaWxsIG5vdCBoYW5kbGVkIHByb3Blcmx5XCIpO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIC8qIGluY3JlbWVudCB0aGUgdG90YWwgcGFnZSBmYXVsdHMgKi9cbiAgICAgICAgICAgICAgICB0aGlzLnRvdGFsX3BhZ2VfZmF1bHRzKys7XG4gICAgICAgICAgICAgICAgdGhpcy5sYXN0X2NhbGxfY2F1c2VkX2ZhdWx0ID0gdHJ1ZTtcblxuICAgICAgICAgICAgICAgIC8qIHJlcGxhY2UgYSBwYWdlICovXG4gICAgICAgICAgICAgICAgY29uc3QgaWRfb2ZfZnJhbWVfdG9fcmVwbGFjZSA9IHRoaXMucmVwbGFjZW1lbnRBbGdvcml0aG0uaGFuZGxlUGFnZUZhdWx0KHRoaXMuZ2V0Q3VycmVudFN0YXRlRGF0YShwYWdlX2NhbGwpKTtcbiAgICAgICAgICAgICAgICB0aGlzLmZyYW1lc1t0aGlzLmdldEZyYW1lSW5kZXhCeUlkKGlkX29mX2ZyYW1lX3RvX3JlcGxhY2UpXS5wYWdlID0gcGFnZV9jYWxsO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAvKiBlbnN1cmUgdGhhdCB0aGUgcGFnZSBpcyBub3cgaW4gbWVtb3J5ICovXG4gICAgICAgICAgICBsZXQgcGFnZV9pbl9tZW1vcnkgPSBmYWxzZTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgZnJhbWUgb2YgdGhpcy5mcmFtZXMpIHtcbiAgICAgICAgICAgICAgICBpZiAoZnJhbWUucGFnZSA9PSBudWxsKVxuICAgICAgICAgICAgICAgICAgICBjb250aW51ZTtcblxuICAgICAgICAgICAgICAgIGlmICgoPFBhZ2U+ZnJhbWUucGFnZSkuaWQgPT0gcGFnZV9jYWxsLmlkKSB7XG4gICAgICAgICAgICAgICAgICAgIC8qIHBhZ2UgaXMgaW4gbWVtb3J5ICovXG4gICAgICAgICAgICAgICAgICAgIHBhZ2VfaW5fbWVtb3J5ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKCFwYWdlX2luX21lbW9yeSkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIlBhZ2UgZmF1bHQgbm90IGhhbmRsZWQgcHJvcGVybHkgLSBwYWdlIG5vdCBpbiBtZW1vcnlcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIC8qIGNhbGwgdGhlIHBhZ2UgKi9cbiAgICAgICAgICAgIHBhZ2VfY2FsbC5jYWxsKHRoaXMudGltZSk7XG4gICAgICAgIH1cblxuICAgICAgICB0aGlzLnRpbWUrKztcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50U3RhdGVEYXRhKHBhZ2VfY2FsbDogUGFnZSk6IE1lbW9yeVN0YXRlRGF0YSB7XG4gICAgICAgIC8qIGdldCB0aGUgc3RhdGUgb2YgdGhlIG1lbW9yeSBhc3NpZ25lZCB0byB0aGUgcHJvY2VzcyAqL1xuICAgICAgICBjb25zdCBwcm9jZXNzX2ZyYW1lcyA9IHRoaXMuZnJhbWVzLmZpbHRlcihmcmFtZSA9PiBmcmFtZS5wcm9jZXNzID09IHBhZ2VfY2FsbC5wcm9jZXNzKTtcbiAgICAgICAgY29uc3QgcHJvY2Vzc19jYWxsX2hpc3RvcnkgPSB0aGlzLmNhbGxfaGlzdG9yeS5maWx0ZXIoY2FsbCA9PiBjYWxsLnByb2Nlc3MgPT0gcGFnZV9jYWxsLnByb2Nlc3MpO1xuXG4gICAgICAgIGNvbnN0IGRhdGE6IE1lbW9yeVN0YXRlRGF0YSA9IHtcbiAgICAgICAgICAgIHBhZ2VfY2FsbDogcGFnZV9jYWxsLFxuICAgICAgICAgICAgY3VycmVudF9mcmFtZXM6IHByb2Nlc3NfZnJhbWVzLFxuICAgICAgICAgICAgcHJldmlvdXNfcGFnZV9jYWxsczogcHJvY2Vzc19jYWxsX2hpc3RvcnksXG4gICAgICAgICAgICBwcm9jZXNzZXM6IHRoaXMucHJvY2Vzc2VzXG4gICAgICAgIH07XG5cbiAgICAgICAgcmV0dXJuIGRhdGE7XG4gICAgfVxuXG4gICAgaXNGaW5pc2hlZCgpOiBib29sZWFuIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY2FsbF9xdWV1ZS5sZW5ndGggPT0gMDtcbiAgICB9XG5cbiAgICBwcml2YXRlIGdldEZyYW1lSW5kZXhCeUlkKGlkOiBudW1iZXIpOiBudW1iZXIge1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHRoaXMuZnJhbWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBpZiAodGhpcy5mcmFtZXNbaV0uaWQgPT0gaWQpXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gLTE7XG4gICAgfVxuXG4gICAgZ2V0UmVzdWx0cygpOiBSZXN1bHRzIHtcbiAgICAgICAgY29uc3QgcmVzdWx0cyA9IHtcbiAgICAgICAgICAgIHRvdGFsX3BhZ2VfZmF1bHRzOiB0aGlzLnRvdGFsX3BhZ2VfZmF1bHRzLFxuICAgICAgICAgICAgdG90YWxfcGFnZV9oaXRzOiB0aGlzLmNhbGxfaGlzdG9yeS5sZW5ndGggLSB0aGlzLnRvdGFsX3BhZ2VfZmF1bHRzLFxuICAgICAgICAgICAgdG90YWxfY2FsbHM6IHRoaXMuY2FsbF9oaXN0b3J5Lmxlbmd0aFxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgfVxuXG4gICAgc2ltdWxhdGUoKTogUmVzdWx0cyB7XG4gICAgICAgIHRoaXMuaW5pdCgpO1xuXG4gICAgICAgIHdoaWxlICghdGhpcy5pc0ZpbmlzaGVkKCkpIHtcbiAgICAgICAgICAgIHRoaXMubmV4dFRpY2soKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiB0aGlzLmdldFJlc3VsdHMoKTtcbiAgICB9XG5cbiAgICBkaXNwbGF5UmVzdWx0cyhyZXN1bHRzPzogUmVzdWx0cywgYWxnU3RyOiBzdHJpbmcgPSB0aGlzLmFsbG9jYXRpb25BbGdvcml0aG0hLm5hbWUpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgcmVzdWx0c193cmFwcGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJyZXN1bHRzX3dyYXBwZXJcIikgYXMgSFRNTEVsZW1lbnQ7XG4gICAgICAgIHJlc3VsdHNfd3JhcHBlci5zdHlsZS5kaXNwbGF5ID0gXCJmbGV4XCI7XG5cbiAgICAgICAgY29uc3QgcmVzdWx0c19lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c1wiKSBhcyBIVE1MRWxlbWVudDtcbiAgICAgICAgcmVzdWx0c19lbC5pbm5lckhUTUwgPSBgXG4gICAgICAgIEFsZ29yaXRobTogJHthbGdTdHIudG9VcHBlckNhc2UoKX1cblxuICAgICAgICBUb3RhbCBwYWdlIGZhdWx0czogPGIgc3R5bGU9J2NvbG9yOiByZWQnPiR7cmVzdWx0cyEudG90YWxfcGFnZV9mYXVsdHMudG9GaXhlZCgwKX08L2I+XG4gICAgICAgIFRvdGFsIHBhZ2UgaGl0czogPGIgc3R5bGU9J2NvbG9yOiBsaW1lJz4ke3Jlc3VsdHMhLnRvdGFsX3BhZ2VfaGl0cy50b0ZpeGVkKDApfTwvYj5cbiAgICAgICAgVG90YWwgcGFnZSBjYWxsczogPGI+JHtyZXN1bHRzIS50b3RhbF9jYWxscy50b0ZpeGVkKDApfTwvYj5cbiAgICAgICAgYC5yZXBsYWNlKFJlZ0V4cChcIlxcblwiLCBcImdcIiksIFwiPGJyIC8+XCIpO1xuICAgIH1cbn0iLCJpbXBvcnQgSUFuaW1hdGlvbkdVSSBmcm9tIFwiLi4vLi4vc2hhcmVkL2ludGVyZmFjZXMvSUFuaW1hdGlvbkdVSVwiO1xyXG5pbXBvcnQgTWVudSBmcm9tIFwiLi9NZW51XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYXRpb25HVUkgaW1wbGVtZW50cyBJQW5pbWF0aW9uR1VJIHtcclxuICAgIG1lbnU6IE1lbnVcclxuXHJcbiAgICB2aXNpYmxlOiBib29sZWFuID0gZmFsc2VcclxuICAgIHBsYXlpbmc6IGJvb2xlYW4gPSBmYWxzZVxyXG4gICAgc3BlZWQ6IG51bWJlciA9IDFcclxuXHJcbiAgICBHVUk6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIE1FTlU6IEhUTUxEaXZFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBwbGF5X3BhdXNlX2J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG4gICAgc3RlcF9idXR0b246IEhUTUxCdXR0b25FbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIHN0b3BfYnV0dG9uOiBIVE1MQnV0dG9uRWxlbWVudCB8IG51bGwgPSBudWxsXHJcbiAgICBzcGVlZF9zbGlkZXI6IEhUTUxJbnB1dEVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIGluZm9fYWxnb3JpdGhtOiBIVE1MUGFyYWdyYXBoRWxlbWVudCB8IG51bGwgPSBudWxsXHJcbiAgICBpbmZvX3RpbWU6IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIGluZm9faXNfZG9uZTogSFRNTERpdkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIGluZm9faW5fcXVldWU6IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIGluZm9fZmluaXNoZWQ6IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIGluZm9fdG90YWxfcGFnZV9mYXVsdHM6IEhUTUxQYXJhZ3JhcGhFbGVtZW50IHwgbnVsbCA9IG51bGxcclxuICAgIGluZm9fdG90YWxfcGFnZV9oaXRzOiBIVE1MUGFyYWdyYXBoRWxlbWVudCB8IG51bGwgPSBudWxsXHJcblxyXG4gICAgZnJhbWVfcm93czogQXJyYXk8SFRNTFRhYmxlUm93RWxlbWVudD4gPSBbXVxyXG5cclxuICAgIHNlZV9jb2RlX2J1dHRvbjogSFRNTEJ1dHRvbkVsZW1lbnQgfCBudWxsID0gbnVsbFxyXG5cclxuICAgIC8qIHNldEludGVydmFsICovXHJcbiAgICBzdG9yZWRTZXRJbnRlcnZhbDogTm9kZUpTLlRpbWVyIHwgbnVsbCA9IG51bGxcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihtZW51OiBNZW51KSB7XHJcbiAgICAgICAgdGhpcy5tZW51ID0gbWVudTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCk6IHZvaWQge1xyXG4gICAgICAgIHRoaXMuR1VJID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fZ3VpXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuTUVOVSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwic2V0dGluZ3NcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMucGxheV9wYXVzZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9wbGF5X3BhdXNlXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuc3RlcF9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9zdGVwXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuc3RvcF9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9zdG9wXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG4gICAgICAgIHRoaXMuc3BlZWRfc2xpZGVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fc3BlZWRfc2xpZGVyXCIpIGFzIEhUTUxJbnB1dEVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuaW5mb19hbGdvcml0aG0gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9pbmZvX2FsZ29yaXRobV92YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICB0aGlzLmluZm9fdGltZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX2luZm9fdGltZV92YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICB0aGlzLmluZm9faXNfZG9uZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX2lzX2RvbmVcIikgYXMgSFRNTERpdkVsZW1lbnQ7XHJcblxyXG4gICAgICAgIHRoaXMuaW5mb19pbl9xdWV1ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiY2FsbHNfaW5fcXVldWVfdmFsdWVcIikgYXMgSFRNTFBhcmFncmFwaEVsZW1lbnQ7XHJcbiAgICAgICAgdGhpcy5pbmZvX2ZpbmlzaGVkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjYWxsc19maW5pc2hlZF92YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuICAgICAgICB0aGlzLmluZm9fdG90YWxfcGFnZV9mYXVsdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsX3BhZ2VfZmF1bHRzX3ZhbHVlXCIpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xyXG4gICAgICAgIHRoaXMuaW5mb190b3RhbF9wYWdlX2hpdHMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInRvdGFsX3BhZ2VfaGl0c192YWx1ZVwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcclxuXHJcbiAgICAgICAgdGhpcy5zZWVfY29kZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNvZGVfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xyXG5cclxuICAgICAgICAvKipcclxuICAgICAgICAgKiBoaWRlIGVsZW1lbnRzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5pbmZvX2lzX2RvbmUuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG5cclxuICAgICAgICAvKlxyXG4gICAgICAgICAqIEJpbmQgZXZlbnQgbGlzdGVuZXJzXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5wbGF5X3BhdXNlX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVBsYXlpbmcoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdGVwX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnN0ZXAoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9wX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZVZpc2libGUoZmFsc2UpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICB0aGlzLnNwZWVkX3NsaWRlci5hZGRFdmVudExpc3RlbmVyKFwiaW5wdXRcIiwgKCkgPT4ge1xyXG4gICAgICAgICAgICB0aGlzLnNwZWVkID0gcGFyc2VJbnQodGhpcy5zcGVlZF9zbGlkZXIhLnZhbHVlKTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU3BlZWQoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgdGhpcy5zZWVfY29kZV9idXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHRoaXMubWVudS5tZW1vcnkuYWxsb2NhdGlvbkFsZ29yaXRobSA9PSBudWxsKVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAgICAgY29uc3QgYWxnb3JpdGhtTmFtZSA9IHRoaXMubWVudS5tZW1vcnkuYWxsb2NhdGlvbkFsZ29yaXRobS5uYW1lO1xyXG4gICAgICAgICAgICB3aW5kb3cub3BlbihgaHR0cHM6Ly9naXRodWIuY29tL2JydW4wbmUvc2NoZWR1bGluZy1zaW0vYmxvYi9tYWluL3BhZ2VfcmVwbGFjZW1lbnRfc3JjL2NsYXNzZXMvYWxnb3JpdGhtcy8ke2FsZ29yaXRobU5hbWV9LnRzYCwgXCJfYmxhbmtcIikhLmZvY3VzKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIC8qKlxyXG4gICAgICAgICAqIFNldEludGVydmFsXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU3BlZWQoKTtcclxuXHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcHJlcGFyZSBIVE1MIHRhYmxlIG9mIHN0YXRlc1xyXG4gICAgICAgICAqL1xyXG4gICAgICAgIHRoaXMuaW5pdFN0YXRlVGFibGUoKTtcclxuICAgIH1cclxuICAgIHRvZ2dsZVBsYXlpbmcocGxheWluZz86IGJvb2xlYW4pOiB2b2lkIHtcclxuICAgICAgICBpZiAocGxheWluZyA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aGlzLnBsYXlpbmcgPSAhdGhpcy5wbGF5aW5nO1xyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhpcy5wbGF5aW5nID0gcGxheWluZztcclxuXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU3BlZWQoKTtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5X3BhdXNlX2J1dHRvbiEuaW5uZXJIVE1MID0gdGhpcy5wbGF5aW5nID8gXCJQYXVzZVwiIDogXCJQbGF5XCI7XHJcbiAgICB9XHJcblxyXG4gICAgdG9nZ2xlVmlzaWJsZSh2aXNpYmxlPzogYm9vbGVhbik6IHZvaWQge1xyXG4gICAgICAgIGlmICh2aXNpYmxlID09IG51bGwpXHJcbiAgICAgICAgICAgIHRoaXMudmlzaWJsZSA9ICF0aGlzLnZpc2libGU7XHJcbiAgICAgICAgZWxzZVxyXG4gICAgICAgICAgICB0aGlzLnZpc2libGUgPSB2aXNpYmxlO1xyXG5cclxuICAgICAgICBpZiAodGhpcy52aXNpYmxlKSB7XHJcbiAgICAgICAgICAgIHRoaXMuR1VJIS5zdHlsZS5kaXNwbGF5ID0gXCJibG9ja1wiO1xyXG4gICAgICAgICAgICB0aGlzLk1FTlUhLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAgICAgICAgIHRoaXMubWVudS5kaXNwbGF5LnJlc2l6ZUNhbGxiYWNrID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5kcmF3Q3VycmVudFN0YXRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5kcmF3Q3VycmVudFN0YXRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsc2Uge1xyXG4gICAgICAgICAgICB0aGlzLkdVSSEuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgICAgICAgICB0aGlzLk1FTlUhLnN0eWxlLmRpc3BsYXkgPSBcImZsZXhcIjtcclxuXHJcbiAgICAgICAgICAgIGlmICh0aGlzLnN0b3JlZFNldEludGVydmFsICE9IG51bGwpXHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKHRoaXMuc3RvcmVkU2V0SW50ZXJ2YWwpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5tZW51LmRpc3BsYXkucmVzaXplQ2FsbGJhY2sgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm1lbnUucmVmcmVzaENhbGxzKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5tZW51LnJlZnJlc2hDYWxscygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXNldCgpOiB2b2lkIHtcclxuICAgICAgICBpZiAodGhpcy5wbGF5X3BhdXNlX2J1dHRvbiA9PSBudWxsIHx8IHRoaXMuaW5mb19pc19kb25lID09IG51bGwgfHwgdGhpcy5zdGVwX2J1dHRvbiA9PSBudWxsKVxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoXCJjYWxsIGluaXQoKSBmaXJzdCFcIik7XHJcblxyXG4gICAgICAgIHRoaXMubWVudS5tZW1vcnkuaW5pdCgpO1xyXG5cclxuICAgICAgICB0aGlzLnBsYXlfcGF1c2VfYnV0dG9uLmlubmVySFRNTCA9IFwiUGxheVwiO1xyXG4gICAgICAgIHRoaXMucGxheWluZyA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9faXNfZG9uZS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgICAgIHRoaXMucGxheV9wYXVzZV9idXR0b24uZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLnN0ZXBfYnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcblxyXG4gICAgICAgIHRoaXMuaW5pdFN0YXRlVGFibGUoKTtcclxuICAgIH1cclxuXHJcbiAgICBzdGFydEFuaW1hdGlvbigpOiB2b2lkIHtcclxuICAgICAgICB0aGlzLnJlc2V0KCk7XHJcbiAgICAgICAgdGhpcy50b2dnbGVWaXNpYmxlKHRydWUpO1xyXG4gICAgfVxyXG5cclxuICAgIGRyYXdDdXJyZW50U3RhdGUoKTogdm9pZCB7XHJcbiAgICAgICAgLyoqXHJcbiAgICAgICAgICogcmVmcmVzaCBpbmZvXHJcbiAgICAgICAgICovXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoSW5mbygpO1xyXG5cclxuICAgICAgICB0aGlzLmRyYXdDYWxscygpO1xyXG4gICAgfVxyXG5cclxuICAgIGluaXRTdGF0ZVRhYmxlKCk6IHZvaWQge1xyXG4gICAgICAgIC8qIGdyYWIgZWxlbWVudHMgKi9cclxuICAgICAgICBjb25zdCB0aW1lX3JvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3RhYmxlX3RpbWVcIikgYXMgSFRNTFRhYmxlUm93RWxlbWVudDtcclxuICAgICAgICBjb25zdCBjYWxsc19yb3cgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl90YWJsZV9wYWdlX2NhbGxzXCIpIGFzIEhUTUxUYWJsZVJvd0VsZW1lbnQ7XHJcbiAgICAgICAgY29uc3QgdGJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl90YWJsZV9ib2R5XCIpIGFzIEhUTUxUYWJsZVNlY3Rpb25FbGVtZW50O1xyXG5cclxuICAgICAgICAvKiBjbGVhciB0YWJsZSAqL1xyXG4gICAgICAgIHRpbWVfcm93LmlubmVySFRNTCA9IFwiXCI7XHJcbiAgICAgICAgY2FsbHNfcm93LmlubmVySFRNTCA9IFwiXCI7XHJcblxyXG4gICAgICAgIC8qIHRpbWUgKi9cclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIGNvbnN0IHRpbWVfcm93X2hlYWRlciA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgdGltZV9yb3dfaGVhZGVyLmlubmVySFRNTCA9IFwiVGltZVwiO1xyXG4gICAgICAgICAgICB0aW1lX3Jvd19oZWFkZXIuY2xhc3NMaXN0LmFkZChcImhlYWRlclwiKTtcclxuICAgICAgICAgICAgdGltZV9yb3cuYXBwZW5kQ2hpbGQodGltZV9yb3dfaGVhZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGNhbGxzICovXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxsc19yb3dfaGVhZGVyID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgICAgICBjYWxsc19yb3dfaGVhZGVyLmlubmVySFRNTCA9IFwiUGFnZSBjYWxsc1wiO1xyXG4gICAgICAgICAgICBjYWxsc19yb3dfaGVhZGVyLmNsYXNzTGlzdC5hZGQoXCJoZWFkZXJcIik7XHJcbiAgICAgICAgICAgIGNhbGxzX3Jvdy5hcHBlbmRDaGlsZChjYWxsc19yb3dfaGVhZGVyKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGZyYW1lcyAqL1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgLyogcmVtb3ZlIG9sZCByb3dzICovXHJcbiAgICAgICAgICAgIHdoaWxlICh0Ym9keS5sYXN0Q2hpbGQgIT0gbnVsbCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgaWQgPSAodGJvZHkubGFzdENoaWxkIGFzIEhUTUxFbGVtZW50KS5pZDtcclxuICAgICAgICAgICAgICAgIGlmIChpZCA9PSBcImFuaW1hdGlvbl90YWJsZV9wYWdlX2NhbGxzXCIpIC8vIHNraXAgdGhlIHJvdyB3aXRoIHBhZ2UgY2FsbHNcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuXHJcbiAgICAgICAgICAgICAgICB0Ym9keS5yZW1vdmVDaGlsZCh0Ym9keS5sYXN0Q2hpbGQpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICAvKiBhZGQgYSByb3cgZm9yIGVhY2ggZnJhbWUgKi9cclxuICAgICAgICAgICAgY29uc3QgZnJhbWVfcm93czogQXJyYXk8SFRNTFRhYmxlUm93RWxlbWVudD4gPSBbXTtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbnUubWVtb3J5Lm51bWJlcl9vZl9mcmFtZXM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWVfcm93ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnN0IGZyYW1lX3Jvd19oZWFkZXIgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgICAgICAgICBmcmFtZV9yb3dfaGVhZGVyLmlubmVySFRNTCA9IGBGcmFtZSAke2l9YDtcclxuICAgICAgICAgICAgICAgIGZyYW1lX3Jvdy5hcHBlbmRDaGlsZChmcmFtZV9yb3dfaGVhZGVyKTtcclxuXHJcbiAgICAgICAgICAgICAgICBmcmFtZV9yb3dzLnB1c2goZnJhbWVfcm93KTtcclxuICAgICAgICAgICAgICAgIHRib2R5LmFwcGVuZENoaWxkKGZyYW1lX3Jvdyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5mcmFtZV9yb3dzID0gZnJhbWVfcm93cztcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZHJhd0NhbGxzKFNUQVJUX1g/OiBudW1iZXIsIFNUQVJUX1k/OiBudW1iZXIsIFdJRFRIPzogbnVtYmVyLCBIRUlHSFQ/OiBudW1iZXIsIGNhbGxzVG9EcmF3PzogYW55KTogdm9pZCB7XHJcbiAgICAgICAgLyogZ3JhYiBlbGVtZW50cyAqL1xyXG4gICAgICAgIGNvbnN0IHRpbWVfcm93ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbmltYXRpb25fdGFibGVfdGltZVwiKSBhcyBIVE1MVGFibGVSb3dFbGVtZW50O1xyXG4gICAgICAgIGNvbnN0IGNhbGxzX3JvdyA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYW5pbWF0aW9uX3RhYmxlX3BhZ2VfY2FsbHNcIikgYXMgSFRNTFRhYmxlUm93RWxlbWVudDtcclxuXHJcbiAgICAgICAgLyogb25seSBhZGQgb25lIGNvbHVtbiBmb3IgdGhlIG5ldyBzdGF0ZSAqL1xyXG4gICAgICAgIGNvbnN0IG5ld0NhbGwgPSB0aGlzLm1lbnUubWVtb3J5LmNhbGxfaGlzdG9yeS5hdCgtMSk7XHJcbiAgICAgICAgaWYgKG5ld0NhbGwgPT0gbnVsbClcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG5cclxuICAgICAgICAvKiB0aW1lICovXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCB0aW1lVGlja0VsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRoXCIpO1xyXG4gICAgICAgICAgICB0aW1lVGlja0VsLmlubmVySFRNTCA9IGAke3RoaXMubWVudS5tZW1vcnkudGltZX1gO1xyXG4gICAgICAgICAgICB0aW1lX3Jvdy5hcHBlbmRDaGlsZCh0aW1lVGlja0VsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGNhbGxzICovXHJcbiAgICAgICAge1xyXG4gICAgICAgICAgICBjb25zdCBjYWxsc1RpY2tFbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0aFwiKTtcclxuICAgICAgICAgICAgY2FsbHNUaWNrRWwuaW5uZXJIVE1MID0gYCR7bmV3Q2FsbC5pZH1gO1xyXG5cclxuICAgICAgICAgICAgY2FsbHNfcm93LmFwcGVuZENoaWxkKGNhbGxzVGlja0VsKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8qIGZyYW1lcyAqL1xyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbnUubWVtb3J5Lm51bWJlcl9vZl9mcmFtZXM7IGkrKykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWVfcm93ID0gdGhpcy5mcmFtZV9yb3dzW2ldO1xyXG4gICAgICAgICAgICAgICAgY29uc3QgcGFnZSA9IHRoaXMubWVudS5tZW1vcnkuZnJhbWVzW2ldLnBhZ2U7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc3QgZnJhbWVUaWNrRWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGhcIik7XHJcbiAgICAgICAgICAgICAgICBmcmFtZVRpY2tFbC5pbm5lckhUTUwgPSBgJHtwYWdlICE9IG51bGwgPyBwYWdlLmlkIDogXCJcIn1gO1xyXG5cclxuICAgICAgICAgICAgICAgIGlmIChwYWdlICE9IG51bGwgJiYgcGFnZS5pZCA9PSBuZXdDYWxsLmlkICYmIHRoaXMubWVudS5tZW1vcnkubGFzdF9jYWxsX2NhdXNlZF9mYXVsdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2UgcGFnZSBmYXVsdHMgcmVkXHJcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVUaWNrRWwuc3R5bGUuYmFja2dyb3VuZENvbG9yID0gXCJyZWRcIjtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5tZW51Lm1lbW9yeS5mcmFtZXNbaV0ucHJvY2VzcyAhPSBudWxsKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZnJhbWVUaWNrRWwuaW5uZXJIVE1MICs9IGAgPHNwYW4gc3R5bGU9J2NvbG9yOiB5ZWxsb3cnPigke3RoaXMubWVudS5tZW1vcnkuZnJhbWVzW2ldLnByb2Nlc3MhLmlkfSk8L3NwYW4+YDtcclxuICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICBmcmFtZV9yb3cuYXBwZW5kQ2hpbGQoZnJhbWVUaWNrRWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvKiBzY3JvbGwgdG8gdGhlIHJpZ2h0ICovXHJcbiAgICAgICAgY29uc3QgdGFibGUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFuaW1hdGlvbl9jYWxsX3RhYmxlXCIpIGFzIEhUTUxUYWJsZUVsZW1lbnQ7XHJcbiAgICAgICAgdGFibGUuc2Nyb2xsTGVmdCA9IHRhYmxlLnNjcm9sbFdpZHRoO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZnJlc2hJbmZvKCk6IHZvaWQge1xyXG4gICAgICAgIGNvbnN0IG1lbW9yeSA9IHRoaXMubWVudS5tZW1vcnk7XHJcbiAgICAgICAgaWYgKG1lbW9yeS5hbGxvY2F0aW9uQWxnb3JpdGhtID09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbGwgc3RhcnRBbmltYXRpb24oKSBmaXJzdCFcIik7XHJcblxyXG4gICAgICAgIHRoaXMuaW5mb19hbGdvcml0aG0hLmlubmVySFRNTCA9IG1lbW9yeS5hbGxvY2F0aW9uQWxnb3JpdGhtLm5hbWU7XHJcbiAgICAgICAgdGhpcy5pbmZvX3RpbWUhLmlubmVySFRNTCA9IG1lbW9yeS50aW1lLnRvU3RyaW5nKCk7XHJcblxyXG4gICAgICAgIGlmIChtZW1vcnkuaXNGaW5pc2hlZCgpKVxyXG4gICAgICAgICAgICB0aGlzLmluZm9faXNfZG9uZSEuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRoaXMuaW5mb19pc19kb25lIS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgICAgIHRoaXMuaW5mb190b3RhbF9wYWdlX2hpdHMhLmlubmVySFRNTCA9IChtZW1vcnkuY2FsbF9oaXN0b3J5Lmxlbmd0aCAtIG1lbW9yeS50b3RhbF9wYWdlX2ZhdWx0cykudG9TdHJpbmcoKTtcclxuICAgICAgICB0aGlzLmluZm9fdG90YWxfcGFnZV9mYXVsdHMhLmlubmVySFRNTCA9IG1lbW9yeS50b3RhbF9wYWdlX2ZhdWx0cy50b1N0cmluZygpO1xyXG5cclxuICAgICAgICB0aGlzLmluZm9faW5fcXVldWUhLmlubmVySFRNTCA9IG1lbW9yeS5jYWxsX3F1ZXVlLmxlbmd0aC50b1N0cmluZygpO1xyXG4gICAgICAgIHRoaXMuaW5mb19maW5pc2hlZCEuaW5uZXJIVE1MID0gbWVtb3J5LmNhbGxfaGlzdG9yeS5sZW5ndGgudG9TdHJpbmcoKTtcclxuICAgIH1cclxuXHJcbiAgICByZWZyZXNoU3BlZWQoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMuc3RvcmVkU2V0SW50ZXJ2YWwgIT0gbnVsbClcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aGlzLnN0b3JlZFNldEludGVydmFsKTtcclxuXHJcbiAgICAgICAgdGhpcy5zdG9yZWRTZXRJbnRlcnZhbCA9IHNldEludGVydmFsKCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnBsYXlpbmcpIHtcclxuICAgICAgICAgICAgICAgIHRoaXMuc3RlcCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSkuYmluZCh0aGlzKSwgMTAwMCAvIHRoaXMuc3BlZWQpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0ZXAoKTogdm9pZCB7XHJcbiAgICAgICAgaWYgKHRoaXMubWVudS5tZW1vcnkuaXNGaW5pc2hlZCgpKVxyXG4gICAgICAgICAgICByZXR1cm47XHJcblxyXG4gICAgICAgIHRoaXMubWVudS5tZW1vcnkubmV4dFRpY2soKTtcclxuICAgICAgICB0aGlzLmRyYXdDdXJyZW50U3RhdGUoKTtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMubWVudS5tZW1vcnkuaXNGaW5pc2hlZCgpKSB7XHJcbiAgICAgICAgICAgIHRoaXMudG9nZ2xlUGxheWluZyhmYWxzZSk7XHJcbiAgICAgICAgICAgIHRoaXMubWVudS5tZW1vcnkuZGlzcGxheVJlc3VsdHModGhpcy5tZW51Lm1lbW9yeS5nZXRSZXN1bHRzKCkpO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5hZnRlckRvbmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgYWZ0ZXJEb25lKCk6IHZvaWQge1xyXG4gICAgICAgIGlmICh0aGlzLmluZm9faXNfZG9uZSA9PSBudWxsIHx8IHRoaXMucGxheV9wYXVzZV9idXR0b24gPT0gbnVsbCB8fCB0aGlzLnN0ZXBfYnV0dG9uID09IG51bGwpXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcImNhbGwgaW5pdCgpIGZpcnN0IVwiKTtcclxuXHJcbiAgICAgICAgdGhpcy5pbmZvX2lzX2RvbmUuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHJcbiAgICAgICAgdGhpcy5wbGF5X3BhdXNlX2J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICAgICAgdGhpcy5zdGVwX2J1dHRvbi5kaXNhYmxlZCA9IHRydWU7XHJcbiAgICB9XHJcbn0iLCJpbXBvcnQgUGFnZSBmcm9tIFwiLi9QYWdlXCI7XG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi9Qcm9jZXNzXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW1lIHtcbiAgICBzdGF0aWMgbmV4dF9pZDogbnVtYmVyID0gMFxuXG4gICAgaWQ6IG51bWJlclxuICAgIHBhZ2U6IFBhZ2UgfCBudWxsXG4gICAgcHJvY2VzczogUHJvY2VzcyB8IG51bGxcblxuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLnBhZ2UgPSBudWxsO1xuICAgICAgICB0aGlzLnByb2Nlc3MgPSBudWxsO1xuXG4gICAgICAgIHRoaXMuaWQgPSBGcmFtZS5uZXh0X2lkKys7XG4gICAgfVxufSIsImltcG9ydCBSZXBsYWNlbWVudEFsZ29yaXRobSBmcm9tIFwiLi9SZXBsYWNlbWVudEFsZ29yaXRobVwiO1xuaW1wb3J0IHsgTWVtb3J5U3RhdGVEYXRhIH0gZnJvbSBcIi4vQWxsb2NhdGluZ01NVVwiO1xuXG4vKipcbiAqIExlYXN0IFJlY2VudGx5IFVzZWQgKExSVSlcbiAqL1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTFJVIGltcGxlbWVudHMgUmVwbGFjZW1lbnRBbGdvcml0aG0ge1xuICAgIG5hbWU6IHN0cmluZyA9IFwiTFJVXCJcblxuICAgIGhhbmRsZVBhZ2VGYXVsdChkYXRhOiBNZW1vcnlTdGF0ZURhdGEpOiBudW1iZXIge1xuICAgICAgICAvKiBmaW5kIHRoZSBwYWdlIHRoYXQgd2FzIHVzZWQgdGhlIGxvbmdlc3QgYWdvICovXG4gICAgICAgIGxldCBmcmFtZV90b19yZXBsYWNlX2luZGV4ID0gLTE7XG4gICAgICAgIGxldCBsZWFzdF9yZWNlbnRseV91c2VkX3BhZ2VfaW5kZXggPSAtMTtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGRhdGEuY3VycmVudF9mcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGZyYW1lID0gZGF0YS5jdXJyZW50X2ZyYW1lc1tpXTtcblxuICAgICAgICAgICAgaWYgKGZyYW1lLnByb2Nlc3MgIT0gZGF0YS5wYWdlX2NhbGwucHJvY2Vzcykge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJGcmFtZSBpcyBhc3NpZ25lZCB0byBhIGRpZmZlcmVudCBwcm9jZXNzIC0gdGhpcyBzaG91bGQgYmUgZW5zdXJlZCBub3QgdG8gaGFwcGVuIGJ5IHRoZSBjYWxsZXJcIik7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChmcmFtZS5wYWdlID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICBjb25zb2xlLndhcm4oXCJGcmFtZSBpcyBlbXB0eSAtIHRoaXMgc2hvdWxkIGJlIGVuc3VyZWQgbm90IHRvIGhhcHBlbiBieSB0aGUgY2FsbGVyXCIpO1xuICAgICAgICAgICAgICAgIHJldHVybiBpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBsZXQgcGFnZV9pbmRleCA9IC0xO1xuICAgICAgICAgICAgZm9yIChsZXQgaiA9IGRhdGEucHJldmlvdXNfcGFnZV9jYWxscy5sZW5ndGggLSAxOyBqID49IDA7IGotLSkge1xuICAgICAgICAgICAgICAgIGNvbnN0IHByZXZpb3VzX3BhZ2VfY2FsbCA9IGRhdGEucHJldmlvdXNfcGFnZV9jYWxsc1tqXTtcblxuICAgICAgICAgICAgICAgIGlmIChwcmV2aW91c19wYWdlX2NhbGwuaWQgPT0gZnJhbWUucGFnZS5pZCkge1xuICAgICAgICAgICAgICAgICAgICBwYWdlX2luZGV4ID0gajtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAocGFnZV9pbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8qIHBhZ2Ugd2FzIG5ldmVyIHVzZWQgYmVmb3JlICovXG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmIChwYWdlX2luZGV4IDwgbGVhc3RfcmVjZW50bHlfdXNlZF9wYWdlX2luZGV4IHx8IGxlYXN0X3JlY2VudGx5X3VzZWRfcGFnZV9pbmRleCA9PSAtMSkge1xuICAgICAgICAgICAgICAgIC8qIHBhZ2Ugd2FzIHVzZWQgbG9uZ2VyIGFnbyAqL1xuICAgICAgICAgICAgICAgIGZyYW1lX3RvX3JlcGxhY2VfaW5kZXggPSBpO1xuICAgICAgICAgICAgICAgIGxlYXN0X3JlY2VudGx5X3VzZWRfcGFnZV9pbmRleCA9IHBhZ2VfaW5kZXg7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZGF0YS5jdXJyZW50X2ZyYW1lc1tmcmFtZV90b19yZXBsYWNlX2luZGV4XS5pZDtcbiAgICB9XG59XG4iLCJpbXBvcnQgSU1lbnUgZnJvbSBcIi4uLy4uL3NoYXJlZC9pbnRlcmZhY2VzL0lNZW51XCI7XG5pbXBvcnQgRGlzcGxheSBmcm9tIFwiLi4vLi4vc2hhcmVkL2NsYXNzZXMvRGlzcGxheVwiO1xuaW1wb3J0IEFsbG9jYXRpbmdNTVUgZnJvbSBcIi4vQWxsb2NhdGluZ01NVVwiO1xuaW1wb3J0IFByb2Nlc3MgZnJvbSBcIi4vUHJvY2Vzc1wiO1xuaW1wb3J0IFBhZ2UgZnJvbSBcIi4vUGFnZVwiO1xuaW1wb3J0IEVxdWFsIGZyb20gXCIuL2FsZ29yaXRobXMvRXF1YWxcIjtcbmltcG9ydCBBbmltYXRpb25HVUkgZnJvbSBcIi4vQW5pbWF0aW9uR1VJXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lbnUgaW1wbGVtZW50cyBJTWVudSB7XG4gICAgZGlzcGxheTogRGlzcGxheVxuICAgIG1lbW9yeTogQWxsb2NhdGluZ01NVVxuICAgIGFuaW1hdGlvbkdVSTogQW5pbWF0aW9uR1VJXG5cbiAgICBjb25zdHJ1Y3RvcigpIHtcbiAgICAgICAgdGhpcy5kaXNwbGF5ID0gbmV3IERpc3BsYXkoKTtcbiAgICAgICAgdGhpcy5tZW1vcnkgPSBuZXcgQWxsb2NhdGluZ01NVSgpO1xuXG4gICAgICAgIHRoaXMuYW5pbWF0aW9uR1VJID0gbmV3IEFuaW1hdGlvbkdVSSh0aGlzKTtcbiAgICB9XG5cbiAgICBpbml0KCk6IHZvaWQge1xuICAgICAgICBjb25zdCBydW5fYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJydW5fYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICBydW5fYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IHRoaXMucnVuKCkgfSk7XG5cbiAgICAgICAgY29uc3QgcnVuX3dpdGhfYW5pbWF0aW9uX2J1dHRvbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicnVuX3dpdGhfYW5pbWF0aW9uX2J1dHRvblwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICAgICAgcnVuX3dpdGhfYW5pbWF0aW9uX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLnJ1bih0cnVlKSB9KTtcblxuICAgICAgICBjb25zdCBhZGRfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhZGRfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICBhZGRfYnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7IHRoaXMuYWRkUHJvY2Vzc2VzKCkgfSk7XG5cbiAgICAgICAgY29uc3QgY2xlYXJfYnV0dG9uID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjbGVhcl9idXR0b25cIikgYXMgSFRNTEJ1dHRvbkVsZW1lbnQ7XG4gICAgICAgIGNsZWFyX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLmNsZWFyUHJvY2Vzc2VzKCkgfSk7XG5cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVfY2FsbF9xdWV1ZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdlbmVyYXRlX2NhbGxfcXVldWVfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICBnZW5lcmF0ZV9jYWxsX3F1ZXVlX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLmFkZENhbGxzKCkgfSk7XG5cbiAgICAgICAgY29uc3QgY2xlYXJfY2FsbF9xdWV1ZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImNsZWFyX2NhbGxfcXVldWVfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuICAgICAgICBjbGVhcl9jYWxsX3F1ZXVlX2J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4geyB0aGlzLmNsZWFyQ2FsbHMoKSB9KTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiBpbml0IFxuICAgICAgICAgKiBzZXQgY2FsbGJhY2sgZm9yIHJlc2l6ZVxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5tZW1vcnkuaW5pdCg1LCAzKTtcbiAgICAgICAgdGhpcy5kaXNwbGF5LmluaXQoXCJtYWluX2NhbnZhc1wiKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb25HVUkuaW5pdCgpO1xuICAgICAgICB0aGlzLmRpc3BsYXkuc2V0UmVzaXplQ2FsbGJhY2soKCkgPT4geyB0aGlzLnJlZnJlc2hDYWxscygpIH0pO1xuXG4gICAgICAgIC8qKiBcbiAgICAgICAgICogYmFzaWMgc2V0dGluZ3NcbiAgICAgICAgICovXG4gICAgICAgIGNvbnN0IG51bWJlcl9vZl9mcmFtZXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNfZnJhbWVfY291bnRcIikgYXMgSFRNTElucHV0RWxlbWVudDtcbiAgICAgICAgbnVtYmVyX29mX2ZyYW1lcy5hZGRFdmVudExpc3RlbmVyKFwiY2hhbmdlXCIsIChlOiBFdmVudCkgPT4ge1xuICAgICAgICAgICAgY29uc3QgbmV3X3ZhbCA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD5lLnRhcmdldCkudmFsdWUpO1xuXG4gICAgICAgICAgICBpZiAoaXNOYU4obmV3X3ZhbCkgfHwgbmV3X3ZhbCA8IDEpIHtcbiAgICAgICAgICAgICAgICBhbGVydChcIkludmFsaWQgbnVtYmVyIG9mIGZyYW1lc1wiKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHRoaXMubWVtb3J5LmluaXQodGhpcy5tZW1vcnkubnVtYmVyX29mX3BhZ2VzLCBuZXdfdmFsKTtcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaENhbGxzKCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIC8qKlxuICAgICAgICAgKiBhbGdvcml0aG0gc2VsZWN0XG4gICAgICAgICAqIC0+IGRpc2FibGUgcnVubmluZyB3aXRoIGFuaW1hdGlvbiBpZiBjb21wYXJlX2FsbFxuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgYWxnb3JpdGhtX3NlbGVjdCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwiYV90eXBlXCIpIGFzIEhUTUxTZWxlY3RFbGVtZW50O1xuICAgICAgICBhbGdvcml0aG1fc2VsZWN0LmFkZEV2ZW50TGlzdGVuZXIoXCJjaGFuZ2VcIiwgKGU6IEV2ZW50KSA9PiB7XG4gICAgICAgICAgICBpZiAoKDxIVE1MU2VsZWN0RWxlbWVudD5lLnRhcmdldCkudmFsdWUudG9Mb3dlckNhc2UoKSA9PT0gXCJjb21wYXJlX2FsbFwiKSB7XG4gICAgICAgICAgICAgICAgKDxIVE1MQnV0dG9uRWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJ1bl93aXRoX2FuaW1hdGlvbl9idXR0b25cIikpLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIFwidHJ1ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGVsc2Uge1xuICAgICAgICAgICAgICAgICg8SFRNTEJ1dHRvbkVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJydW5fd2l0aF9hbmltYXRpb25fYnV0dG9uXCIpKS5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgLyogXG4gICAgICAgICAqIHJlc3VsdHMgYnV0dG9uc1xuICAgICAgICAgKi9cbiAgICAgICAgY29uc3QgcmVzdWx0c19jbG9zZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicmVzdWx0c19jbG9zZVwiKSBhcyBIVE1MQnV0dG9uRWxlbWVudDtcbiAgICAgICAgcmVzdWx0c19jbG9zZS5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgICAgICAgKDxIVE1MRGl2RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInJlc3VsdHNfd3JhcHBlclwiKSkuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xuICAgICAgICB9KTtcblxuICAgICAgICAvKlxuICAgICAgICAgKiByZWZyZXNoIGNhbGxzIFxuICAgICAgICAgKi9cbiAgICAgICAgdGhpcy5yZWZyZXNoQ2FsbHMoKTtcbiAgICB9XG5cbiAgICBhZGRQcm9jZXNzZXMoKTogdm9pZCB7XG4gICAgICAgIGNvbnN0IHByb2Nlc3NfY291bnQgPSBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJjX2NvdW50XCIpKS52YWx1ZSk7XG5cbiAgICAgICAgY29uc3QgcGFnZV9yYW5nZV9taW4gPSBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzX21pbl9yYW5nZVwiKSkudmFsdWUpO1xuICAgICAgICBjb25zdCBwYWdlX3JhbmdlX21heCA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNfbWF4X3JhbmdlXCIpKS52YWx1ZSk7XG5cbiAgICAgICAgY29uc3QgY2FsbF9jb3VudF9taW4gPSBwYXJzZUludCgoPEhUTUxJbnB1dEVsZW1lbnQ+ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJzX21pbl9jYWxsc1wiKSkudmFsdWUpO1xuICAgICAgICBjb25zdCBjYWxsX2NvdW50X21heCA9IHBhcnNlSW50KCg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcInNfbWF4X2NhbGxzXCIpKS52YWx1ZSk7XG5cbiAgICAgICAgbGV0IGN1cnJlbnRfcmFuZ2VfbWluID0gMDtcblxuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IHByb2Nlc3NfY291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgcGFnZV9yYW5nZSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIChwYWdlX3JhbmdlX21heCAtIHBhZ2VfcmFuZ2VfbWluICsgMSkpICsgcGFnZV9yYW5nZV9taW47XG5cbiAgICAgICAgICAgIHRoaXMubWVtb3J5LmFkZFByb2Nlc3MobmV3IFByb2Nlc3MoW2N1cnJlbnRfcmFuZ2VfbWluLCBjdXJyZW50X3JhbmdlX21pbiArIHBhZ2VfcmFuZ2VdLCBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAoY2FsbF9jb3VudF9tYXggLSBjYWxsX2NvdW50X21pbiArIDEpKSArIGNhbGxfY291bnRfbWluKSk7XG4gICAgICAgICAgICB0aGlzLm1lbW9yeS5wcm9jZXNzZXNbdGhpcy5tZW1vcnkucHJvY2Vzc2VzLmxlbmd0aCAtIDFdLmdlbmVyYXRlQ2FsbHMoKTtcblxuICAgICAgICAgICAgY3VycmVudF9yYW5nZV9taW4gKz0gcGFnZV9yYW5nZTtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMucmVmcmVzaENhbGxzKCk7XG4gICAgfVxuXG4gICAgY2xlYXJQcm9jZXNzZXMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWVtb3J5LmNsZWFyUHJvY2Vzc2VzKCk7XG4gICAgICAgIHRoaXMucmVmcmVzaENhbGxzKCk7XG4gICAgfVxuXG4gICAgYWRkQ2FsbHMoKTogdm9pZCB7XG4gICAgICAgIC8qIGNvbWJpbmUgYWxsIHByb2Nlc3MgY2FsbHMgaW50byBvbmUgYXJyYXkgKi9cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbW9yeS5wcm9jZXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgdGhpcy5tZW1vcnkucHJvY2Vzc2VzW2ldLmdldENhbGxzKCkubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1lbW9yeS5jYWxsX3Bvb2wucHVzaChuZXcgUGFnZSh0aGlzLm1lbW9yeS5wcm9jZXNzZXNbaV0uZ2V0Q2FsbHMoKVtqXSwgdGhpcy5tZW1vcnkucHJvY2Vzc2VzW2ldKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgLyogc2h1ZmZsZSBhcnJheSAqL1xuICAgICAgICB0aGlzLm1lbW9yeS5jYWxsX3Bvb2wuc29ydCgoKSA9PiBNYXRoLnJhbmRvbSgpIC0gMC41KTtcblxuICAgICAgICB0aGlzLnJlZnJlc2hDYWxscygpO1xuICAgIH1cblxuICAgIGNsZWFyQ2FsbHMoKTogdm9pZCB7XG4gICAgICAgIHRoaXMubWVtb3J5LmNhbGxfcG9vbCA9IFtdO1xuICAgICAgICB0aGlzLnJlZnJlc2hDYWxscygpO1xuICAgIH1cblxuICAgIHJlZnJlc2hDYWxscygpOiB2b2lkIHtcbiAgICAgICAgY29uc3QgY3VycmVudF9jb3VudF9lbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicF9jdXJyZW50X2NvdW50XCIpIGFzIEhUTUxQYXJhZ3JhcGhFbGVtZW50O1xuICAgICAgICBjdXJyZW50X2NvdW50X2VsLmlubmVySFRNTCA9IGAoJHt0aGlzLm1lbW9yeS5wcm9jZXNzZXMubGVuZ3RoLnRvU3RyaW5nKCl9KWA7XG5cbiAgICAgICAgY29uc3QgZ2VuZXJhdGVfY2FsbF9xdWV1ZV9idXR0b24gPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImdlbmVyYXRlX2NhbGxfcXVldWVfYnV0dG9uXCIpIGFzIEhUTUxCdXR0b25FbGVtZW50O1xuXG4gICAgICAgIGlmICh0aGlzLm1lbW9yeS5wcm9jZXNzZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgZ2VuZXJhdGVfY2FsbF9xdWV1ZV9idXR0b24ucmVtb3ZlQXR0cmlidXRlKFwiZGlzYWJsZWRcIik7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBnZW5lcmF0ZV9jYWxsX3F1ZXVlX2J1dHRvbi5hdHRyaWJ1dGVzLnNldE5hbWVkSXRlbShkb2N1bWVudC5jcmVhdGVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKSk7XG4gICAgICAgIH1cblxuICAgICAgICAvKiBkaXNwbGF5IGluZGl2aWR1YWwgcHJvY2VzcyBjYWxscyAqL1xuICAgICAgICBjb25zdCBhbGxfcHJvY2Vzc2VzX2VsID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJhbGxfcHJvY2Vzc2VzXCIpIGFzIEhUTUxEaXZFbGVtZW50O1xuICAgICAgICBhbGxfcHJvY2Vzc2VzX2VsLmlubmVySFRNTCA9IFwiXCI7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm1lbW9yeS5wcm9jZXNzZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3MgPSB0aGlzLm1lbW9yeS5wcm9jZXNzZXNbaV07XG5cbiAgICAgICAgICAgIGNvbnN0IHByb2Nlc3NfZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3BhblwiKTtcbiAgICAgICAgICAgIHByb2Nlc3NfZWwuY2xhc3NMaXN0LmFkZChcInByb2Nlc3NcIik7XG5cbiAgICAgICAgICAgIHByb2Nlc3NfZWwuaW5uZXJIVE1MID0gYDxzcGFuIGNsYXNzPVwicHJvY2Vzc19uYW1lXCI+Q2FsbHMgZm9yIHByb2Nlc3MgJHtpfTogPC9zcGFuPiA8c3BhbiBjbGFzcz1cInByb2Nlc3NfY2FsbHNcIj4ke3Byb2Nlc3MuZ2V0Q2FsbHMoKS5qb2luKFwiLCBcIil9PC9zcGFuPjxiciAvPmA7XG5cbiAgICAgICAgICAgIGFsbF9wcm9jZXNzZXNfZWwuYXBwZW5kQ2hpbGQocHJvY2Vzc19lbCk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAodGhpcy5tZW1vcnkucHJvY2Vzc2VzLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBhbGxfcHJvY2Vzc2VzX2VsLmlubmVySFRNTCA9IFwiPHNwYW4gc3R5bGU9J2NvbG9yOiB5ZWxsb3cnPk5vIHByb2Nlc3NlcyBhZGRlZCB5ZXQuPC9zcGFuPlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogZGlzcGxheSBjYWxsIHF1ZXVlICovXG4gICAgICAgIGNvbnN0IGNhbGxfY291bnRfZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImN1cnJlbnRfY2FsbF9jb3VudFwiKSBhcyBIVE1MUGFyYWdyYXBoRWxlbWVudDtcbiAgICAgICAgY2FsbF9jb3VudF9lbC5pbm5lckhUTUwgPSBgKCR7dGhpcy5tZW1vcnkuY2FsbF9wb29sLmxlbmd0aC50b1N0cmluZygpfSlgO1xuXG4gICAgICAgIGNvbnN0IGNhbGxfcXVldWVfZWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChcIm1haW5fY2FsbF9xdWV1ZVwiKSBhcyBIVE1MRGl2RWxlbWVudDtcbiAgICAgICAgY2FsbF9xdWV1ZV9lbC5pbm5lckhUTUwgPSB0aGlzLm1lbW9yeS5jYWxsX3Bvb2wubWFwKChwYWdlKSA9PiB7IHJldHVybiBwYWdlLmlkIH0pLmpvaW4oXCIsIFwiKTtcblxuICAgICAgICBpZiAodGhpcy5tZW1vcnkuY2FsbF9wb29sLmxlbmd0aCA9PSAwKSB7XG4gICAgICAgICAgICBjYWxsX3F1ZXVlX2VsLmlubmVySFRNTCA9IFwiPHNwYW4gc3R5bGU9J2NvbG9yOiB5ZWxsb3cnPk5vIGNhbGxzIGluIHF1ZXVlLjwvc3Bhbj5cIjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHJ1bihhbmltYXRpb24/OiBib29sZWFuIHwgdW5kZWZpbmVkKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLm1lbW9yeS5wcm9jZXNzZXMubGVuZ3RoID4gdGhpcy5tZW1vcnkuZnJhbWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgYWxlcnQoXCJOb3QgZW5vdWdoIGZyYW1lcyBmb3IgYWxsIHByb2Nlc3Nlc1wiKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGNvbnN0IGFsZ1N0ciA9ICg8SFRNTElucHV0RWxlbWVudD5kb2N1bWVudC5nZXRFbGVtZW50QnlJZChcImFfdHlwZVwiKSkudmFsdWU7XG4gICAgICAgIGxldCBjb21wYXJlX2FsbDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgICAgIHN3aXRjaCAoYWxnU3RyLnRvTG93ZXJDYXNlKCkpIHtcbiAgICAgICAgICAgIGNhc2UgXCJlcXVhbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5tZW1vcnkuc2V0QWxnb3JpdGhtKG5ldyBFcXVhbCgpKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcInByb3BvcnRpb25hbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwiZmF1bHRfY29udHJvbFwiOlxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm90IGltcGxlbWVudGVkXCIpO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBjYXNlIFwibG9jYWxpdHlfbW9kZWxcIjpcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihcIk5vdCBpbXBsZW1lbnRlZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2FzZSBcImNvbXBhcmVfYWxsXCI6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBjb21wYXJlX2FsbCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRlZmF1bHQ6XG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBhbGVydChcIkludmFsaWQgYWxnb3JpdGhtXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChjb21wYXJlX2FsbCkge1xuICAgICAgICAgICAgY29uc3QgYWxnb3JpdGhtcyA9IFtcbiAgICAgICAgICAgICAgICBuZXcgRXF1YWwoKSxcbiAgICAgICAgICAgIF07XG5cbiAgICAgICAgICAgIC8vIHRoaXMubWVtb3J5LmNvbXBhcmVBbGxBbmREaXNwbGF5UmVzdWx0cyhhbGdvcml0aG1zKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChhbmltYXRpb24pIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9uR1VJLnN0YXJ0QW5pbWF0aW9uKCk7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHRzID0gdGhpcy5tZW1vcnkuc2ltdWxhdGUoKTtcbiAgICAgICAgICAgIHRoaXMubWVtb3J5LmRpc3BsYXlSZXN1bHRzKHJlc3VsdHMpO1xuICAgICAgICB9XG4gICAgfVxufVxuIiwiaW1wb3J0IFByb2Nlc3MgZnJvbSBcIi4vUHJvY2Vzc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYWdlIHtcbiAgICBpZDogbnVtYmVyXG4gICAgbGFzdF9jYWxsX3RpbWU6IG51bWJlciA9IDBcbiAgICBwcm9jZXNzOiBQcm9jZXNzXG5cbiAgICBjb25zdHJ1Y3RvcihpZDogbnVtYmVyLCBwcm9jZXNzOiBQcm9jZXNzKSB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5wcm9jZXNzID0gcHJvY2VzcztcbiAgICB9XG5cbiAgICBjYWxsKHRpbWU6IG51bWJlcik6IHZvaWQge1xuICAgICAgICB0aGlzLmxhc3RfY2FsbF90aW1lID0gdGltZTtcbiAgICB9XG59IiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUHJvY2VzcyB7XG4gICAgcmFuZ2Vfb2ZfcGFnZXM6IFtudW1iZXIsIG51bWJlcl1cbiAgICBudW1iZXJfb2ZfY2FsbHM6IG51bWJlclxuICAgIGlkOiBudW1iZXJcblxuICAgIHN0YXRpYyBuZXh0X2lkOiBudW1iZXIgPSAwXG5cbiAgICBwcml2YXRlIGNhbGxzOiBBcnJheTxudW1iZXI+ID0gW11cblxuICAgIGNvbnN0cnVjdG9yKHJhbmdlX29mX3BhZ2VzOiBbbnVtYmVyLCBudW1iZXJdLCBudW1iZXJfb2ZfY2FsbHM6IG51bWJlcikge1xuICAgICAgICB0aGlzLnJhbmdlX29mX3BhZ2VzID0gcmFuZ2Vfb2ZfcGFnZXM7XG4gICAgICAgIHRoaXMubnVtYmVyX29mX2NhbGxzID0gbnVtYmVyX29mX2NhbGxzO1xuXG4gICAgICAgIHRoaXMuaWQgPSBQcm9jZXNzLm5leHRfaWQrKztcbiAgICB9XG5cbiAgICBnZW5lcmF0ZUNhbGxzKCk6IHZvaWQge1xuICAgICAgICB0aGlzLmNhbGxzID0gW107XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLm51bWJlcl9vZl9jYWxsczsgaSsrKSB7XG4gICAgICAgICAgICB0aGlzLmNhbGxzLnB1c2goTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogKHRoaXMucmFuZ2Vfb2ZfcGFnZXNbMV0gLSB0aGlzLnJhbmdlX29mX3BhZ2VzWzBdKSkgKyB0aGlzLnJhbmdlX29mX3BhZ2VzWzBdKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldENhbGxzKCk6IEFycmF5PG51bWJlcj4ge1xuICAgICAgICByZXR1cm4gdGhpcy5jYWxscztcbiAgICB9XG59XG4iLCJpbXBvcnQgQWxsb2NhdGlvbkFsZ29yaXRobSBmcm9tIFwiLi4vQWxsb2NhdGlvbkFsZ29yaXRobVwiO1xuXG5pbXBvcnQgUHJvY2VzcyBmcm9tIFwiLi4vUHJvY2Vzc1wiO1xuaW1wb3J0IEZyYW1lIGZyb20gXCIuLi9GcmFtZVwiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBFcXVhbCBpbXBsZW1lbnRzIEFsbG9jYXRpb25BbGdvcml0aG0ge1xuICAgIG5hbWU6IHN0cmluZyA9IFwiRXF1YWxcIlxuXG4gICAgYWxsb2NhdGVGcmFtZXMoZnJhbWVzOiBBcnJheTxGcmFtZT4sIHByb2Nlc3NlczogUmVhZG9ubHlBcnJheTxSZWFkb25seTxQcm9jZXNzPj4pOiB2b2lkIHtcbiAgICAgICAgY29uc3QgZnJhbWVzX3Blcl9wcm9jZXNzID0gTWF0aC5mbG9vcihmcmFtZXMubGVuZ3RoIC8gcHJvY2Vzc2VzLmxlbmd0aCk7XG5cbiAgICAgICAgY29uc29sZS5sb2coYEFsbG9jYXRpbmcgJHtmcmFtZXNfcGVyX3Byb2Nlc3N9IGZyYW1lcyBwZXIgcHJvY2Vzc2ApO1xuICAgICAgICBjb25zb2xlLmxvZyhgZGF0YS5jdXJyZW50X2ZyYW1lcy5sZW5ndGggPSAke2ZyYW1lcy5sZW5ndGh9LCBkYXRhLnByb2Nlc3Nlcy5sZW5ndGggPSAke3Byb2Nlc3Nlcy5sZW5ndGh9YCk7XG5cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBmcmFtZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChmcmFtZXNbaV0ucHJvY2VzcyAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgY29udGludWU7IC8vIHNraXAgdGhpcyBmcmFtZSBpZiBpdCdzIGFscmVhZHkgYWxsb2NhdGVkXG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZyYW1lc1tpXS5wcm9jZXNzID0gPFByb2Nlc3M+cHJvY2Vzc2VzW01hdGguZmxvb3IoaSAvIGZyYW1lc19wZXJfcHJvY2VzcyldO1xuICAgICAgICB9XG5cbiAgICAgICAgLyogdGhlIHJlbWFpbmluZyBmcmFtZXMgYXJlIGxlZnQgdW5hbGxvY2F0ZWQgKi9cbiAgICB9XG59IiwiaW1wb3J0IE1lbnUgZnJvbSBcIi4vY2xhc3Nlcy9NZW51XCI7XG5cbmZ1bmN0aW9uIG1haW4oKSB7XG4gICAgaWYgKHR5cGVvZiBkb2N1bWVudCAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICBjb25zdCBtZW51ID0gbmV3IE1lbnUoKTtcbiAgICAgICAgbWVudS5pbml0KCk7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgICAvKlxuICAgICAgICAqIHJ1biB3aXRoOiB0c2MgJiYgbm9kZSAuXFxkaXN0XFxmcmFtZV9hbGxvY2F0aW9uX3NyY1xcbWFpbi5qc1xuICAgICAgICAqL1xuXG4gICAgfVxufVxuXG5tYWluKCk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBEaXNwbGF5IHtcbiAgICBjdHg6IENhbnZhc1JlbmRlcmluZ0NvbnRleHQyRCB8IG51bGwgPSBudWxsXG4gICAgcmVzaXplQ2FsbGJhY2s6ICgoKSA9PiB2b2lkKSB8IG51bGxcblxuICAgIGNvbnN0cnVjdG9yKCl7XG4gICAgICAgIHRoaXMucmVzaXplQ2FsbGJhY2sgPSBudWxsO1xuICAgIH1cbiAgICBcbiAgICBpbml0KGVsZW1faWQ6IHN0cmluZyk6IHZvaWQge1xuICAgICAgICBjb25zdCBjYW52YXMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChlbGVtX2lkKSBhcyBIVE1MQ2FudmFzRWxlbWVudDtcbiAgICAgICAgdGhpcy5jdHggPSBjYW52YXMuZ2V0Q29udGV4dCgnMmQnKSBhcyBDYW52YXNSZW5kZXJpbmdDb250ZXh0MkQ7XG5cbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJyZXNpemVcIiwgdGhpcy5yZXNpemVUb0ZpdC5iaW5kKHRoaXMpKTtcblxuICAgICAgICB0aGlzLnJlc2l6ZVRvRml0KCk7XG4gICAgfVxuXG4gICAgcmVzaXplVG9GaXQoKTogdm9pZCB7XG4gICAgICAgIGlmICh0aGlzLmN0eCA9PSBudWxsKXtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIHRoaXMuY3R4LmNhbnZhcy53aWR0aCA9IHdpbmRvdy5pbm5lcldpZHRoO1xuICAgICAgICB0aGlzLmN0eC5jYW52YXMuaGVpZ2h0ID0gd2luZG93LmlubmVySGVpZ2h0O1xuXG4gICAgICAgIGlmICh0aGlzLnJlc2l6ZUNhbGxiYWNrICE9IG51bGwpe1xuICAgICAgICAgICAgdGhpcy5yZXNpemVDYWxsYmFjaygpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc2V0UmVzaXplQ2FsbGJhY2soY2FsbGJhY2s6ICgpID0+IHZvaWQpOiB2b2lkIHtcbiAgICAgICAgdGhpcy5yZXNpemVDYWxsYmFjayA9IGNhbGxiYWNrO1xuICAgIH1cbn0iLCIvLyBUaGUgbW9kdWxlIGNhY2hlXG52YXIgX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fID0ge307XG5cbi8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG5mdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuXHR2YXIgY2FjaGVkTW9kdWxlID0gX193ZWJwYWNrX21vZHVsZV9jYWNoZV9fW21vZHVsZUlkXTtcblx0aWYgKGNhY2hlZE1vZHVsZSAhPT0gdW5kZWZpbmVkKSB7XG5cdFx0cmV0dXJuIGNhY2hlZE1vZHVsZS5leHBvcnRzO1xuXHR9XG5cdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG5cdHZhciBtb2R1bGUgPSBfX3dlYnBhY2tfbW9kdWxlX2NhY2hlX19bbW9kdWxlSWRdID0ge1xuXHRcdC8vIG5vIG1vZHVsZS5pZCBuZWVkZWRcblx0XHQvLyBubyBtb2R1bGUubG9hZGVkIG5lZWRlZFxuXHRcdGV4cG9ydHM6IHt9XG5cdH07XG5cblx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG5cdF9fd2VicGFja19tb2R1bGVzX19bbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG5cdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG5cdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbn1cblxuIiwiLy8gc3RhcnR1cFxuLy8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4vLyBUaGlzIGVudHJ5IG1vZHVsZSBpcyByZWZlcmVuY2VkIGJ5IG90aGVyIG1vZHVsZXMgc28gaXQgY2FuJ3QgYmUgaW5saW5lZFxudmFyIF9fd2VicGFja19leHBvcnRzX18gPSBfX3dlYnBhY2tfcmVxdWlyZV9fKDk2NSk7XG4iXSwibmFtZXMiOlsiY29uc3RydWN0b3IiLCJwcm9jZXNzZXMiLCJmcmFtZXMiLCJjYWxsX3Bvb2wiLCJjYWxsX3F1ZXVlIiwiY2FsbF9oaXN0b3J5IiwibnVtYmVyX29mX2ZyYW1lcyIsIm51bWJlcl9vZl9wYWdlcyIsImFsbG9jYXRpb25BbGdvcml0aG0iLCJyZXBsYWNlbWVudEFsZ29yaXRobSIsInRvdGFsX3BhZ2VfZmF1bHRzIiwidGltZSIsImxhc3RfY2FsbF9jYXVzZWRfZmF1bHQiLCJpbml0IiwidGhpcyIsImkiLCJwdXNoIiwiYWRkUHJvY2VzcyIsInByb2Nlc3MiLCJjbGVhclByb2Nlc3NlcyIsImdlbmVyYXRlUGFnZUNhbGxQb29sIiwibGVuZ3RoIiwiZ2VuZXJhdGVDYWxscyIsImFkZFBhZ2VDYWxsc1RvUG9vbCIsImdldENhbGxzIiwiYWRkUGFnZUNhbGxUb1Bvb2wiLCJwYWdlX2NhbGwiLCJwYWdlX2NhbGxzIiwiY2xlYXJQYWdlQ2FsbFBvb2wiLCJzZXRBbGdvcml0aG0iLCJhbGdvcml0aG0iLCJuZXh0VGljayIsIkVycm9yIiwic2hpZnQiLCJjb25zb2xlIiwid2FybiIsImxvZyIsImlkIiwiYWxsb2NhdGVGcmFtZXMiLCJ1bmFsbG9jYXRlZEZyYW1lc0xlbmd0aCIsImZpbHRlciIsImZyYW1lIiwib25QYWdlQ2FsbCIsImdldEN1cnJlbnRTdGF0ZURhdGEiLCJwYWdlX2ZhdWx0IiwicGFnZSIsIm9uUGFnZUFscmVhZHlJbk1lbW9yeSIsImZpbmQiLCJpZF9vZl9mcmFtZV90b19yZXBsYWNlIiwiaGFuZGxlUGFnZUZhdWx0IiwiZ2V0RnJhbWVJbmRleEJ5SWQiLCJwYWdlX2luX21lbW9yeSIsImNhbGwiLCJwcm9jZXNzX2ZyYW1lcyIsInByb2Nlc3NfY2FsbF9oaXN0b3J5IiwiY3VycmVudF9mcmFtZXMiLCJwcmV2aW91c19wYWdlX2NhbGxzIiwiaXNGaW5pc2hlZCIsImdldFJlc3VsdHMiLCJ0b3RhbF9wYWdlX2hpdHMiLCJ0b3RhbF9jYWxscyIsInNpbXVsYXRlIiwiZGlzcGxheVJlc3VsdHMiLCJyZXN1bHRzIiwiYWxnU3RyIiwibmFtZSIsImRvY3VtZW50IiwiZ2V0RWxlbWVudEJ5SWQiLCJzdHlsZSIsImRpc3BsYXkiLCJpbm5lckhUTUwiLCJ0b1VwcGVyQ2FzZSIsInRvRml4ZWQiLCJyZXBsYWNlIiwiUmVnRXhwIiwibWVudSIsInZpc2libGUiLCJwbGF5aW5nIiwic3BlZWQiLCJHVUkiLCJNRU5VIiwicGxheV9wYXVzZV9idXR0b24iLCJzdGVwX2J1dHRvbiIsInN0b3BfYnV0dG9uIiwic3BlZWRfc2xpZGVyIiwiaW5mb19hbGdvcml0aG0iLCJpbmZvX3RpbWUiLCJpbmZvX2lzX2RvbmUiLCJpbmZvX2luX3F1ZXVlIiwiaW5mb19maW5pc2hlZCIsImluZm9fdG90YWxfcGFnZV9mYXVsdHMiLCJpbmZvX3RvdGFsX3BhZ2VfaGl0cyIsImZyYW1lX3Jvd3MiLCJzZWVfY29kZV9idXR0b24iLCJzdG9yZWRTZXRJbnRlcnZhbCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVQbGF5aW5nIiwic3RlcCIsInRvZ2dsZVZpc2libGUiLCJwYXJzZUludCIsInZhbHVlIiwicmVmcmVzaFNwZWVkIiwibWVtb3J5IiwiYWxnb3JpdGhtTmFtZSIsIndpbmRvdyIsIm9wZW4iLCJmb2N1cyIsImluaXRTdGF0ZVRhYmxlIiwicmVzaXplQ2FsbGJhY2siLCJkcmF3Q3VycmVudFN0YXRlIiwiY2xlYXJJbnRlcnZhbCIsInJlZnJlc2hDYWxscyIsInJlc2V0IiwiZGlzYWJsZWQiLCJzdGFydEFuaW1hdGlvbiIsInJlZnJlc2hJbmZvIiwiZHJhd0NhbGxzIiwidGltZV9yb3ciLCJjYWxsc19yb3ciLCJ0Ym9keSIsInRpbWVfcm93X2hlYWRlciIsImNyZWF0ZUVsZW1lbnQiLCJjbGFzc0xpc3QiLCJhZGQiLCJhcHBlbmRDaGlsZCIsImNhbGxzX3Jvd19oZWFkZXIiLCJsYXN0Q2hpbGQiLCJyZW1vdmVDaGlsZCIsImZyYW1lX3JvdyIsImZyYW1lX3Jvd19oZWFkZXIiLCJTVEFSVF9YIiwiU1RBUlRfWSIsIldJRFRIIiwiSEVJR0hUIiwiY2FsbHNUb0RyYXciLCJuZXdDYWxsIiwiYXQiLCJ0aW1lVGlja0VsIiwiY2FsbHNUaWNrRWwiLCJmcmFtZVRpY2tFbCIsImJhY2tncm91bmRDb2xvciIsInRhYmxlIiwic2Nyb2xsTGVmdCIsInNjcm9sbFdpZHRoIiwidG9TdHJpbmciLCJzZXRJbnRlcnZhbCIsImJpbmQiLCJhZnRlckRvbmUiLCJGcmFtZSIsIm5leHRfaWQiLCJkYXRhIiwiZnJhbWVfdG9fcmVwbGFjZV9pbmRleCIsImxlYXN0X3JlY2VudGx5X3VzZWRfcGFnZV9pbmRleCIsImVycm9yIiwicGFnZV9pbmRleCIsImoiLCJhbmltYXRpb25HVUkiLCJydW4iLCJhZGRQcm9jZXNzZXMiLCJhZGRDYWxscyIsImNsZWFyQ2FsbHMiLCJzZXRSZXNpemVDYWxsYmFjayIsImUiLCJuZXdfdmFsIiwidGFyZ2V0IiwiaXNOYU4iLCJhbGVydCIsInRvTG93ZXJDYXNlIiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwicHJvY2Vzc19jb3VudCIsInBhZ2VfcmFuZ2VfbWluIiwicGFnZV9yYW5nZV9tYXgiLCJjYWxsX2NvdW50X21pbiIsImNhbGxfY291bnRfbWF4IiwiY3VycmVudF9yYW5nZV9taW4iLCJwYWdlX3JhbmdlIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwic29ydCIsImdlbmVyYXRlX2NhbGxfcXVldWVfYnV0dG9uIiwiYXR0cmlidXRlcyIsInNldE5hbWVkSXRlbSIsImNyZWF0ZUF0dHJpYnV0ZSIsImFsbF9wcm9jZXNzZXNfZWwiLCJwcm9jZXNzX2VsIiwiam9pbiIsImNhbGxfcXVldWVfZWwiLCJtYXAiLCJhbmltYXRpb24iLCJjb21wYXJlX2FsbCIsImxhc3RfY2FsbF90aW1lIiwiUHJvY2VzcyIsInJhbmdlX29mX3BhZ2VzIiwibnVtYmVyX29mX2NhbGxzIiwiY2FsbHMiLCJmcmFtZXNfcGVyX3Byb2Nlc3MiLCJjdHgiLCJlbGVtX2lkIiwiY2FudmFzIiwiZ2V0Q29udGV4dCIsInJlc2l6ZVRvRml0Iiwid2lkdGgiLCJpbm5lcldpZHRoIiwiaGVpZ2h0IiwiaW5uZXJIZWlnaHQiLCJjYWxsYmFjayIsIl9fd2VicGFja19tb2R1bGVfY2FjaGVfXyIsIl9fd2VicGFja19yZXF1aXJlX18iLCJtb2R1bGVJZCIsImNhY2hlZE1vZHVsZSIsInVuZGVmaW5lZCIsImV4cG9ydHMiLCJtb2R1bGUiLCJfX3dlYnBhY2tfbW9kdWxlc19fIl0sInNvdXJjZVJvb3QiOiIifQ==